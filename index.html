<!DOCTYPE html>
<html>
  <head>
    <title>BookReader Demos</title>

    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
    <meta name="apple-mobile-web-app-capable" content="yes">
  </head>
  <body>
    <section id="temp-demo">
      <style>
        form {
          /* display: flex; */
        }
        label, input {
          display: block;
          margin: 5px 0;
        }
        input {
          min-width: 250px;
          min-height: 20px;
          border: 1px solid;
          padding: 0 10px;
        }
      </style>
      <!-- <h2>Book</h2> -->
      <!-- <form id="item-link" style="">
        <label for="item-id-field">a certain item identifier:</label>
        <input type="text" id="item-id-field" value="whatdoesyourhand0000nady">
        <label for="item-leaf-page-field">a certain leaf or page number:</label>
        <input type="text" id="item-leaf-page-field" value="n49">
        <button type="submit">Submit</button>
      </form> -->
      <script>
        const form = document.getElementById('item-link');
        form.addEventListener('submit', (e) => {
          e.preventDefault();
          const form = document.getElementById('item-link');
          const newid = form.querySelector('input#item-id-field')?.value;
          const newLeafOrPageNum = form.querySelector('input#item-leaf-page-field')?.value;
          const pageInfo = newLeafOrPageNum ? `/page/${newLeafOrPageNum}` : '';
          const str = `http://archive.org/details/${newid}${pageInfo}`;
          const url = new URL(str);
          debugger;

          console.log({
            form,
            newid,
            newLeafOrPageNum,
            pageInfo,
            url,
            href: url.href,
            str
          });
          if (!newid) return;
  
          window.location = url.href;
        });
       </script>

       <ul>
        <li><a href="https://archive.org/details/whatdoesyourhand0000nady/page/n49/mode/2up">whatdoesyourhand0000nady - leaf n49</a></li>
        <li><a href="https://archive.org/details/twelveblackflori0000neyl/page/n22/mode/2up">twelveblackflori0000neyl - leaf n22</a></li>
        <li><a href="https://archive.org/details/ilovemyselfwheni0000hurs/page/n142/mode/2up">ilovemyselfwheni0000hurs - leaf n142</a></li>
        <li><a href="https://archive.org/details/newplaysforblack00king/page/n222/mode/2up">newplaysforblack00king - leaf n222</a></li>
        <li><a href="https://archive.org/details/zoranealehurston0000mcki_p4z4/page/16/mode/2up">zoranealehurston0000mcki_p4z4 - page 16</a></li>
       </ul>
     </section>
     <br>
     <br>
  </body>
</html>
