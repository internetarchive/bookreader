/*
 * jQuery mmenu screenReader addon
 * mmenu.frebsite.nl
 *
 * Copyright (c) Fred Heusschen
 */
!function(n){function e(n,e,t){n.prop("aria-"+e,t)[t?"attr":"removeAttr"]("aria-"+e,"true")}function t(n){return'<span class="'+u.sronly+'">'+n+"</span>"}var i="mmenu",s="screenReader";n[i].addons[s]={setup:function(){var d=this.opts[s],o=this.conf[s];if(a=n[i].glbl,"boolean"==typeof d&&(d={aria:d,text:d}),"object"!=typeof d&&(d={}),d=this.opts[s]=n.extend(!0,{},n[i].defaults[s],d),d.aria){if(this.opts.offCanvas){var h=function(){e(this.$menu,"hidden",!1)},l=function(){e(this.$menu,"hidden",!0)};this.bind("open",h),this.bind("close",l),l.call(this)}var r=function(){e(this.$menu.find("."+u.hidden),"hidden",!0),e(this.$menu.find('[aria-hidden="true"]').not("."+u.hidden),"hidden",!1)},c=function(n){e(this.$pnls.children("."+u.panel).not(n).not("."+u.hidden),"hidden",!0),e(n,"hidden",!1)};this.bind("update",r),this.bind("openPanel",r),this.bind("openPanel",c);var f=function(n){e(n.find("."+u.prev+", ."+u.next),"haspopup",!0)};this.bind("init",f),f.call(this,this.$menu.children("."+u.navbar))}if(d.text){var p=function(e){e.children("."+u.navbar).children("."+u.prev).html(t(o.text.closeSubmenu)).end().children("."+u.next).html(t(o.text.openSubmenu)).end().children("."+u.close).html(t(o.text.closeMenu)),e.is("."+u.panel)&&e.find("."+u.listview).find("."+u.next).each(function(){n(this).html(t(o.text[n(this).parent().is("."+u.vertical)?"toggleSubmenu":"openSubmenu"]))})};this.bind("init",p),p.call(this,this.$menu)}},add:function(){u=n[i]._c,d=n[i]._d,o=n[i]._e,u.add("sronly")},clickAnchor:function(n,e){}},n[i].defaults[s]={aria:!1,text:!1},n[i].configuration[s]={text:{closeMenu:"Close menu",closeSubmenu:"Close submenu",openSubmenu:"Open submenu",toggleSubmenu:"Toggle submenu"}};var u,d,o,a}(jQuery);