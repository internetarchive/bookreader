{"version":3,"sources":["webpack://@internetarchive/bookreader/./node_modules/jquery-colorbox/jquery.colorbox.js"],"names":["$","document","window","$overlay","$box","$wrap","$content","$topBorder","$leftBorder","$rightBorder","$bottomBorder","$related","$window","$loaded","$loadingBay","$loadingOverlay","$title","$current","$slideshow","$next","$prev","$close","$groupControls","settings","interfaceHeight","interfaceWidth","loadedHeight","loadedWidth","index","photo","open","active","closing","loadingTimer","publicMethod","init","defaults","html","iframe","inline","transition","speed","fadeOut","width","initialWidth","innerWidth","maxWidth","height","initialHeight","innerHeight","maxHeight","scalePhotos","scrolling","opacity","preloading","className","overlayClose","escKey","arrowKey","top","bottom","left","right","fixed","data","undefined","closeButton","fastIframe","reposition","loop","slideshow","slideshowAuto","slideshowSpeed","slideshowStart","slideshowStop","photoRegex","retinaImage","retinaUrl","retinaSuffix","current","previous","next","close","xhrError","imgError","returnFocus","trapFocus","onOpen","onLoad","onComplete","onCleanup","onClosed","rel","this","href","attr","title","createImg","img","Image","attrs","each","key","val","createIframe","createElement","frameBorder","allowTransparency","name","Date","getTime","allowFullscreen","colorbox","boxElement","prefix","event_load","event_complete","event_cleanup","event_closed","event_purge","$events","div","requests","previousCSS","$tag","tag","id","css","element","style","cssText","winheight","Settings","options","Object","cache","el","value","dataAttr","get","isFunction","call","getIndex","increment","max","length","newIndex","setSize","size","dimension","Math","round","test","parseInt","isImage","url","devicePixelRatio","replace","e","contains","target","stopPropagation","focus","setClass","str","add","removeClass","addClass","trigger","event","triggerHandler","timeOut","click","clear","clearTimeout","set","setTimeout","start","unbind","one","stop","bind","reset","hide","show","launch","filter","visibility","display","append","outerHeight","outerWidth","w","min","h","position","addEventListener","removeEventListener","parseFloat","cursor","appendTo","setResize","$inline","prep","request","mw","mh","$target","eq","insertBefore","replaceWith","percent","marginTop","src","load","status","contents","appendHTML","support","role","tabindex","find","body","parent","fn","callback","$obj","clickHandler","which","shiftKey","altKey","metaKey","ctrlKey","preventDefault","prev","keyCode","on","live","addBindings","old","extend","loadedCallback","scrollTop","scrollLeft","offset","modalDimensions","tempSpeed","i","dequeue","animate","duration","complete","step","resize","scrolltop","object","remove","overflow","prependTo","total","removeFilter","removeAttribute","fadeTo","removeData","jQuery"],"mappings":"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","file":"jquery.colorbox-min.js","sourcesContent":["/*!\n\tColorbox 1.6.4\n\tlicense: MIT\n\thttp://www.jacklmoore.com/colorbox\n*/\n(function ($, document, window) {\n\tvar\n\t// Default settings object.\n\t// See http://jacklmoore.com/colorbox for details.\n\tdefaults = {\n\t\t// data sources\n\t\thtml: false,\n\t\tphoto: false,\n\t\tiframe: false,\n\t\tinline: false,\n\n\t\t// behavior and appearance\n\t\ttransition: \"elastic\",\n\t\tspeed: 300,\n\t\tfadeOut: 300,\n\t\twidth: false,\n\t\tinitialWidth: \"600\",\n\t\tinnerWidth: false,\n\t\tmaxWidth: false,\n\t\theight: false,\n\t\tinitialHeight: \"450\",\n\t\tinnerHeight: false,\n\t\tmaxHeight: false,\n\t\tscalePhotos: true,\n\t\tscrolling: true,\n\t\topacity: 0.9,\n\t\tpreloading: true,\n\t\tclassName: false,\n\t\toverlayClose: true,\n\t\tescKey: true,\n\t\tarrowKey: true,\n\t\ttop: false,\n\t\tbottom: false,\n\t\tleft: false,\n\t\tright: false,\n\t\tfixed: false,\n\t\tdata: undefined,\n\t\tcloseButton: true,\n\t\tfastIframe: true,\n\t\topen: false,\n\t\treposition: true,\n\t\tloop: true,\n\t\tslideshow: false,\n\t\tslideshowAuto: true,\n\t\tslideshowSpeed: 2500,\n\t\tslideshowStart: \"start slideshow\",\n\t\tslideshowStop: \"stop slideshow\",\n\t\tphotoRegex: /\\.(gif|png|jp(e|g|eg)|bmp|ico|webp|jxr|svg)((#|\\?).*)?$/i,\n\n\t\t// alternate image paths for high-res displays\n\t\tretinaImage: false,\n\t\tretinaUrl: false,\n\t\tretinaSuffix: '@2x.$1',\n\n\t\t// internationalization\n\t\tcurrent: \"image {current} of {total}\",\n\t\tprevious: \"previous\",\n\t\tnext: \"next\",\n\t\tclose: \"close\",\n\t\txhrError: \"This content failed to load.\",\n\t\timgError: \"This image failed to load.\",\n\n\t\t// accessbility\n\t\treturnFocus: true,\n\t\ttrapFocus: true,\n\n\t\t// callbacks\n\t\tonOpen: false,\n\t\tonLoad: false,\n\t\tonComplete: false,\n\t\tonCleanup: false,\n\t\tonClosed: false,\n\n\t\trel: function() {\n\t\t\treturn this.rel;\n\t\t},\n\t\thref: function() {\n\t\t\t// using this.href would give the absolute url, when the href may have been inteded as a selector (e.g. '#container')\n\t\t\treturn $(this).attr('href');\n\t\t},\n\t\ttitle: function() {\n\t\t\treturn this.title;\n\t\t},\n\t\tcreateImg: function() {\n\t\t\tvar img = new Image();\n\t\t\tvar attrs = $(this).data('cbox-img-attrs');\n\n\t\t\tif (typeof attrs === 'object') {\n\t\t\t\t$.each(attrs, function(key, val){\n\t\t\t\t\timg[key] = val;\n\t\t\t\t});\n\t\t\t}\n\n\t\t\treturn img;\n\t\t},\n\t\tcreateIframe: function() {\n\t\t\tvar iframe = document.createElement('iframe');\n\t\t\tvar attrs = $(this).data('cbox-iframe-attrs');\n\n\t\t\tif (typeof attrs === 'object') {\n\t\t\t\t$.each(attrs, function(key, val){\n\t\t\t\t\tiframe[key] = val;\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tif ('frameBorder' in iframe) {\n\t\t\t\tiframe.frameBorder = 0;\n\t\t\t}\n\t\t\tif ('allowTransparency' in iframe) {\n\t\t\t\tiframe.allowTransparency = \"true\";\n\t\t\t}\n\t\t\tiframe.name = (new Date()).getTime(); // give the iframe a unique name to prevent caching\n\t\t\tiframe.allowFullscreen = true;\n\n\t\t\treturn iframe;\n\t\t}\n\t},\n\n\t// Abstracting the HTML and event identifiers for easy rebranding\n\tcolorbox = 'colorbox',\n\tprefix = 'cbox',\n\tboxElement = prefix + 'Element',\n\n\t// Events\n\tevent_open = prefix + '_open',\n\tevent_load = prefix + '_load',\n\tevent_complete = prefix + '_complete',\n\tevent_cleanup = prefix + '_cleanup',\n\tevent_closed = prefix + '_closed',\n\tevent_purge = prefix + '_purge',\n\n\t// Cached jQuery Object Variables\n\t$overlay,\n\t$box,\n\t$wrap,\n\t$content,\n\t$topBorder,\n\t$leftBorder,\n\t$rightBorder,\n\t$bottomBorder,\n\t$related,\n\t$window,\n\t$loaded,\n\t$loadingBay,\n\t$loadingOverlay,\n\t$title,\n\t$current,\n\t$slideshow,\n\t$next,\n\t$prev,\n\t$close,\n\t$groupControls,\n\t$events = $('<a/>'), // $({}) would be prefered, but there is an issue with jQuery 1.4.2\n\n\t// Variables for cached values or use across multiple functions\n\tsettings,\n\tinterfaceHeight,\n\tinterfaceWidth,\n\tloadedHeight,\n\tloadedWidth,\n\tindex,\n\tphoto,\n\topen,\n\tactive,\n\tclosing,\n\tloadingTimer,\n\tpublicMethod,\n\tdiv = \"div\",\n\trequests = 0,\n\tpreviousCSS = {},\n\tinit;\n\n\t// ****************\n\t// HELPER FUNCTIONS\n\t// ****************\n\n\t// Convenience function for creating new jQuery objects\n\tfunction $tag(tag, id, css) {\n\t\tvar element = document.createElement(tag);\n\n\t\tif (id) {\n\t\t\telement.id = prefix + id;\n\t\t}\n\n\t\tif (css) {\n\t\t\telement.style.cssText = css;\n\t\t}\n\n\t\treturn $(element);\n\t}\n\n\t// Get the window height using innerHeight when available to avoid an issue with iOS\n\t// http://bugs.jquery.com/ticket/6724\n\tfunction winheight() {\n\t\treturn window.innerHeight ? window.innerHeight : $(window).height();\n\t}\n\n\tfunction Settings(element, options) {\n\t\tif (options !== Object(options)) {\n\t\t\toptions = {};\n\t\t}\n\n\t\tthis.cache = {};\n\t\tthis.el = element;\n\n\t\tthis.value = function(key) {\n\t\t\tvar dataAttr;\n\n\t\t\tif (this.cache[key] === undefined) {\n\t\t\t\tdataAttr = $(this.el).attr('data-cbox-'+key);\n\n\t\t\t\tif (dataAttr !== undefined) {\n\t\t\t\t\tthis.cache[key] = dataAttr;\n\t\t\t\t} else if (options[key] !== undefined) {\n\t\t\t\t\tthis.cache[key] = options[key];\n\t\t\t\t} else if (defaults[key] !== undefined) {\n\t\t\t\t\tthis.cache[key] = defaults[key];\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn this.cache[key];\n\t\t};\n\n\t\tthis.get = function(key) {\n\t\t\tvar value = this.value(key);\n\t\t\treturn $.isFunction(value) ? value.call(this.el, this) : value;\n\t\t};\n\t}\n\n\t// Determine the next and previous members in a group.\n\tfunction getIndex(increment) {\n\t\tvar\n\t\tmax = $related.length,\n\t\tnewIndex = (index + increment) % max;\n\n\t\treturn (newIndex < 0) ? max + newIndex : newIndex;\n\t}\n\n\t// Convert '%' and 'px' values to integers\n\tfunction setSize(size, dimension) {\n\t\treturn Math.round((/%/.test(size) ? ((dimension === 'x' ? $window.width() : winheight()) / 100) : 1) * parseInt(size, 10));\n\t}\n\n\t// Checks an href to see if it is a photo.\n\t// There is a force photo option (photo: true) for hrefs that cannot be matched by the regex.\n\tfunction isImage(settings, url) {\n\t\treturn settings.get('photo') || settings.get('photoRegex').test(url);\n\t}\n\n\tfunction retinaUrl(settings, url) {\n\t\treturn settings.get('retinaUrl') && window.devicePixelRatio > 1 ? url.replace(settings.get('photoRegex'), settings.get('retinaSuffix')) : url;\n\t}\n\n\tfunction trapFocus(e) {\n\t\tif ('contains' in $box[0] && !$box[0].contains(e.target) && e.target !== $overlay[0]) {\n\t\t\te.stopPropagation();\n\t\t\t$box.focus();\n\t\t}\n\t}\n\n\tfunction setClass(str) {\n\t\tif (setClass.str !== str) {\n\t\t\t$box.add($overlay).removeClass(setClass.str).addClass(str);\n\t\t\tsetClass.str = str;\n\t\t}\n\t}\n\n\tfunction getRelated(rel) {\n\t\tindex = 0;\n\n\t\tif (rel && rel !== false && rel !== 'nofollow') {\n\t\t\t$related = $('.' + boxElement).filter(function () {\n\t\t\t\tvar options = $.data(this, colorbox);\n\t\t\t\tvar settings = new Settings(this, options);\n\t\t\t\treturn (settings.get('rel') === rel);\n\t\t\t});\n\t\t\tindex = $related.index(settings.el);\n\n\t\t\t// Check direct calls to Colorbox.\n\t\t\tif (index === -1) {\n\t\t\t\t$related = $related.add(settings.el);\n\t\t\t\tindex = $related.length - 1;\n\t\t\t}\n\t\t} else {\n\t\t\t$related = $(settings.el);\n\t\t}\n\t}\n\n\tfunction trigger(event) {\n\t\t// for external use\n\t\t$(document).trigger(event);\n\t\t// for internal use\n\t\t$events.triggerHandler(event);\n\t}\n\n\tvar slideshow = (function(){\n\t\tvar active,\n\t\t\tclassName = prefix + \"Slideshow_\",\n\t\t\tclick = \"click.\" + prefix,\n\t\t\ttimeOut;\n\n\t\tfunction clear () {\n\t\t\tclearTimeout(timeOut);\n\t\t}\n\n\t\tfunction set() {\n\t\t\tif (settings.get('loop') || $related[index + 1]) {\n\t\t\t\tclear();\n\t\t\t\ttimeOut = setTimeout(publicMethod.next, settings.get('slideshowSpeed'));\n\t\t\t}\n\t\t}\n\n\t\tfunction start() {\n\t\t\t$slideshow\n\t\t\t\t.html(settings.get('slideshowStop'))\n\t\t\t\t.unbind(click)\n\t\t\t\t.one(click, stop);\n\n\t\t\t$events\n\t\t\t\t.bind(event_complete, set)\n\t\t\t\t.bind(event_load, clear);\n\n\t\t\t$box.removeClass(className + \"off\").addClass(className + \"on\");\n\t\t}\n\n\t\tfunction stop() {\n\t\t\tclear();\n\n\t\t\t$events\n\t\t\t\t.unbind(event_complete, set)\n\t\t\t\t.unbind(event_load, clear);\n\n\t\t\t$slideshow\n\t\t\t\t.html(settings.get('slideshowStart'))\n\t\t\t\t.unbind(click)\n\t\t\t\t.one(click, function () {\n\t\t\t\t\tpublicMethod.next();\n\t\t\t\t\tstart();\n\t\t\t\t});\n\n\t\t\t$box.removeClass(className + \"on\").addClass(className + \"off\");\n\t\t}\n\n\t\tfunction reset() {\n\t\t\tactive = false;\n\t\t\t$slideshow.hide();\n\t\t\tclear();\n\t\t\t$events\n\t\t\t\t.unbind(event_complete, set)\n\t\t\t\t.unbind(event_load, clear);\n\t\t\t$box.removeClass(className + \"off \" + className + \"on\");\n\t\t}\n\n\t\treturn function(){\n\t\t\tif (active) {\n\t\t\t\tif (!settings.get('slideshow')) {\n\t\t\t\t\t$events.unbind(event_cleanup, reset);\n\t\t\t\t\treset();\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tif (settings.get('slideshow') && $related[1]) {\n\t\t\t\t\tactive = true;\n\t\t\t\t\t$events.one(event_cleanup, reset);\n\t\t\t\t\tif (settings.get('slideshowAuto')) {\n\t\t\t\t\t\tstart();\n\t\t\t\t\t} else {\n\t\t\t\t\t\tstop();\n\t\t\t\t\t}\n\t\t\t\t\t$slideshow.show();\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\n\t}());\n\n\n\tfunction launch(element) {\n\t\tvar options;\n\n\t\tif (!closing) {\n\n\t\t\toptions = $(element).data(colorbox);\n\n\t\t\tsettings = new Settings(element, options);\n\n\t\t\tgetRelated(settings.get('rel'));\n\n\t\t\tif (!open) {\n\t\t\t\topen = active = true; // Prevents the page-change action from queuing up if the visitor holds down the left or right keys.\n\n\t\t\t\tsetClass(settings.get('className'));\n\n\t\t\t\t// Show colorbox so the sizes can be calculated in older versions of jQuery\n\t\t\t\t$box.css({visibility:'hidden', display:'block', opacity:''});\n\n\t\t\t\t$loaded = $tag(div, 'LoadedContent', 'width:0; height:0; overflow:hidden; visibility:hidden');\n\t\t\t\t$content.css({width:'', height:''}).append($loaded);\n\n\t\t\t\t// Cache values needed for size calculations\n\t\t\t\tinterfaceHeight = $topBorder.height() + $bottomBorder.height() + $content.outerHeight(true) - $content.height();\n\t\t\t\tinterfaceWidth = $leftBorder.width() + $rightBorder.width() + $content.outerWidth(true) - $content.width();\n\t\t\t\tloadedHeight = $loaded.outerHeight(true);\n\t\t\t\tloadedWidth = $loaded.outerWidth(true);\n\n\t\t\t\t// Opens inital empty Colorbox prior to content being loaded.\n\t\t\t\tvar initialWidth = setSize(settings.get('initialWidth'), 'x');\n\t\t\t\tvar initialHeight = setSize(settings.get('initialHeight'), 'y');\n\t\t\t\tvar maxWidth = settings.get('maxWidth');\n\t\t\t\tvar maxHeight = settings.get('maxHeight');\n\n\t\t\t\tsettings.w = Math.max((maxWidth !== false ? Math.min(initialWidth, setSize(maxWidth, 'x')) : initialWidth) - loadedWidth - interfaceWidth, 0);\n\t\t\t\tsettings.h = Math.max((maxHeight !== false ? Math.min(initialHeight, setSize(maxHeight, 'y')) : initialHeight) - loadedHeight - interfaceHeight, 0);\n\n\t\t\t\t$loaded.css({width:'', height:settings.h});\n\t\t\t\tpublicMethod.position();\n\n\t\t\t\ttrigger(event_open);\n\t\t\t\tsettings.get('onOpen');\n\n\t\t\t\t$groupControls.add($title).hide();\n\n\t\t\t\t$box.focus();\n\n\t\t\t\tif (settings.get('trapFocus')) {\n\t\t\t\t\t// Confine focus to the modal\n\t\t\t\t\t// Uses event capturing that is not supported in IE8-\n\t\t\t\t\tif (document.addEventListener) {\n\n\t\t\t\t\t\tdocument.addEventListener('focus', trapFocus, true);\n\n\t\t\t\t\t\t$events.one(event_closed, function () {\n\t\t\t\t\t\t\tdocument.removeEventListener('focus', trapFocus, true);\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t// Return focus on closing\n\t\t\t\tif (settings.get('returnFocus')) {\n\t\t\t\t\t$events.one(event_closed, function () {\n\t\t\t\t\t\t$(settings.el).focus();\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tvar opacity = parseFloat(settings.get('opacity'));\n\t\t\t$overlay.css({\n\t\t\t\topacity: opacity === opacity ? opacity : '',\n\t\t\t\tcursor: settings.get('overlayClose') ? 'pointer' : '',\n\t\t\t\tvisibility: 'visible'\n\t\t\t}).show();\n\n\t\t\tif (settings.get('closeButton')) {\n\t\t\t\t$close.html(settings.get('close')).appendTo($content);\n\t\t\t} else {\n\t\t\t\t$close.appendTo('<div/>'); // replace with .detach() when dropping jQuery < 1.4\n\t\t\t}\n\n\t\t\tload();\n\t\t}\n\t}\n\n\t// Colorbox's markup needs to be added to the DOM prior to being called\n\t// so that the browser will go ahead and load the CSS background images.\n\tfunction appendHTML() {\n\t\tif (!$box) {\n\t\t\tinit = false;\n\t\t\t$window = $(window);\n\t\t\t$box = $tag(div).attr({\n\t\t\t\tid: colorbox,\n\t\t\t\t'class': $.support.opacity === false ? prefix + 'IE' : '', // class for optional IE8 & lower targeted CSS.\n\t\t\t\trole: 'dialog',\n\t\t\t\ttabindex: '-1'\n\t\t\t}).hide();\n\t\t\t$overlay = $tag(div, \"Overlay\").hide();\n\t\t\t$loadingOverlay = $([$tag(div, \"LoadingOverlay\")[0],$tag(div, \"LoadingGraphic\")[0]]);\n\t\t\t$wrap = $tag(div, \"Wrapper\");\n\t\t\t$content = $tag(div, \"Content\").append(\n\t\t\t\t$title = $tag(div, \"Title\"),\n\t\t\t\t$current = $tag(div, \"Current\"),\n\t\t\t\t$prev = $('<button type=\"button\"/>').attr({id:prefix+'Previous'}),\n\t\t\t\t$next = $('<button type=\"button\"/>').attr({id:prefix+'Next'}),\n\t\t\t\t$slideshow = $('<button type=\"button\"/>').attr({id:prefix+'Slideshow'}),\n\t\t\t\t$loadingOverlay\n\t\t\t);\n\n\t\t\t$close = $('<button type=\"button\"/>').attr({id:prefix+'Close'});\n\n\t\t\t$wrap.append( // The 3x3 Grid that makes up Colorbox\n\t\t\t\t$tag(div).append(\n\t\t\t\t\t$tag(div, \"TopLeft\"),\n\t\t\t\t\t$topBorder = $tag(div, \"TopCenter\"),\n\t\t\t\t\t$tag(div, \"TopRight\")\n\t\t\t\t),\n\t\t\t\t$tag(div, false, 'clear:left').append(\n\t\t\t\t\t$leftBorder = $tag(div, \"MiddleLeft\"),\n\t\t\t\t\t$content,\n\t\t\t\t\t$rightBorder = $tag(div, \"MiddleRight\")\n\t\t\t\t),\n\t\t\t\t$tag(div, false, 'clear:left').append(\n\t\t\t\t\t$tag(div, \"BottomLeft\"),\n\t\t\t\t\t$bottomBorder = $tag(div, \"BottomCenter\"),\n\t\t\t\t\t$tag(div, \"BottomRight\")\n\t\t\t\t)\n\t\t\t).find('div div').css({'float': 'left'});\n\n\t\t\t$loadingBay = $tag(div, false, 'position:absolute; width:9999px; visibility:hidden; display:none; max-width:none;');\n\n\t\t\t$groupControls = $next.add($prev).add($current).add($slideshow);\n\t\t}\n\t\tif (document.body && !$box.parent().length) {\n\t\t\t$(document.body).append($overlay, $box.append($wrap, $loadingBay));\n\t\t}\n\t}\n\n\t// Add Colorbox's event bindings\n\tfunction addBindings() {\n\t\tfunction clickHandler(e) {\n\t\t\t// ignore non-left-mouse-clicks and clicks modified with ctrl / command, shift, or alt.\n\t\t\t// See: http://jacklmoore.com/notes/click-events/\n\t\t\tif (!(e.which > 1 || e.shiftKey || e.altKey || e.metaKey || e.ctrlKey)) {\n\t\t\t\te.preventDefault();\n\t\t\t\tlaunch(this);\n\t\t\t}\n\t\t}\n\n\t\tif ($box) {\n\t\t\tif (!init) {\n\t\t\t\tinit = true;\n\n\t\t\t\t// Anonymous functions here keep the public method from being cached, thereby allowing them to be redefined on the fly.\n\t\t\t\t$next.click(function () {\n\t\t\t\t\tpublicMethod.next();\n\t\t\t\t});\n\t\t\t\t$prev.click(function () {\n\t\t\t\t\tpublicMethod.prev();\n\t\t\t\t});\n\t\t\t\t$close.click(function () {\n\t\t\t\t\tpublicMethod.close();\n\t\t\t\t});\n\t\t\t\t$overlay.click(function () {\n\t\t\t\t\tif (settings.get('overlayClose')) {\n\t\t\t\t\t\tpublicMethod.close();\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\t// Key Bindings\n\t\t\t\t$(document).bind('keydown.' + prefix, function (e) {\n\t\t\t\t\tvar key = e.keyCode;\n\t\t\t\t\tif (open && settings.get('escKey') && key === 27) {\n\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\tpublicMethod.close();\n\t\t\t\t\t}\n\t\t\t\t\tif (open && settings.get('arrowKey') && $related[1] && !e.altKey) {\n\t\t\t\t\t\tif (key === 37) {\n\t\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t\t$prev.click();\n\t\t\t\t\t\t} else if (key === 39) {\n\t\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t\t$next.click();\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\tif ($.isFunction($.fn.on)) {\n\t\t\t\t\t// For jQuery 1.7+\n\t\t\t\t\t$(document).on('click.'+prefix, '.'+boxElement, clickHandler);\n\t\t\t\t} else {\n\t\t\t\t\t// For jQuery 1.3.x -> 1.6.x\n\t\t\t\t\t// This code is never reached in jQuery 1.9, so do not contact me about 'live' being removed.\n\t\t\t\t\t// This is not here for jQuery 1.9, it's here for legacy users.\n\t\t\t\t\t$('.'+boxElement).live('click.'+prefix, clickHandler);\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn true;\n\t\t}\n\t\treturn false;\n\t}\n\n\t// Don't do anything if Colorbox already exists.\n\tif ($[colorbox]) {\n\t\treturn;\n\t}\n\n\t// Append the HTML when the DOM loads\n\t$(appendHTML);\n\n\n\t// ****************\n\t// PUBLIC FUNCTIONS\n\t// Usage format: $.colorbox.close();\n\t// Usage from within an iframe: parent.jQuery.colorbox.close();\n\t// ****************\n\n\tpublicMethod = $.fn[colorbox] = $[colorbox] = function (options, callback) {\n\t\tvar settings;\n\t\tvar $obj = this;\n\n\t\toptions = options || {};\n\n\t\tif ($.isFunction($obj)) { // assume a call to $.colorbox\n\t\t\t$obj = $('<a/>');\n\t\t\toptions.open = true;\n\t\t}\n\n\t\tif (!$obj[0]) { // colorbox being applied to empty collection\n\t\t\treturn $obj;\n\t\t}\n\n\t\tappendHTML();\n\n\t\tif (addBindings()) {\n\n\t\t\tif (callback) {\n\t\t\t\toptions.onComplete = callback;\n\t\t\t}\n\n\t\t\t$obj.each(function () {\n\t\t\t\tvar old = $.data(this, colorbox) || {};\n\t\t\t\t$.data(this, colorbox, $.extend(old, options));\n\t\t\t}).addClass(boxElement);\n\n\t\t\tsettings = new Settings($obj[0], options);\n\n\t\t\tif (settings.get('open')) {\n\t\t\t\tlaunch($obj[0]);\n\t\t\t}\n\t\t}\n\n\t\treturn $obj;\n\t};\n\n\tpublicMethod.position = function (speed, loadedCallback) {\n\t\tvar\n\t\tcss,\n\t\ttop = 0,\n\t\tleft = 0,\n\t\toffset = $box.offset(),\n\t\tscrollTop,\n\t\tscrollLeft;\n\n\t\t$window.unbind('resize.' + prefix);\n\n\t\t// remove the modal so that it doesn't influence the document width/height\n\t\t$box.css({top: -9e4, left: -9e4});\n\n\t\tscrollTop = $window.scrollTop();\n\t\tscrollLeft = $window.scrollLeft();\n\n\t\tif (settings.get('fixed')) {\n\t\t\toffset.top -= scrollTop;\n\t\t\toffset.left -= scrollLeft;\n\t\t\t$box.css({position: 'fixed'});\n\t\t} else {\n\t\t\ttop = scrollTop;\n\t\t\tleft = scrollLeft;\n\t\t\t$box.css({position: 'absolute'});\n\t\t}\n\n\t\t// keeps the top and left positions within the browser's viewport.\n\t\tif (settings.get('right') !== false) {\n\t\t\tleft += Math.max($window.width() - settings.w - loadedWidth - interfaceWidth - setSize(settings.get('right'), 'x'), 0);\n\t\t} else if (settings.get('left') !== false) {\n\t\t\tleft += setSize(settings.get('left'), 'x');\n\t\t} else {\n\t\t\tleft += Math.round(Math.max($window.width() - settings.w - loadedWidth - interfaceWidth, 0) / 2);\n\t\t}\n\n\t\tif (settings.get('bottom') !== false) {\n\t\t\ttop += Math.max(winheight() - settings.h - loadedHeight - interfaceHeight - setSize(settings.get('bottom'), 'y'), 0);\n\t\t} else if (settings.get('top') !== false) {\n\t\t\ttop += setSize(settings.get('top'), 'y');\n\t\t} else {\n\t\t\ttop += Math.round(Math.max(winheight() - settings.h - loadedHeight - interfaceHeight, 0) / 2);\n\t\t}\n\n\t\t$box.css({top: offset.top, left: offset.left, visibility:'visible'});\n\n\t\t// this gives the wrapper plenty of breathing room so it's floated contents can move around smoothly,\n\t\t// but it has to be shrank down around the size of div#colorbox when it's done.  If not,\n\t\t// it can invoke an obscure IE bug when using iframes.\n\t\t$wrap[0].style.width = $wrap[0].style.height = \"9999px\";\n\n\t\tfunction modalDimensions() {\n\t\t\t$topBorder[0].style.width = $bottomBorder[0].style.width = $content[0].style.width = (parseInt($box[0].style.width,10) - interfaceWidth)+'px';\n\t\t\t$content[0].style.height = $leftBorder[0].style.height = $rightBorder[0].style.height = (parseInt($box[0].style.height,10) - interfaceHeight)+'px';\n\t\t}\n\n\t\tcss = {width: settings.w + loadedWidth + interfaceWidth, height: settings.h + loadedHeight + interfaceHeight, top: top, left: left};\n\n\t\t// setting the speed to 0 if the content hasn't changed size or position\n\t\tif (speed) {\n\t\t\tvar tempSpeed = 0;\n\t\t\t$.each(css, function(i){\n\t\t\t\tif (css[i] !== previousCSS[i]) {\n\t\t\t\t\ttempSpeed = speed;\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t});\n\t\t\tspeed = tempSpeed;\n\t\t}\n\n\t\tpreviousCSS = css;\n\n\t\tif (!speed) {\n\t\t\t$box.css(css);\n\t\t}\n\n\t\t$box.dequeue().animate(css, {\n\t\t\tduration: speed || 0,\n\t\t\tcomplete: function () {\n\t\t\t\tmodalDimensions();\n\n\t\t\t\tactive = false;\n\n\t\t\t\t// shrink the wrapper down to exactly the size of colorbox to avoid a bug in IE's iframe implementation.\n\t\t\t\t$wrap[0].style.width = (settings.w + loadedWidth + interfaceWidth) + \"px\";\n\t\t\t\t$wrap[0].style.height = (settings.h + loadedHeight + interfaceHeight) + \"px\";\n\n\t\t\t\tif (settings.get('reposition')) {\n\t\t\t\t\tsetTimeout(function () {  // small delay before binding onresize due to an IE8 bug.\n\t\t\t\t\t\t$window.bind('resize.' + prefix, publicMethod.position);\n\t\t\t\t\t}, 1);\n\t\t\t\t}\n\n\t\t\t\tif ($.isFunction(loadedCallback)) {\n\t\t\t\t\tloadedCallback();\n\t\t\t\t}\n\t\t\t},\n\t\t\tstep: modalDimensions\n\t\t});\n\t};\n\n\tpublicMethod.resize = function (options) {\n\t\tvar scrolltop;\n\n\t\tif (open) {\n\t\t\toptions = options || {};\n\n\t\t\tif (options.width) {\n\t\t\t\tsettings.w = setSize(options.width, 'x') - loadedWidth - interfaceWidth;\n\t\t\t}\n\n\t\t\tif (options.innerWidth) {\n\t\t\t\tsettings.w = setSize(options.innerWidth, 'x');\n\t\t\t}\n\n\t\t\t$loaded.css({width: settings.w});\n\n\t\t\tif (options.height) {\n\t\t\t\tsettings.h = setSize(options.height, 'y') - loadedHeight - interfaceHeight;\n\t\t\t}\n\n\t\t\tif (options.innerHeight) {\n\t\t\t\tsettings.h = setSize(options.innerHeight, 'y');\n\t\t\t}\n\n\t\t\tif (!options.innerHeight && !options.height) {\n\t\t\t\tscrolltop = $loaded.scrollTop();\n\t\t\t\t$loaded.css({height: \"auto\"});\n\t\t\t\tsettings.h = $loaded.height();\n\t\t\t}\n\n\t\t\t$loaded.css({height: settings.h});\n\n\t\t\tif(scrolltop) {\n\t\t\t\t$loaded.scrollTop(scrolltop);\n\t\t\t}\n\n\t\t\tpublicMethod.position(settings.get('transition') === \"none\" ? 0 : settings.get('speed'));\n\t\t}\n\t};\n\n\tpublicMethod.prep = function (object) {\n\t\tif (!open) {\n\t\t\treturn;\n\t\t}\n\n\t\tvar callback, speed = settings.get('transition') === \"none\" ? 0 : settings.get('speed');\n\n\t\t$loaded.remove();\n\n\t\t$loaded = $tag(div, 'LoadedContent').append(object);\n\n\t\tfunction getWidth() {\n\t\t\tsettings.w = settings.w || $loaded.width();\n\t\t\tsettings.w = settings.mw && settings.mw < settings.w ? settings.mw : settings.w;\n\t\t\treturn settings.w;\n\t\t}\n\t\tfunction getHeight() {\n\t\t\tsettings.h = settings.h || $loaded.height();\n\t\t\tsettings.h = settings.mh && settings.mh < settings.h ? settings.mh : settings.h;\n\t\t\treturn settings.h;\n\t\t}\n\n\t\t$loaded.hide()\n\t\t.appendTo($loadingBay.show())// content has to be appended to the DOM for accurate size calculations.\n\t\t.css({width: getWidth(), overflow: settings.get('scrolling') ? 'auto' : 'hidden'})\n\t\t.css({height: getHeight()})// sets the height independently from the width in case the new width influences the value of height.\n\t\t.prependTo($content);\n\n\t\t$loadingBay.hide();\n\n\t\t// floating the IMG removes the bottom line-height and fixed a problem where IE miscalculates the width of the parent element as 100% of the document width.\n\n\t\t$(photo).css({'float': 'none'});\n\n\t\tsetClass(settings.get('className'));\n\n\t\tcallback = function () {\n\t\t\tvar total = $related.length,\n\t\t\t\tiframe,\n\t\t\t\tcomplete;\n\n\t\t\tif (!open) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tfunction removeFilter() { // Needed for IE8 in versions of jQuery prior to 1.7.2\n\t\t\t\tif ($.support.opacity === false) {\n\t\t\t\t\t$box[0].style.removeAttribute('filter');\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tcomplete = function () {\n\t\t\t\tclearTimeout(loadingTimer);\n\t\t\t\t$loadingOverlay.hide();\n\t\t\t\ttrigger(event_complete);\n\t\t\t\tsettings.get('onComplete');\n\t\t\t};\n\n\n\t\t\t$title.html(settings.get('title')).show();\n\t\t\t$loaded.show();\n\n\t\t\tif (total > 1) { // handle grouping\n\t\t\t\tif (typeof settings.get('current') === \"string\") {\n\t\t\t\t\t$current.html(settings.get('current').replace('{current}', index + 1).replace('{total}', total)).show();\n\t\t\t\t}\n\n\t\t\t\t$next[(settings.get('loop') || index < total - 1) ? \"show\" : \"hide\"]().html(settings.get('next'));\n\t\t\t\t$prev[(settings.get('loop') || index) ? \"show\" : \"hide\"]().html(settings.get('previous'));\n\n\t\t\t\tslideshow();\n\n\t\t\t\t// Preloads images within a rel group\n\t\t\t\tif (settings.get('preloading')) {\n\t\t\t\t\t$.each([getIndex(-1), getIndex(1)], function(){\n\t\t\t\t\t\tvar img,\n\t\t\t\t\t\t\ti = $related[this],\n\t\t\t\t\t\t\tsettings = new Settings(i, $.data(i, colorbox)),\n\t\t\t\t\t\t\tsrc = settings.get('href');\n\n\t\t\t\t\t\tif (src && isImage(settings, src)) {\n\t\t\t\t\t\t\tsrc = retinaUrl(settings, src);\n\t\t\t\t\t\t\timg = document.createElement('img');\n\t\t\t\t\t\t\timg.src = src;\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\t$groupControls.hide();\n\t\t\t}\n\n\t\t\tif (settings.get('iframe')) {\n\n\t\t\t\tiframe = settings.get('createIframe');\n\n\t\t\t\tif (!settings.get('scrolling')) {\n\t\t\t\t\tiframe.scrolling = \"no\";\n\t\t\t\t}\n\n\t\t\t\t$(iframe)\n\t\t\t\t\t.attr({\n\t\t\t\t\t\tsrc: settings.get('href'),\n\t\t\t\t\t\t'class': prefix + 'Iframe'\n\t\t\t\t\t})\n\t\t\t\t\t.one('load', complete)\n\t\t\t\t\t.appendTo($loaded);\n\n\t\t\t\t$events.one(event_purge, function () {\n\t\t\t\t\tiframe.src = \"//about:blank\";\n\t\t\t\t});\n\n\t\t\t\tif (settings.get('fastIframe')) {\n\t\t\t\t\t$(iframe).trigger('load');\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tcomplete();\n\t\t\t}\n\n\t\t\tif (settings.get('transition') === 'fade') {\n\t\t\t\t$box.fadeTo(speed, 1, removeFilter);\n\t\t\t} else {\n\t\t\t\tremoveFilter();\n\t\t\t}\n\t\t};\n\n\t\tif (settings.get('transition') === 'fade') {\n\t\t\t$box.fadeTo(speed, 0, function () {\n\t\t\t\tpublicMethod.position(0, callback);\n\t\t\t});\n\t\t} else {\n\t\t\tpublicMethod.position(speed, callback);\n\t\t}\n\t};\n\n\tfunction load () {\n\t\tvar href, setResize, prep = publicMethod.prep, $inline, request = ++requests;\n\n\t\tactive = true;\n\n\t\tphoto = false;\n\n\t\ttrigger(event_purge);\n\t\ttrigger(event_load);\n\t\tsettings.get('onLoad');\n\n\t\tsettings.h = settings.get('height') ?\n\t\t\t\tsetSize(settings.get('height'), 'y') - loadedHeight - interfaceHeight :\n\t\t\t\tsettings.get('innerHeight') && setSize(settings.get('innerHeight'), 'y');\n\n\t\tsettings.w = settings.get('width') ?\n\t\t\t\tsetSize(settings.get('width'), 'x') - loadedWidth - interfaceWidth :\n\t\t\t\tsettings.get('innerWidth') && setSize(settings.get('innerWidth'), 'x');\n\n\t\t// Sets the minimum dimensions for use in image scaling\n\t\tsettings.mw = settings.w;\n\t\tsettings.mh = settings.h;\n\n\t\t// Re-evaluate the minimum width and height based on maxWidth and maxHeight values.\n\t\t// If the width or height exceed the maxWidth or maxHeight, use the maximum values instead.\n\t\tif (settings.get('maxWidth')) {\n\t\t\tsettings.mw = setSize(settings.get('maxWidth'), 'x') - loadedWidth - interfaceWidth;\n\t\t\tsettings.mw = settings.w && settings.w < settings.mw ? settings.w : settings.mw;\n\t\t}\n\t\tif (settings.get('maxHeight')) {\n\t\t\tsettings.mh = setSize(settings.get('maxHeight'), 'y') - loadedHeight - interfaceHeight;\n\t\t\tsettings.mh = settings.h && settings.h < settings.mh ? settings.h : settings.mh;\n\t\t}\n\n\t\thref = settings.get('href');\n\n\t\tloadingTimer = setTimeout(function () {\n\t\t\t$loadingOverlay.show();\n\t\t}, 100);\n\n\t\tif (settings.get('inline')) {\n\t\t\tvar $target = $(href).eq(0);\n\t\t\t// Inserts an empty placeholder where inline content is being pulled from.\n\t\t\t// An event is bound to put inline content back when Colorbox closes or loads new content.\n\t\t\t$inline = $('<div>').hide().insertBefore($target);\n\n\t\t\t$events.one(event_purge, function () {\n\t\t\t\t$inline.replaceWith($target);\n\t\t\t});\n\n\t\t\tprep($target);\n\t\t} else if (settings.get('iframe')) {\n\t\t\t// IFrame element won't be added to the DOM until it is ready to be displayed,\n\t\t\t// to avoid problems with DOM-ready JS that might be trying to run in that iframe.\n\t\t\tprep(\" \");\n\t\t} else if (settings.get('html')) {\n\t\t\tprep(settings.get('html'));\n\t\t} else if (isImage(settings, href)) {\n\n\t\t\thref = retinaUrl(settings, href);\n\n\t\t\tphoto = settings.get('createImg');\n\n\t\t\t$(photo)\n\t\t\t.addClass(prefix + 'Photo')\n\t\t\t.bind('error.'+prefix,function () {\n\t\t\t\tprep($tag(div, 'Error').html(settings.get('imgError')));\n\t\t\t})\n\t\t\t.one('load', function () {\n\t\t\t\tif (request !== requests) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\t// A small pause because some browsers will occassionaly report a\n\t\t\t\t// img.width and img.height of zero immediately after the img.onload fires\n\t\t\t\tsetTimeout(function(){\n\t\t\t\t\tvar percent;\n\n\t\t\t\t\tif (settings.get('retinaImage') && window.devicePixelRatio > 1) {\n\t\t\t\t\t\tphoto.height = photo.height / window.devicePixelRatio;\n\t\t\t\t\t\tphoto.width = photo.width / window.devicePixelRatio;\n\t\t\t\t\t}\n\n\t\t\t\t\tif (settings.get('scalePhotos')) {\n\t\t\t\t\t\tsetResize = function () {\n\t\t\t\t\t\t\tphoto.height -= photo.height * percent;\n\t\t\t\t\t\t\tphoto.width -= photo.width * percent;\n\t\t\t\t\t\t};\n\t\t\t\t\t\tif (settings.mw && photo.width > settings.mw) {\n\t\t\t\t\t\t\tpercent = (photo.width - settings.mw) / photo.width;\n\t\t\t\t\t\t\tsetResize();\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (settings.mh && photo.height > settings.mh) {\n\t\t\t\t\t\t\tpercent = (photo.height - settings.mh) / photo.height;\n\t\t\t\t\t\t\tsetResize();\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tif (settings.h) {\n\t\t\t\t\t\tphoto.style.marginTop = Math.max(settings.mh - photo.height, 0) / 2 + 'px';\n\t\t\t\t\t}\n\n\t\t\t\t\tif ($related[1] && (settings.get('loop') || $related[index + 1])) {\n\t\t\t\t\t\tphoto.style.cursor = 'pointer';\n\n\t\t\t\t\t\t$(photo).bind('click.'+prefix, function () {\n\t\t\t\t\t\t\tpublicMethod.next();\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\n\t\t\t\t\tphoto.style.width = photo.width + 'px';\n\t\t\t\t\tphoto.style.height = photo.height + 'px';\n\t\t\t\t\tprep(photo);\n\t\t\t\t}, 1);\n\t\t\t});\n\n\t\t\tphoto.src = href;\n\n\t\t} else if (href) {\n\t\t\t$loadingBay.load(href, settings.get('data'), function (data, status) {\n\t\t\t\tif (request === requests) {\n\t\t\t\t\tprep(status === 'error' ? $tag(div, 'Error').html(settings.get('xhrError')) : $(this).contents());\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t}\n\n\t// Navigates to the next page/image in a set.\n\tpublicMethod.next = function () {\n\t\tif (!active && $related[1] && (settings.get('loop') || $related[index + 1])) {\n\t\t\tindex = getIndex(1);\n\t\t\tlaunch($related[index]);\n\t\t}\n\t};\n\n\tpublicMethod.prev = function () {\n\t\tif (!active && $related[1] && (settings.get('loop') || index)) {\n\t\t\tindex = getIndex(-1);\n\t\t\tlaunch($related[index]);\n\t\t}\n\t};\n\n\t// Note: to use this within an iframe use the following format: parent.jQuery.colorbox.close();\n\tpublicMethod.close = function () {\n\t\tif (open && !closing) {\n\n\t\t\tclosing = true;\n\t\t\topen = false;\n\t\t\ttrigger(event_cleanup);\n\t\t\tsettings.get('onCleanup');\n\t\t\t$window.unbind('.' + prefix);\n\t\t\t$overlay.fadeTo(settings.get('fadeOut') || 0, 0);\n\n\t\t\t$box.stop().fadeTo(settings.get('fadeOut') || 0, 0, function () {\n\t\t\t\t$box.hide();\n\t\t\t\t$overlay.hide();\n\t\t\t\ttrigger(event_purge);\n\t\t\t\t$loaded.remove();\n\n\t\t\t\tsetTimeout(function () {\n\t\t\t\t\tclosing = false;\n\t\t\t\t\ttrigger(event_closed);\n\t\t\t\t\tsettings.get('onClosed');\n\t\t\t\t}, 1);\n\t\t\t});\n\t\t}\n\t};\n\n\t// Removes changes Colorbox made to the document, but does not remove the plugin.\n\tpublicMethod.remove = function () {\n\t\tif (!$box) { return; }\n\n\t\t$box.stop();\n\t\t$[colorbox].close();\n\t\t$box.stop(false, true).remove();\n\t\t$overlay.remove();\n\t\tclosing = false;\n\t\t$box = null;\n\t\t$('.' + boxElement)\n\t\t\t.removeData(colorbox)\n\t\t\t.removeClass(boxElement);\n\n\t\t$(document).unbind('click.'+prefix).unbind('keydown.'+prefix);\n\t};\n\n\t// A method for fetching the current element Colorbox is referencing.\n\t// returns a jQuery object.\n\tpublicMethod.element = function () {\n\t\treturn $(settings.el);\n\t};\n\n\tpublicMethod.settings = defaults;\n\n}(jQuery, document, window));\n"],"sourceRoot":""}