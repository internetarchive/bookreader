/*! For license information please see plugin.tts.js.LICENSE.txt */
(self.webpackChunk_internetarchive_bookreader=self.webpackChunk_internetarchive_bookreader||[]).push([[34],{2862:function(e,t,n){"use strict";n(5666),n(1539),n(9714),n(4916),n(4723),n(9826),n(2222),n(1249),n(8309),n(8674),n(9720),n(4747),n(2526),n(1817),n(2165),n(6992),n(8783),n(3948),n(7042),n(1038),n(489),n(2419),n(4819),n(5003),n(7327),n(6755),n(5306),n(9601);var o=n(3609);function i(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var o,i,a=[],r=!0,s=!1;try{for(n=n.call(e);!(r=(o=n.next()).done)&&(a.push(o.value),!t||a.length!==t);r=!0);}catch(e){s=!0,i=e}finally{try{r||null==n.return||n.return()}finally{if(s)throw i}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return a(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?a(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}function r(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var s=function(){function e(t,n,o,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.leafIndex=t,this.chunkIndex=n,this.text=o,this.lineRects=i}var t,n;return t=e,n=[{key:"fetch",value:function(t,n,i){return new Promise((function(a,r){o.ajax({type:"GET",url:"https://".concat(t,"/BookReader/BookReaderGetTextWrapper.php"),dataType:"jsonp",cache:!0,data:{path:"".concat(n,"_djvu.xml"),page:i},error:r}).then((function(t){a(e._fromTextWrapperResponse(i,t))}))}))}},{key:"_fromTextWrapperResponse",value:function(t,n){return n.map((function(n,o){var i=e._fixChunkRects(n.slice(1)),a=e._removeDanglingHyphens(n[0]);return new e(t,o,a,i)}))}},{key:"_fixChunkRects",value:function(e){if(e.length<2)return e;var t=i(e,2),n=t[0],o=t[1],a=i(n,3),r=a[0],s=a[1],u=a[2]-r,l=o[1]-o[3],c=o[2]-o[0],d=o[2];return u>30*c&&(n[2]=d,n[3]=s-l),e}},{key:"_removeDanglingHyphens",value:function(e){return e.replace(/[-¬]\s+/g,"")}}],null&&r(t.prototype,null),n&&r(t,n),e}();function u(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var l=function(){function e(t,n,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.pageCount=t,this.opts=Object.assign({},c,o),this._cursor={page:n,chunk:0},this._bufferedPages={},this._bufferingPages={},this._cursorLock=Promise.resolve()}var t,n;return t=e,(n=[{key:"next",value:function(){var e=this;return this._cursorLock=this._cursorLock.then((function(){return e._nextUncontrolled()}))}},{key:"decrement",value:function(){var e=this;return this._cursorLock=this._cursorLock.then((function(){return e._decrementUncontrolled()}))}},{key:"_nextUncontrolled",value:function(){var t=this;return this._cursor.page==this.pageCount?Promise.resolve(e.AT_END):(this._recenterBuffer(this._cursor.page),this._fetchPageChunks(this._cursor.page).then((function(e){return t._cursor.chunk==e.length?(t._cursor.page++,t._cursor.chunk=0,t._nextUncontrolled()):e[t._cursor.chunk++]})))}},{key:"_decrementUncontrolled",value:function(){var e=this,t=Promise.resolve();return this._cursor.chunk>0?this._cursor.chunk--:this._cursor.page>0&&(this._cursor.page--,t=this._fetchPageChunks(this._cursor.page).then((function(t){if(0==t.length)return e._decrementUncontrolled();e._cursor.chunk=t.length-1}))),t.then((function(){return e._fetchPageChunks(e._cursor.page)}))}},{key:"_recenterBuffer",value:function(e){for(var t=Math.max(0,e-this.opts.pageBufferSize),n=Math.min(this.pageCount,e+this.opts.pageBufferSize+1),o=t;o<n;o++)this._fetchPageChunks(o);this._removePageFromBuffer(t-1),this._removePageFromBuffer(n+1)}},{key:"_removePageFromBuffer",value:function(e){delete this._bufferingPages[e],delete this._bufferedPages[e]}},{key:"_fetchPageChunks",value:function(e){var t=this;return e in this._bufferingPages?this._bufferingPages[e]:e in this._bufferedPages?Promise.resolve(this._bufferedPages[e]):(this._bufferingPages[e]=this._fetchPageChunksDirect(e).then((function(n){return delete t._bufferingPages[e],t._bufferedPages[e]=n,n})),this._bufferingPages[e])}},{key:"_fetchPageChunksDirect",value:function(e){return s.fetch(this.opts.server,this.opts.bookPath,e)}}])&&u(t.prototype,n),e}();l.AT_END="__PageChunkIterator.AT_END__";var c={server:null,bookPath:null,pageBufferSize:2},d=n(3609);function h(e){return(h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}function p(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var A=function(){function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.playing=!1,this.paused=!1,this.opts=t,this._chunkIterator=null,this.activeSound=null,this.playbackRate=1,this.events=d({}),this.voice=null,this.events.on("voiceschanged",(function(){n.voice=e.getBestBookVoice(n.getVoices(),n.opts.bookLanguage)})),this.events.trigger("voiceschanged")}var t,n,o;return t=e,o=[{key:"isSupported",value:function(){throw new Error("Unimplemented abstract class")}},{key:"getBestBookVoice",value:function(t,n){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:navigator.languages,i=t.filter((function(e){return e.lang.startsWith(n)})),a=(o=o||(navigator.language?[navigator.language]:[])).filter((function(e){return e.startsWith(n)}));return e.getMatchingVoice(a,i)||i.find((function(e){return e.default}))||i[0]||e.getMatchingVoice(o,t)||t.find((function(e){return e.default}))||t[0]}},{key:"getMatchingVoice",value:function(e,t){var n,o=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return f(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?f(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var o=0,i=function(){};return{s:i,n:function(){return o>=e.length?{done:!0}:{done:!1,value:e[o++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,r=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return r=e.done,e},e:function(e){s=!0,a=e},f:function(){try{r||null==n.return||n.return()}finally{if(s)throw a}}}}(e);try{var i=function(){var e=n.value,o=t.filter((function(t){return t.lang.replace("_","-").startsWith(e)}));if(o.length)return{v:o.find((function(e){return e.default}))||o[0]}};for(o.s();!(n=o.n()).done;){var a=i();if("object"===h(a))return a.v}}catch(e){o.e(e)}finally{o.f()}}}],(n=[{key:"getVoices",value:function(){throw new Error("Unimplemented abstract class")}},{key:"init",value:function(){return null}},{key:"start",value:function(e,t){this.playing=!0,this.opts.onLoadingStart(),this._chunkIterator=new l(t,e,{server:this.opts.server,bookPath:this.opts.bookPath,pageBufferSize:5}),this.step(),this.events.trigger("start")}},{key:"stop",value:function(){this.activeSound&&this.activeSound.stop(),this.playing=!1,this._chunkIterator=null,this.activeSound=null,this.events.trigger("stop")}},{key:"pause",value:function(){var e=!this.paused&&this.activeSound;this.paused=!0,this.activeSound&&this.activeSound.pause(),e&&this.events.trigger("pause")}},{key:"resume",value:function(){var e=this.paused&&this.activeSound;this.paused=!1,this.activeSound&&this.activeSound.resume(),e&&this.events.trigger("resume")}},{key:"togglePlayPause",value:function(){this.paused?this.resume():this.pause()}},{key:"jumpForward",value:function(){this.activeSound&&this.activeSound.finish()}},{key:"jumpBackward",value:function(){var e=this;Promise.all([this.activeSound.stop(),this._chunkIterator.decrement().then((function(){return e._chunkIterator.decrement()}))]).then((function(){return e.step()}))}},{key:"setVoice",value:function(e){this.voice=this.getVoices().find((function(t){return t.voiceURI===e})),this.activeSound&&this.activeSound.setVoice(this.voice)}},{key:"setPlaybackRate",value:function(e){this.playbackRate=e,this.activeSound&&this.activeSound.setPlaybackRate(e)}},{key:"step",value:function(){var e=this;this._chunkIterator.next().then((function(t){if(t==l.AT_END)return e.stop(),void e.opts.onDone();e.opts.onLoadingStart();var n=e.createSound(t);return n.chunk=t,n.rate=e.playbackRate,n.voice=e.voice,n.load((function(){return e.opts.onLoadingComplete()})),e.opts.onLoadingComplete(),e.opts.beforeChunkPlay(t).then((function(){return n}))})).then((function(t){if(e.playing){var n=e.playSound(t).then((function(){return e.opts.afterChunkPlay(t.chunk)}));return e.paused&&e.pause(),n}})).then((function(){if(e.playing)return e.step()}))}},{key:"createSound",value:function(e){throw new Error("Unimplemented abstract class")}},{key:"playSound",value:function(e){return this.activeSound=e,this.activeSound.loaded||this.opts.onLoadingStart(),this.activeSound.play()}},{key:"getBestVoice",value:function(){return e.getBestBookVoice(this.getVoices(),this.opts.bookLanguage)}}])&&p(t.prototype,n),o&&p(t,o),e}(),m=(n(3123),n(1030));function g(e,t){return new Promise((function(n){e.addEventListener(t,(function o(i){e.removeEventListener(t,o),n(i)}))}))}function y(e){return new Promise((function(t){return setTimeout(t,e)}))}function v(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:navigator.userAgent;return/android/i.test(e)}var b={Name:0,Endonym:1,"ISO 639-1":2,"ISO 639-2/T":3,"ISO 639-2/B":4};function V(e,t){for(var n=0;n<m.Z.length;n++)for(var o=0;o<t.length;o++){var i=t[o];if(-1!=m.Z[n][b[i]].split(", ").map((function(e){return e.toLowerCase()})).indexOf(e))return m.Z[n][b["ISO 639-1"]]}return null}n(5529),n(4371);var w=n(3609);function k(e){return(k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function M(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function S(e,t,n){return t&&M(e.prototype,t),n&&M(e,n),e}function O(e,t,n){return(O="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var o=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=x(e)););return e}(e,t);if(o){var i=Object.getOwnPropertyDescriptor(o,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function P(e,t){return(P=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function I(e,t){if(t&&("object"===k(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function x(e){return(x=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var E=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&P(e,t)}(i,e);var t,n,o=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,o=x(t);if(n){var i=x(this).constructor;e=Reflect.construct(o,arguments,i)}else e=o.apply(this,arguments);return I(this,e)});function i(e){var t,n;return _(this,i),(n=o.call(this,e)).audioFormat=null!==(t=w.browser)&&void 0!==t&&t.mozilla?"ogg":"mp3",n}return S(i,[{key:"getVoices",value:function(){return[{default:!0,lang:"en-US",localService:!1,name:"Festival - English (US)",voiceURI:null}]}},{key:"init",value:function(){soundManager.setup({debugMode:!1,preferFlash:!0,url:"/bookreader/BookReader/soundmanager/swf",useHTML5Audio:!0,flashVersion:9})}},{key:"start",value:function(e,t){var n=this,o=null;navigator.userAgent.match(/mobile/i)&&(o=this.iOSCaptureUserIntentHack()),(o=o||Promise.resolve()).then((function(){return O(x(i.prototype),"start",n).call(n,e,t)}))}},{key:"createSound",value:function(e){return new L(this.getSoundUrl(e.text))}},{key:"getSoundUrl",value:function(e){return"https://"+this.opts.server+"/BookReader/BookReaderGetTTS.php?string="+encodeURIComponent(e)+"&format=."+this.audioFormat}},{key:"iOSCaptureUserIntentHack",value:function(){var e=soundManager.createSound({url:q[this.audioFormat]});return new Promise((function(t){return e.play({onfinish:t})})).then((function(){return e.destruct()}))}}],[{key:"isSupported",value:function(){return"undefined"!=typeof soundManager&&soundManager.supported()}}]),i}(A),L=function(){function e(t){_(this,e),this.soundUrl=t,this.sound=null,this.rate=1,this._finishResolver=null}return S(e,[{key:"loaded",get:function(){return this.sound&&this.sound.loaded}},{key:"load",value:function(e){var t=this;return this.sound=soundManager.createSound({url:this.soundUrl,onload:function(){1!=t.rate&&t.sound.setPlaybackRate(t.rate),e()},onresume:function(){y(25).then((function(){1!=t.rate&&t.sound.setPlaybackRate(t.rate)}))}}),this.sound.load()}},{key:"play",value:function(){var e=this;return new Promise((function(t){e._finishResolver=t,e.sound.play({onfinish:t})})).then((function(){return e.sound.destruct()}))}},{key:"stop",value:function(){return this.sound.stop(),Promise.resolve()}},{key:"pause",value:function(){this.sound.pause()}},{key:"resume",value:function(){this.sound.resume()}},{key:"setPlaybackRate",value:function(e){this.rate=e,this.sound.setPlaybackRate(e)}},{key:"finish",value:function(){this.sound.stop(),this._finishResolver()}}]),e}(),q={mp3:"data:audio/mp3;base64,//uQxAAAAAAAAAAAAAAAAAAAAAAAWGluZwAAAA8AAAACAAACcQCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA//////////////////////////////////////////////////////////////////8AAAAeTEFNRTMuOTlyBJwAAAAAAAAAADUgJAaUQQABrgAAAnHIf8sZAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA//sQxAADwlwBKGAAACAAAD/AAAAEAAAAH///////////////+UBAMExBTUUzLjk5LjOqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqr/+xDEIAPAAAGkAAAAIAAANIAAAASqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqg==",ogg:"data:audio/ogg;base64,T2dnUwACAAAAAAAAAAAVEgAAAAAAAADSDf4BHgF2b3JiaXMAAAAAAUSsAAAAAAAAAHcBAAAAAAC4AU9nZ1MAAAAAAAAAAAAAFRIAAAEAAAB4VKTpEDv//////////////////8kDdm9yYmlzKwAAAFhpcGguT3JnIGxpYlZvcmJpcyBJIDIwMTIwMjAzIChPbW5pcHJlc2VudCkAAAAAAQV2b3JiaXMpQkNWAQAIAAAAMUwgxYDQkFUAABAAAGAkKQ6TZkkppZShKHmYlEhJKaWUxTCJmJSJxRhjjDHGGGOMMcYYY4wgNGQVAAAEAIAoCY6j5klqzjlnGCeOcqA5aU44pyAHilHgOQnC9SZjbqa0pmtuziklCA1ZBQAAAgBASCGFFFJIIYUUYoghhhhiiCGHHHLIIaeccgoqqKCCCjLIIINMMumkk0466aijjjrqKLTQQgsttNJKTDHVVmOuvQZdfHPOOeecc84555xzzglCQ1YBACAAAARCBhlkEEIIIYUUUogppphyCjLIgNCQVQAAIACAAAAAAEeRFEmxFMuxHM3RJE/yLFETNdEzRVNUTVVVVVV1XVd2Zdd2ddd2fVmYhVu4fVm4hVvYhV33hWEYhmEYhmEYhmH4fd/3fd/3fSA0ZBUAIAEAoCM5luMpoiIaouI5ogOEhqwCAGQAAAQAIAmSIimSo0mmZmquaZu2aKu2bcuyLMuyDISGrAIAAAEABAAAAAAAoGmapmmapmmapmmapmmapmmapmmaZlmWZVmWZVmWZVmWZVmWZVmWZVmWZVmWZVmWZVmWZVmWZVmWZVlAaMgqAEACAEDHcRzHcSRFUiTHciwHCA1ZBQDIAAAIAEBSLMVyNEdzNMdzPMdzPEd0RMmUTM30TA8IDVkFAAACAAgAAAAAAEAxHMVxHMnRJE9SLdNyNVdzPddzTdd1XVdVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVgdCQVQAABAAAIZ1mlmqACDOQYSA0ZBUAgAAAABihCEMMCA1ZBQAABAAAiKHkIJrQmvPNOQ6a5aCpFJvTwYlUmye5qZibc84555xszhnjnHPOKcqZxaCZ0JpzzkkMmqWgmdCac855EpsHranSmnPOGeecDsYZYZxzzmnSmgep2Vibc85Z0JrmqLkUm3POiZSbJ7W5VJtzzjnnnHPOOeecc86pXpzOwTnhnHPOidqba7kJXZxzzvlknO7NCeGcc84555xzzjnnnHPOCUJDVgEAQAAABGHYGMadgiB9jgZiFCGmIZMedI8Ok6AxyCmkHo2ORkqpg1BSGSeldILQkFUAACAAAIQQUkghhRRSSCGFFFJIIYYYYoghp5xyCiqopJKKKsoos8wyyyyzzDLLrMPOOuuwwxBDDDG00kosNdVWY4215p5zrjlIa6W11lorpZRSSimlIDRkFQAAAgBAIGSQQQYZhRRSSCGGmHLKKaegggoIDVkFAAACAAgAAADwJM8RHdERHdERHdERHdERHc/xHFESJVESJdEyLVMzPVVUVVd2bVmXddu3hV3Ydd/Xfd/XjV8XhmVZlmVZlmVZlmVZlmVZlmUJQkNWAQAgAAAAQgghhBRSSCGFlGKMMcecg05CCYHQkFUAACAAgAAAAABHcRTHkRzJkSRLsiRN0izN8jRP8zTRE0VRNE1TFV3RFXXTFmVTNl3TNWXTVWXVdmXZtmVbt31Ztn3f933f933f933f933f13UgNGQVACABAKAjOZIiKZIiOY7jSJIEhIasAgBkAAAEAKAojuI4jiNJkiRZkiZ5lmeJmqmZnumpogqEhqwCAAABAAQAAAAAAKBoiqeYiqeIiueIjiiJlmmJmqq5omzKruu6ruu6ruu6ruu6ruu6ruu6ruu6ruu6ruu6ruu6ruu6ruu6QGjIKgBAAgBAR3IkR3IkRVIkRXIkBwgNWQUAyAAACADAMRxDUiTHsixN8zRP8zTREz3RMz1VdEUXCA1ZBQAAAgAIAAAAAADAkAxLsRzN0SRRUi3VUjXVUi1VVD1VVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVXVNE3TNIHQkJUAABkAACNBBhmEEIpykEJuPVgIMeYkBaE5BqHEGISnEDMMOQ0idJBBJz24kjnDDPPgUigVREyDjSU3jiANwqZcSeU4CEJDVgQAUQAAgDHIMcQYcs5JyaBEzjEJnZTIOSelk9JJKS2WGDMpJaYSY+Oco9JJyaSUGEuKnaQSY4mtAACAAAcAgAALodCQFQFAFAAAYgxSCimFlFLOKeaQUsox5RxSSjmnnFPOOQgdhMoxBp2DECmlHFPOKccchMxB5ZyD0EEoAAAgwAEAIMBCKDRkRQAQJwDgcCTPkzRLFCVLE0XPFGXXE03XlTTNNDVRVFXLE1XVVFXbFk1VtiVNE01N9FRVE0VVFVXTlk1VtW3PNGXZVFXdFlXVtmXbFn5XlnXfM01ZFlXV1k1VtXXXln1f1m1dmDTNNDVRVFVNFFXVVFXbNlXXtjVRdFVRVWVZVFVZdmVZ91VX1n1LFFXVU03ZFVVVtlXZ9W1Vln3hdFVdV2XZ91VZFn5b14Xh9n3hGFXV1k3X1XVVln1h1mVht3XfKGmaaWqiqKqaKKqqqaq2baqurVui6KqiqsqyZ6qurMqyr6uubOuaKKquqKqyLKqqLKuyrPuqLOu2qKq6rcqysJuuq+u27wvDLOu6cKqurquy7PuqLOu6revGceu6MHymKcumq+q6qbq6buu6ccy2bRyjquq+KsvCsMqy7+u6L7R1IVFVdd2UXeNXZVn3bV93nlv3hbJtO7+t+8px67rS+DnPbxy5tm0cs24bv637xvMrP2E4jqVnmrZtqqqtm6qr67JuK8Os60JRVX1dlWXfN11ZF27fN45b142iquq6Ksu+sMqyMdzGbxy7MBxd2zaOW9edsq0LfWPI9wnPa9vGcfs64/Z1o68MCcePAACAAQcAgAATykChISsCgDgBAAYh5xRTECrFIHQQUuogpFQxBiFzTkrFHJRQSmohlNQqxiBUjknInJMSSmgplNJSB6GlUEproZTWUmuxptRi7SCkFkppLZTSWmqpxtRajBFjEDLnpGTOSQmltBZKaS1zTkrnoKQOQkqlpBRLSi1WzEnJoKPSQUippBJTSam1UEprpaQWS0oxthRbbjHWHEppLaQSW0kpxhRTbS3GmiPGIGTOScmckxJKaS2U0lrlmJQOQkqZg5JKSq2VklLMnJPSQUipg45KSSm2kkpMoZTWSkqxhVJabDHWnFJsNZTSWkkpxpJKbC3GWltMtXUQWgultBZKaa21VmtqrcZQSmslpRhLSrG1FmtuMeYaSmmtpBJbSanFFluOLcaaU2s1ptZqbjHmGlttPdaac0qt1tRSjS3GmmNtvdWae+8gpBZKaS2U0mJqLcbWYq2hlNZKKrGVklpsMebaWow5lNJiSanFklKMLcaaW2y5ppZqbDHmmlKLtebac2w19tRarC3GmlNLtdZac4+59VYAAMCAAwBAgAlloNCQlQBAFAAAQYhSzklpEHLMOSoJQsw5J6lyTEIpKVXMQQgltc45KSnF1jkIJaUWSyotxVZrKSm1FmstAACgwAEAIMAGTYnFAQoNWQkARAEAIMYgxBiEBhmlGIPQGKQUYxAipRhzTkqlFGPOSckYcw5CKhljzkEoKYRQSiophRBKSSWlAgAAChwAAAJs0JRYHKDQkBUBQBQAAGAMYgwxhiB0VDIqEYRMSiepgRBaC6111lJrpcXMWmqttNhACK2F1jJLJcbUWmatxJhaKwAA7MABAOzAQig0ZCUAkAcAQBijFGPOOWcQYsw56Bw0CDHmHIQOKsacgw5CCBVjzkEIIYTMOQghhBBC5hyEEEIIoYMQQgillNJBCCGEUkrpIIQQQimldBBCCKGUUgoAACpwAAAIsFFkc4KRoEJDVgIAeQAAgDFKOQehlEYpxiCUklKjFGMQSkmpcgxCKSnFVjkHoZSUWuwglNJabDV2EEppLcZaQ0qtxVhrriGl1mKsNdfUWoy15pprSi3GWmvNuQAA3AUHALADG0U2JxgJKjRkJQCQBwCAIKQUY4wxhhRiijHnnEMIKcWYc84pphhzzjnnlGKMOeecc4wx55xzzjnGmHPOOeccc84555xzjjnnnHPOOeecc84555xzzjnnnHPOCQAAKnAAAAiwUWRzgpGgQkNWAgCpAAAAEVZijDHGGBsIMcYYY4wxRhJijDHGGGNsMcYYY4wxxphijDHGGGOMMcYYY4wxxhhjjDHGGGOMMcYYY4wxxhhjjDHGGGOMMcYYY4wxxhhjjDHGGGOMMcYYW2uttdZaa6211lprrbXWWmutAEC/CgcA/wcbVkc4KRoLLDRkJQAQDgAAGMOYc445Bh2EhinopIQOQgihQ0o5KCWEUEopKXNOSkqlpJRaSplzUlIqJaWWUuogpNRaSi211loHJaXWUmqttdY6CKW01FprrbXYQUgppdZaiy3GUEpKrbXYYow1hlJSaq3F2GKsMaTSUmwtxhhjrKGU1lprMcYYay0ptdZijLXGWmtJqbXWYos11loLAOBucACASLBxhpWks8LR4EJDVgIAIQEABEKMOeeccxBCCCFSijHnoIMQQgghREox5hx0EEIIIYSMMeeggxBCCCGEkDHmHHQQQgghhBA65xyEEEIIoYRSSuccdBBCCCGUUELpIIQQQgihhFJKKR2EEEIooYRSSiklhBBCCaWUUkoppYQQQgihhBJKKaWUEEIIpZRSSimllBJCCCGUUkoppZRSQgihlFBKKaWUUkoIIYRSSimllFJKCSGEUEoppZRSSikhhBJKKaWUUkoppQAAgAMHAIAAI+gko8oibDThwgNQaMhKAIAMAABx2GrrKdbIIMWchJZLhJByEGIuEVKKOUexZUgZxRjVlDGlFFNSa+icYoxRT51jSjHDrJRWSiiRgtJyrLV2zAEAACAIADAQITOBQAEUGMgAgAOEBCkAoLDA0DFcBATkEjIKDArHhHPSaQMAEITIDJGIWAwSE6qBomI6AFhcYMgHgAyNjbSLC+gywAVd3HUghCAEIYjFARSQgIMTbnjiDU+4wQk6RaUOAgAAAAAAAQAeAACSDSAiIpo5jg6PD5AQkRGSEpMTlAAAAAAA4AGADwCAJAWIiIhmjqPD4wMkRGSEpMTkBCUAAAAAAAAAAAAICAgAAAAAAAQAAAAICE9nZ1MABCwAAAAAAAAAFRIAAAIAAAAPBTD1AgEBAAo="},R=n(7775);function T(e){return(T="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function D(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function C(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function F(e,t,n){return t&&C(e.prototype,t),n&&C(e,n),e}function B(e,t,n){return(B="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var o=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=j(e)););return e}(e,t);if(o){var i=Object.getOwnPropertyDescriptor(o,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function U(e,t){return(U=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function H(e,t){if(t&&("object"===T(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function j(e){return(j=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Q,N=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&U(e,t)}(i,e);var t,n,o=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,o=j(t);if(n){var i=j(this).constructor;e=Reflect.construct(o,arguments,i)}else e=o.apply(this,arguments);return H(this,e)});function i(e){var t;return D(this,i),t=o.call(this,e),speechSynthesis.addEventListener&&speechSynthesis.addEventListener("voiceschanged",(function(){return t.events.trigger("voiceschanged")})),t}return F(i,[{key:"start",value:function(e,t){var n=this;if("mediaSession"in navigator){var o=new Audio(z);o.loop=!0,this.events.on("pause",(function(){return o.pause()})),this.events.on("resume",(function(){return o.play()})),this.events.on("stop",(function(){return o.src=""})),o.play().then((function(){navigator.mediaSession.metadata=new MediaMetadata({title:br.bookTitle,artist:br.options.metadata.filter((function(e){return"Author"==e.label})).map((function(e){return e.value}))[0],artwork:[{src:br.options.thumbnail,type:"image/jpg"}]}),navigator.mediaSession.setActionHandler("play",(function(){o.play(),n.resume()})),navigator.mediaSession.setActionHandler("pause",(function(){o.pause(),n.pause()})),navigator.mediaSession.setActionHandler("previoustrack",(function(){return n.jumpBackward()})),navigator.mediaSession.setActionHandler("nexttrack",(function(){return n.jumpForward()}))}))}return B(j(i.prototype),"start",this).call(this,e,t)}},{key:"getVoices",value:function(){return speechSynthesis.getVoices()}},{key:"createSound",value:function(e){return new Y(e.text)}}],[{key:"isSupported",value:function(){return void 0!==window.speechSynthesis&&!/samsungbrowser/i.test(navigator.userAgent)}}]),i}(A),Y=function(){function e(t){D(this,e),this.text=t,this.loaded=!1,this.paused=!1,this.started=!1,this.stopped=!1,this.rate=1,this.utterance=null,this.voice=null,this._lastEvents={pause:null,boundary:null,start:null},this._charIndex=0,this._finishResolver=null,this._finishPromise=null}return F(e,[{key:"load",value:function(e){var t=this;this.loaded=!1,this.started=!1,this.utterance=new SpeechSynthesisUtterance(this.text.slice(this._charIndex)),this.utterance.voice=this.voice,this.voice&&(this.utterance.lang=this.voice.lang),this.utterance.rate=this.rate,-1!=location.toString().indexOf("_debugReadAloud=true")&&(this.utterance.addEventListener("pause",(function(){return console.log("pause")})),this.utterance.addEventListener("resume",(function(){return console.log("resume")})),this.utterance.addEventListener("start",(function(){return console.log("start")})),this.utterance.addEventListener("end",(function(){return console.log("end")})),this.utterance.addEventListener("error",(function(){return console.log("error")})),this.utterance.addEventListener("boundary",(function(){return console.log("boundary")})),this.utterance.addEventListener("mark",(function(){return console.log("mark")})),this.utterance.addEventListener("finish",(function(){return console.log("finish")}))),this.utterance.addEventListener("start",(function(e){return t._lastEvents.start=e})),this.utterance.addEventListener("boundary",(function(e){return t._lastEvents.boundary=e})),this.utterance.addEventListener("pause",(function(e){return t._lastEvents.pause=e})),this.utterance.addEventListener("start",(function(){t.started=!0,t.stopped=!1,t.paused=!1})),this.utterance.addEventListener("pause",(function(){return t.paused=!0})),this.utterance.addEventListener("resume",(function(){return t.paused=!1})),this.utterance.addEventListener("end",(function(e){t.paused||t.stopped||t.utterance.dispatchEvent(new CustomEvent("finish",e))})),this.loaded=!0,e&&e()}},{key:"reload",value:function(){var e=this,t=this.paused,n=this._lastEvents.boundary||this._lastEvents.pause;return n&&(this._charIndex=this.text.indexOf(n.target.text)+n.charIndex),this.stop().then((function(){e.load(),t||e.play()}))}},{key:"play",value:function(){var e=this;this._finishPromise=this._finishPromise||new Promise((function(t){return e._finishResolver=t})),this.utterance.addEventListener("finish",this._finishResolver),speechSynthesis.cancel(),speechSynthesis.resume(),speechSynthesis.speak(this.utterance);var t=this.utterance.voice&&this.utterance.voice.localService;return(0,R.i7)()&&!t&&this._chromePausingBugFix(),this._finishPromise}},{key:"stop",value:function(){var e=Promise.resolve();return this.stopped||(e=Promise.race([g(this.utterance,"end"),g(this.utterance,"error")])),this.stopped=!0,speechSynthesis.cancel(),e}},{key:"finish",value:function(){var e=this;this.stop().then((function(){return e.utterance.dispatchEvent(new Event("finish"))}))}},{key:"pause",value:function(){var e=this;if(!this.paused){var t=g(this.utterance,"pause");speechSynthesis.pause();var n=(0,R.vU)()&&v();if((0,R.i7)()||n){var o=y(100).then((function(){return"timeout"}));Promise.race([t,o]).then((function(t){"timeout"==t&&(e.utterance.dispatchEvent(new CustomEvent("pause",e._lastEvents.start)),n&&e.stop())}))}}}},{key:"resume",value:function(){var e=this;if(this.started){if(this.paused){var t=(0,R.i7)()&&v()||(0,R.vU)()&&v(),n=(0,R.i7)()||t,o=g(this.utterance,"resume");speechSynthesis.resume(),n&&Promise.race([o,y(100).then((function(){return"timeout"}))]).then((function(n){"timeout"==n&&(e.utterance.dispatchEvent(new CustomEvent("resume",{})),t&&e.reload().then((function(){return e.play()})))}))}}else this.play()}},{key:"setPlaybackRate",value:function(e){this.rate=e,this.reload()}},{key:"setVoice",value:function(e){this.voice=e,this.reload()}},{key:"_chromePausingBugFix",value:function(){var e=this,t=y(14e3).then((function(){return"timeout"})),n=g(this.utterance,"pause").then((function(){return"paused"})),o=g(this.utterance,"end").then((function(){return"ended"}));return Promise.race([t,n,o]).then((function(t){switch(-1!=location.toString().indexOf("_debugReadAloud=true")&&console.log("CHROME-PAUSE-HACK: ".concat(t)),t){case"ended":break;case"paused":Promise.race([g(e.utterance,"resume"),y(14e3).then((function(){return"timeout"}))]).then((function(t){"timeout"==t?e.reload():e._chromePausingBugFix()}));break;case"timeout":speechSynthesis.pause(),y(25).then((function(){speechSynthesis.resume(),e._chromePausingBugFix()}))}}))}}]),e}(),z="data:audio/mp3;base64,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",K="Read this book aloud",Z=n(9860),W=n(3609),G=n(3609);function X(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var o,i,a=[],r=!0,s=!1;try{for(n=n.call(e);!(r=(o=n.next()).done)&&(a.push(o.value),!t||a.length!==t);r=!0);}catch(e){s=!0,i=e}finally{try{r||null==n.return||n.return()}finally{if(s)throw i}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return J(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?J(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function J(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}function $(e,t,n,o,i,a,r){try{var s=e[a](r),u=s.value}catch(e){return void n(e)}s.done?t(u):Promise.resolve(u).then(o,i)}W.extend(BookReader.defaultOptions,{server:"ia600609.us.archive.org",bookPath:"",enableTtsPlugin:!0}),BookReader.prototype.setup=(Q=BookReader.prototype.setup,function(e){if(Q.call(this,e),this.options.enableTtsPlugin){this._ttsBoxesByIndex={};var t=N.isSupported()?N:E.isSupported()?E:null;if(/_forceTTSEngine=(festival|web)/.test(location.toString())){var n=location.toString().match(/_forceTTSEngine=(festival|web)/)[1];t={festival:E,web:N}[n]}t&&(this.ttsEngine=new t({server:e.server,bookPath:e.bookPath,bookLanguage:(o=e.bookLanguage,o?V(o=o.toLowerCase(),["ISO 639-1"])||V(o,["ISO 639-2/B"])||V(o,["ISO 639-2/T","Endonym","Name"]):null),onLoadingStart:this.showProgressPopup.bind(this,"Loading audio..."),onLoadingComplete:this.removeProgressPopup.bind(this),onDone:this.ttsStop.bind(this),beforeChunkPlay:this.ttsBeforeChunkPlay.bind(this),afterChunkPlay:this.ttsSendChunkFinishedAnalyticsEvent.bind(this)}))}var o}),BookReader.prototype.init=function(e){return function(){var t=this;this.options.enableTtsPlugin&&this.bind(BookReader.eventNames.PostInit,(function(){t.$(".BRicon.read").click((function(){return t.ttsToggle(),!1})),t.ttsEngine&&(t.ttsEngine.init(),/[?&]_autoReadAloud=show/.test(location.toString())&&t.ttsStart(!1))})),e.call(this)}}(BookReader.prototype.init),BookReader.prototype._createPageContainer=function(e){return function(t){var n=e.call(this,t);if(this.options.enableTtsPlugin&&n.page&&t in this._ttsBoxesByIndex){var o=n.page.index;(0,Z.Tm)("ttsHiliteLayer",this._ttsBoxesByIndex[o],n.page,n.$container[0])}return n}}(BookReader.prototype._createPageContainer),BookReader.prototype.buildMobileDrawerElement=function(e){return function(){var t=e.call(this);return this.options.enableTtsPlugin&&this.ttsEngine&&t.find(".BRmobileMenu__moreInfoRow").after(G('\n        <li>\n            <span>\n                <span class="DrawerIconWrapper"><img class="DrawerIcon" src="'.concat(this.imagesBaseURL,'icon_speaker_open.svg" alt="info-speaker"/></span>\n                Read Aloud\n            </span>\n            <div>\n                <span class="larger">Press to toggle read aloud</span>\n                <br/>\n                <button class="BRicon read"></button>\n            </div>\n        </li>'))),t}}(BookReader.prototype.buildMobileDrawerElement),BookReader.prototype.initNavbar=function(e){return function(){var t=this,n=e.call(this);if(this.options.enableTtsPlugin&&this.ttsEngine){this.refs.$BRReadAloudToolbar=G('\n        <ul class="read-aloud">\n          <li>\n            <select class="playback-speed" name="playback-speed" title="'.concat("Playback speed",'">\n              <option value="0.25">0.25x</option>\n              <option value="0.5">0.5x</option>\n              <option value="0.75">0.75x</option>\n              <option value="1.0" selected>1.0x</option>\n              <option value="1.25">1.25x</option>\n              <option value="1.5">1.5x</option>\n              <option value="1.75">1.75x</option>\n              <option value="2">2x</option>\n            </select>\n          </li>\n          <li>\n            <button type="button" name="review" title="').concat("Review 10 seconds",'">\n              <div class="icon icon-review"></div>\n            </button>\n          </li>\n          <li>\n            <button type="button" name="play" title="').concat("Play",'">\n              <div class="icon icon-play"></div>\n              <div class="icon icon-pause"></div>\n            </button>\n          </li>\n          <li>\n            <button type="button" name="advance" title="').concat("Advance 10 seconds",'">\n              <div class="icon icon-advance"></div>\n            </button>\n          </li>\n          <li>\n            <select class="playback-voices" name="playback-voice" style="display: none" title="Change read aloud voices">\n            </select>\n          </li>\n        </ul>\n      ')),n.find(".BRcontrols").prepend(this.refs.$BRReadAloudToolbar);var o=function(e){e.empty(),t.ttsEngine.getVoices().length>1?(e.append(t.ttsEngine.getVoices().map((function(e){return G('<option value="'.concat(e.voiceURI,'">').concat(e.lang," - ").concat(e.name,"</option>"))}))),e.val(t.ttsEngine.voice.voiceURI),e.show()):e.hide()},i=this.refs.$BRReadAloudToolbar.find("[name=playback-voice]");o(i),i.on("change",(function(e){return t.ttsEngine.setVoice(i.val())})),this.ttsEngine.events.on("pause resume start",(function(){return t.ttsUpdateState()})),this.ttsEngine.events.on("voiceschanged",(function(){return o(i)})),this.refs.$BRReadAloudToolbar.find("[name=play]").on("click",this.ttsPlayPause.bind(this)),this.refs.$BRReadAloudToolbar.find("[name=advance]").on("click",this.ttsJumpForward.bind(this)),this.refs.$BRReadAloudToolbar.find("[name=review]").on("click",this.ttsJumpBackward.bind(this));var a=this.refs.$BRReadAloudToolbar.find('select[name="playback-speed"]');a.on("change",(function(e){return t.ttsEngine.setPlaybackRate(parseFloat(a.val()))})),G('<li>\n          <button class="BRicon read js-tooltip" title="'.concat(K,'">\n            <div class="icon icon-read-aloud"></div>\n            <span class="tooltip">').concat(K,"</span>\n          </button>\n        </li>")).insertBefore(n.find(".BRcontrols .BRicon.zoom_out").closest("li"))}return n}}(BookReader.prototype.initNavbar),BookReader.prototype.ttsToggle=function(){this.autoStop&&this.autoStop(),this.ttsEngine.playing?this.ttsStop():this.ttsStart()},BookReader.prototype.ttsStart=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.constModeThumb==this.mode&&this.switchMode(this.constMode1up),this.refs.$BRReadAloudToolbar.addClass("visible"),this.$(".BRicon.read").addClass("unread active"),this.ttsSendAnalyticsEvent("Start"),e&&this.ttsEngine.start(this.currentIndex(),this.getNumLeafs())},BookReader.prototype.ttsJumpForward=function(){this.ttsEngine.paused&&this.ttsEngine.resume(),this.ttsEngine.jumpForward()},BookReader.prototype.ttsJumpBackward=function(){this.ttsEngine.paused&&this.ttsEngine.resume(),this.ttsEngine.jumpBackward()},BookReader.prototype.ttsUpdateState=function(){var e=!(this.ttsEngine.paused||!this.ttsEngine.playing);this.$(".read-aloud [name=play]").toggleClass("playing",e)},BookReader.prototype.ttsPlayPause=function(){this.ttsEngine.playing?(this.ttsEngine.togglePlayPause(),this.ttsUpdateState(this.ttsEngine.paused)):this.ttsToggle()},BookReader.prototype.ttsStop=function(){this.refs.$BRReadAloudToolbar.removeClass("visible"),this.$(".BRicon.read").removeClass("unread active"),this.ttsSendAnalyticsEvent("Stop"),this.ttsEngine.stop(),this.ttsRemoveHilites(),this.removeProgressPopup()},BookReader.prototype.ttsBeforeChunkPlay=function(){var e,t=(e=regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.ttsMaybeFlipToIndex(t.leafIndex);case 2:this.ttsHighlightChunk(t);case 3:case"end":return e.stop()}}),e,this)})),function(){var t=this,n=arguments;return new Promise((function(o,i){var a=e.apply(t,n);function r(e){$(a,o,i,r,s,"next",e)}function s(e){$(a,o,i,r,s,"throw",e)}r(void 0)}))});return function(e){return t.apply(this,arguments)}}(),BookReader.prototype.ttsSendChunkFinishedAnalyticsEvent=function(e){var t;this.ttsSendAnalyticsEvent("ChunkFinished-Words",(t=e.text.match(/\S+/g))?t.length:0)},BookReader.prototype.ttsMaybeFlipToIndex=function(e){var t=this.constMode2up==this.mode,n=null,o=new Promise((function(e){return n=e}));return t?e==this.twoPage.currentIndexR||e==this.twoPage.currentIndexL?n():(this.animationFinishedCallback=n,e>Math.max(this.twoPage.currentIndexR,this.twoPage.currentIndexL)?this.next():this.prev(),o.then(this.ttsMaybeFlipToIndex.bind(this,e))):(this.jumpToIndex(e),n()),o},BookReader.prototype.ttsHighlightChunk=function(e){var t,n,o,i=this,a=e.leafIndex;this.ttsRemoveHilites(),this._ttsBoxesByIndex=(t={},n=a,o=e.lineRects.map((function(e){var t=X(e,4),n=t[0],o=t[1];return{l:n,r:t[2],b:o,t:t[3]}})),n in t?Object.defineProperty(t,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[n]=o,t);for(var r=function(){var e=X(u[s],2),t=e[0],n=e[1],o=parseFloat(t),a=i._models.book.getPage(o);i.getActivePageContainerElementsForIndex(o).forEach((function(e){return(0,Z.Tm)("ttsHiliteLayer",n,a,e)}))},s=0,u=Object.entries(this._ttsBoxesByIndex);s<u.length;s++)r()},BookReader.prototype.ttsScrollToChunk=function(e){var t;this.constMode1up==this.mode&&(null===(t=G(".pagediv".concat(e.leafIndex," .ttsHiliteLayer rect"))[0])||void 0===t||t.scrollIntoView())},BookReader.prototype.ttsRemoveHilites=function(){G(this.getActivePageContainerElements()).find(".ttsHiliteLayer").remove(),this._ttsBoxesByIndex={}},BookReader.prototype.ttsSendAnalyticsEvent=function(e,t){if(this.archiveAnalyticsSendEvent){var n={},o=this.ttsEngine.opts.bookLanguage;o&&(n.mediaLanguage=o),this.archiveAnalyticsSendEvent("BRReadAloud",e,t,n)}}},7775:function(e,t,n){"use strict";function o(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:navigator.userAgent,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:navigator.vendor;return/chrome/i.test(e)&&/google inc/i.test(t)}function i(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:navigator.userAgent;return/firefox/i.test(e)}function a(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:navigator.userAgent;return/safari/i.test(e)&&!/chrome|chromium/i.test(e)}n.d(t,{i7:function(){return o},vU:function(){return i},G6:function(){return a}})},9720:function(e,t,n){var o=n(2109),i=n(4699).entries;o({target:"Object",stat:!0},{entries:function(e){return i(e)}})},4723:function(e,t,n){"use strict";var o=n(7007),i=n(9670),a=n(7466),r=n(1340),s=n(4488),u=n(1530),l=n(7651);o("match",(function(e,t,n){return[function(t){var n=s(this),o=null==t?void 0:t[e];return void 0!==o?o.call(t,n):new RegExp(t)[e](r(n))},function(e){var o=i(this),s=r(e),c=n(t,o,s);if(c.done)return c.value;if(!o.global)return l(o,s);var d=o.unicode;o.lastIndex=0;for(var h,f=[],p=0;null!==(h=l(o,s));){var A=r(h[0]);f[p]=A,""===A&&(o.lastIndex=u(s,a(o.lastIndex),d)),p++}return 0===p?null:f}]}))},6755:function(e,t,n){"use strict";var o,i=n(2109),a=n(1236).f,r=n(7466),s=n(1340),u=n(3929),l=n(4488),c=n(4964),d=n(1913),h="".startsWith,f=Math.min,p=c("startsWith");i({target:"String",proto:!0,forced:!(!d&&!p&&(o=a(String.prototype,"startsWith"),o&&!o.writable)||p)},{startsWith:function(e){var t=s(l(this));u(e);var n=r(f(arguments.length>1?arguments[1]:void 0,t.length)),o=s(e);return h?h.call(t,o,n):t.slice(n,n+o.length)===o}})},1030:function(e,t){"use strict";t.Z=void 0,t.Z=[["Serbian","српски језик","sr","srp","srp"],["Romanian, Moldavian, Moldovan","Română","ro","ron","rum"],["Sichuan Yi, Nuosu","ꆈꌠ꒿ Nuosuhxop","ii","iii","iii"],["Tahitian","Reo Tahiti","ty","tah","tah"],["Tagalog","Wikang Tagalog","tl","tgl","tgl"],["Yiddish","ייִדיש","yi","yid","yid"],["Akan","Akan","ak","aka","aka"],["Malay","Bahasa Melayu, بهاس ملايو‎","ms","msa","may"],["Arabic","العربية","ar","ara","ara"],["Norwegian","Norsk","no","nor","nor"],["Ojibwa","ᐊᓂᔑᓈᐯᒧᐎᓐ","oj","oji","oji"],["Fulah","Fulfulde, Pulaar, Pular","ff","ful","ful"],["Persian","فارسی","fa","fas","per"],["Albanian","Shqip","sq","sqi","alb"],["Aymara","aymar aru","ay","aym","aym"],["Azerbaijani","azərbaycan dili","az","aze","aze"],["Chinese","中文 (Zhōngwén), 汉语, 漢語","zh","zho","chi"],["Cree","ᓀᐦᐃᔭᐍᐏᐣ","cr","cre","cre"],["Estonian","eesti, eesti keel","et","est","est"],["Guaraní","Avañe'ẽ","gn","grn","grn"],["Inupiaq","Iñupiaq, Iñupiatun","ik","ipk","ipk"],["Inuktitut","ᐃᓄᒃᑎᑐᑦ","iu","iku","iku"],["Kanuri","Kanuri","kr","kau","kau"],["Komi","коми кыв","kv","kom","kom"],["Kongo","Kikongo","kg","kon","kon"],["Kurdish","Kurdî, کوردی‎","ku","kur","kur"],["Latvian","latviešu valoda","lv","lav","lav"],["Malagasy","fiteny malagasy","mg","mlg","mlg"],["Mongolian","Монгол хэл","mn","mon","mon"],["Oromo","Afaan Oromoo","om","orm","orm"],["Pashto, Pushto","پښتو","ps","pus","pus"],["Quechua","Runa Simi, Kichwa","qu","que","que"],["Sardinian","sardu","sc","srd","srd"],["Swahili","Kiswahili","sw","swa","swa"],["Uzbek","Oʻzbek, Ўзбек, أۇزبېك‎","uz","uzb","uzb"],["Zhuang, Chuang","Saɯ cueŋƅ, Saw cuengh","za","zha","zha"],["Bislama","Bislama","bi","bis","bis"],["Norwegian Bokmål","Norsk Bokmål","nb","nob","nob"],["Norwegian Nynorsk","Norsk Nynorsk","nn","nno","nno"],["Indonesian","Bahasa Indonesia","id","ind","ind"],["Twi","Twi","tw","twi","twi"],["Esperanto","Esperanto","eo","epo","epo"],["Interlingua","Interlingua","ia","ina","ina"],["Interlingue","Originally called Occidental; then Interlingue after WWII","ie","ile","ile"],["Ido","Ido","io","ido","ido"],["Volapük","Volapük","vo","vol","vol"],["Bihari languages","भोजपुरी","bh","bih","bih"],["Hebrew (modern)","עברית","he","heb","heb"],["Sanskrit","संस्कृतम्","sa","san","san"],["Church Slavic, Church Slavonic, Old Church Slavonic, Old Slavonic, Old Bulgarian","ѩзыкъ словѣньскъ","cu","chu","chu"],["Pali","पाऴि","pi","pli","pli"],["Avestan","avesta","ae","ave","ave"],["Latin","latine, lingua latina","la","lat","lat"],["Armenian","Հայերեն","hy","hye","arm"],["Swati","SiSwati","ss","ssw","ssw"],["Tibetan","བོད་ཡིག","bo","bod","tib"],["South Ndebele","isiNdebele","nr","nbl","nbl"],["Slovene","Slovenski Jezik, Slovenščina","sl","slv","slv"],["Oriya","ଓଡ଼ିଆ","or","ori","ori"],["North Ndebele","isiNdebele","nd","nde","nde"],["Nauru","Dorerin Naoero","na","nau","nau"],["Maori","te reo Māori","mi","mri","mao"],["Marathi","मराठी","mr","mar","mar"],["Luba-Katanga","Kiluba","lu","lub","lub"],["Rundi","Ikirundi","rn","run","run"],["Central Khmer","ខ្មែរ, ខេមរភាសា, ភាសាខ្មែរ","km","khm","khm"],["Western Frisian","Frysk","fy","fry","fry"],["Bengali","বাংলা","bn","ben","ben"],["Avaric","авар мацӀ, магӀарул мацӀ","av","ava","ava"],["Abkhazian","аҧсуа бызшәа, аҧсшәа","ab","abk","abk"],["Afar","Afaraf","aa","aar","aar"],["Afrikaans","Afrikaans","af","afr","afr"],["Amharic","አማርኛ","am","amh","amh"],["Aragonese","aragonés","an","arg","arg"],["Assamese","অসমীয়া","as","asm","asm"],["Bambara","bamanankan","bm","bam","bam"],["Bashkir","башҡорт теле","ba","bak","bak"],["Basque","euskara, euskera","eu","eus","baq"],["Belarusian","беларуская мова","be","bel","bel"],["Bosnian","bosanski jezik","bs","bos","bos"],["Breton","brezhoneg","br","bre","bre"],["Bulgarian","български език","bg","bul","bul"],["Burmese","ဗမာစာ","my","mya","bur"],["Catalan, Valencian","català, valencià","ca","cat","cat"],["Chamorro","Chamoru","ch","cha","cha"],["Chechen","нохчийн мотт","ce","che","che"],["Chichewa, Chewa, Nyanja","chiCheŵa, chinyanja","ny","nya","nya"],["Chuvash","чӑваш чӗлхи","cv","chv","chv"],["Cornish","Kernewek","kw","cor","cor"],["Corsican","corsu, lingua corsa","co","cos","cos"],["Croatian","hrvatski jezik","hr","hrv","hrv"],["Czech","čeština, český jazyk","cs","ces","cze"],["Danish","dansk","da","dan","dan"],["Divehi, Dhivehi, Maldivian","ދިވެހި","dv","div","div"],["Dutch, Flemish","Nederlands, Vlaams","nl","nld","dut"],["Dzongkha","རྫོང་ཁ","dz","dzo","dzo"],["English","English","en","eng","eng"],["Ewe","Eʋegbe","ee","ewe","ewe"],["Faroese","føroyskt","fo","fao","fao"],["Fijian","vosa Vakaviti","fj","fij","fij"],["Finnish","suomi, suomen kieli","fi","fin","fin"],["French","français, langue française","fr","fra","fre"],["Galician","Galego","gl","glg","glg"],["Georgian","ქართული","ka","kat","geo"],["German","Deutsch","de","deu","ger"],["Greek (modern)","ελληνικά","el","ell","gre"],["Gujarati","ગુજરાતી","gu","guj","guj"],["Haitian, Haitian Creole","Kreyòl ayisyen","ht","hat","hat"],["Hausa","(Hausa) هَوُسَ","ha","hau","hau"],["Herero","Otjiherero","hz","her","her"],["Hindi","हिन्दी, हिंदी","hi","hin","hin"],["Hiri Motu","Hiri Motu","ho","hmo","hmo"],["Hungarian","magyar","hu","hun","hun"],["Irish","Gaeilge","ga","gle","gle"],["Igbo","Asụsụ Igbo","ig","ibo","ibo"],["Icelandic","Íslenska","is","isl","ice"],["Italian","Italiano","it","ita","ita"],["Japanese","日本語 (にほんご)","ja","jpn","jpn"],["Javanese","ꦧꦱꦗꦮ, Basa Jawa","jv","jav","jav"],["Kalaallisut, Greenlandic","kalaallisut, kalaallit oqaasii","kl","kal","kal"],["Kannada","ಕನ್ನಡ","kn","kan","kan"],["Kashmiri","कश्मीरी, كشميري‎","ks","kas","kas"],["Kazakh","қазақ тілі","kk","kaz","kaz"],["Kikuyu, Gikuyu","Gĩkũyũ","ki","kik","kik"],["Kinyarwanda","Ikinyarwanda","rw","kin","kin"],["Kirghiz, Kyrgyz","Кыргызча, Кыргыз тили","ky","kir","kir"],["Korean","한국어","ko","kor","kor"],["Kuanyama, Kwanyama","Kuanyama","kj","kua","kua"],["Luxembourgish, Letzeburgesch","Lëtzebuergesch","lb","ltz","ltz"],["Ganda","Luganda","lg","lug","lug"],["Limburgan, Limburger, Limburgish","Limburgs","li","lim","lim"],["Lingala","Lingála","ln","lin","lin"],["Lao","ພາສາລາວ","lo","lao","lao"],["Lithuanian","lietuvių kalba","lt","lit","lit"],["Manx","Gaelg, Gailck","gv","glv","glv"],["Macedonian","македонски јазик","mk","mkd","mac"],["Malayalam","മലയാളം","ml","mal","mal"],["Maltese","Malti","mt","mlt","mlt"],["Marshallese","Kajin M̧ajeļ","mh","mah","mah"],["Navajo, Navaho","Diné bizaad","nv","nav","nav"],["Nepali","नेपाली","ne","nep","nep"],["Ndonga","Owambo","ng","ndo","ndo"],["Occitan","occitan, lenga d'òc","oc","oci","oci"],["Ossetian, Ossetic","ирон æвзаг","os","oss","oss"],["Panjabi, Punjabi","ਪੰਜਾਬੀ","pa","pan","pan"],["Polish","język polski, polszczyzna","pl","pol","pol"],["Portuguese","Português","pt","por","por"],["Romansh","Rumantsch Grischun","rm","roh","roh"],["Russian","русский","ru","rus","rus"],["Sindhi","सिन्धी, سنڌي، سندھی‎","sd","snd","snd"],["Northern Sami","Davvisámegiella","se","sme","sme"],["Samoan","gagana fa'a Samoa","sm","smo","smo"],["Sango","yângâ tî sängö","sg","sag","sag"],["Gaelic, Scottish Gaelic","Gàidhlig","gd","gla","gla"],["Shona","chiShona","sn","sna","sna"],["Sinhala, Sinhalese","සිංහල","si","sin","sin"],["Slovak","Slovenčina, Slovenský Jazyk","sk","slk","slo"],["Somali","Soomaaliga, af Soomaali","so","som","som"],["Southern Sotho","Sesotho","st","sot","sot"],["Spanish, Castilian","Español","es","spa","spa"],["Sundanese","Basa Sunda","su","sun","sun"],["Swedish","Svenska","sv","swe","swe"],["Tamil","தமிழ்","ta","tam","tam"],["Telugu","తెలుగు","te","tel","tel"],["Tajik","тоҷикӣ, toçikī, تاجیکی‎","tg","tgk","tgk"],["Thai","ไทย","th","tha","tha"],["Tigrinya","ትግርኛ","ti","tir","tir"],["Turkmen","Türkmen, Түркмен","tk","tuk","tuk"],["Tswana","Setswana","tn","tsn","tsn"],["Tongan (Tonga Islands)","Faka Tonga","to","ton","ton"],["Turkish","Türkçe","tr","tur","tur"],["Tsonga","Xitsonga","ts","tso","tso"],["Tatar","татар теле, tatar tele","tt","tat","tat"],["Uighur, Uyghur","ئۇيغۇرچە‎, Uyghurche","ug","uig","uig"],["Ukrainian","Українська","uk","ukr","ukr"],["Urdu","اردو","ur","urd","urd"],["Venda","Tshivenḓa","ve","ven","ven"],["Vietnamese","Tiếng Việt","vi","vie","vie"],["Walloon","Walon","wa","wln","wln"],["Welsh","Cymraeg","cy","cym","wel"],["Wolof","Wollof","wo","wol","wol"],["Xhosa","isiXhosa","xh","xho","xho"],["Yoruba","Yorùbá","yo","yor","yor"],["Zulu","isiZulu","zu","zul","zul"]]},4371:function(e,t,n){var o,i;o=[n(3609)],void 0===(i=function(e){return function(e){"use strict";function t(e){void 0===e&&(e=window.navigator.userAgent),e=e.toLowerCase();var t=/(edge)\/([\w.]+)/.exec(e)||/(opr)[\/]([\w.]+)/.exec(e)||/(chrome)[ \/]([\w.]+)/.exec(e)||/(iemobile)[\/]([\w.]+)/.exec(e)||/(version)(applewebkit)[ \/]([\w.]+).*(safari)[ \/]([\w.]+)/.exec(e)||/(webkit)[ \/]([\w.]+).*(version)[ \/]([\w.]+).*(safari)[ \/]([\w.]+)/.exec(e)||/(webkit)[ \/]([\w.]+)/.exec(e)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(e)||/(msie) ([\w.]+)/.exec(e)||e.indexOf("trident")>=0&&/(rv)(?::| )([\w.]+)/.exec(e)||e.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(e)||[],n=/(ipad)/.exec(e)||/(ipod)/.exec(e)||/(windows phone)/.exec(e)||/(iphone)/.exec(e)||/(kindle)/.exec(e)||/(silk)/.exec(e)||/(android)/.exec(e)||/(win)/.exec(e)||/(mac)/.exec(e)||/(linux)/.exec(e)||/(cros)/.exec(e)||/(playbook)/.exec(e)||/(bb)/.exec(e)||/(blackberry)/.exec(e)||[],o={},i={browser:t[5]||t[3]||t[1]||"",version:t[2]||t[4]||"0",versionNumber:t[4]||t[2]||"0",platform:n[0]||""};if(i.browser&&(o[i.browser]=!0,o.version=i.version,o.versionNumber=parseInt(i.versionNumber,10)),i.platform&&(o[i.platform]=!0),(o.android||o.bb||o.blackberry||o.ipad||o.iphone||o.ipod||o.kindle||o.playbook||o.silk||o["windows phone"])&&(o.mobile=!0),(o.cros||o.mac||o.linux||o.win)&&(o.desktop=!0),(o.chrome||o.opr||o.safari)&&(o.webkit=!0),o.rv||o.iemobile){var a="msie";i.browser=a,o[a]=!0}if(o.edge){delete o.edge;var r="msedge";i.browser=r,o.msedge=!0}if(o.safari&&o.blackberry){var s="blackberry";i.browser=s,o.blackberry=!0}if(o.safari&&o.playbook){var u="playbook";i.browser=u,o.playbook=!0}if(o.bb){var l="blackberry";i.browser=l,o[l]=!0}if(o.opr){var c="opera";i.browser=c,o.opera=!0}if(o.safari&&o.android){var d="android";i.browser=d,o.android=!0}if(o.safari&&o.kindle){var h="kindle";i.browser=h,o.kindle=!0}if(o.safari&&o.silk){var f="silk";i.browser=f,o.silk=!0}return o.name=i.browser,o.platform=i.platform,o}return window.jQBrowser=t(window.navigator.userAgent),window.jQBrowser.uaMatch=t,e&&(e.browser=window.jQBrowser),window.jQBrowser}(e)}.apply(t,o))||(e.exports=i)},5529:function(e,t,n){var o;e=n.nmd(e),function(i,a){"use strict";if(!i||!i.document)throw new Error("SoundManager requires a browser with window and document objects.");var r=null;function s(e,t){this.setupOptions={url:e||null,flashVersion:8,debugMode:!0,debugFlash:!1,useConsole:!0,consoleOnly:!0,waitForWindowLoad:!1,bgColor:"#ffffff",useHighPerformance:!1,flashPollingInterval:null,html5PollingInterval:null,flashLoadTimeout:1e3,wmode:null,allowScriptAccess:"always",useFlashBlock:!1,useHTML5Audio:!0,forceUseGlobalHTML5Audio:!1,ignoreMobileRestrictions:!1,html5Test:/^(probably|maybe)$/i,preferFlash:!1,noSWFCache:!1,idPrefix:"sound"},this.defaultOptions={autoLoad:!1,autoPlay:!1,from:null,loops:1,onid3:null,onerror:null,onload:null,whileloading:null,onplay:null,onpause:null,onresume:null,whileplaying:null,onposition:null,onstop:null,onfinish:null,multiShot:!0,multiShotEvents:!1,position:null,pan:0,playbackRate:1,stream:!0,to:null,type:null,usePolicyFile:!1,volume:100},this.flash9Options={onfailure:null,isMovieStar:null,usePeakData:!1,useWaveformData:!1,useEQData:!1,onbufferchange:null,ondataerror:null},this.movieStarOptions={bufferTime:3,serverURL:null,onconnect:null,duration:null},this.audioFormats={mp3:{type:['audio/mpeg; codecs="mp3"',"audio/mpeg","audio/mp3","audio/MPA","audio/mpa-robust"],required:!0},mp4:{related:["aac","m4a","m4b"],type:['audio/mp4; codecs="mp4a.40.2"',"audio/aac","audio/x-m4a","audio/MP4A-LATM","audio/mpeg4-generic"],required:!1},ogg:{type:["audio/ogg; codecs=vorbis"],required:!1},opus:{type:["audio/ogg; codecs=opus","audio/opus"],required:!1},wav:{type:['audio/wav; codecs="1"',"audio/wav","audio/wave","audio/x-wav"],required:!1},flac:{type:["audio/flac"],required:!1}},this.movieID="sm2-container",this.id=t||"sm2movie",this.debugID="soundmanager-debug",this.debugURLParam=/([#?&])debug=1/i,this.versionNumber="V2.97a.20170601",this.version=null,this.movieURL=null,this.altURL=null,this.swfLoaded=!1,this.enabled=!1,this.oMC=null,this.sounds={},this.soundIDs=[],this.muted=!1,this.didFlashBlock=!1,this.filePattern=null,this.filePatterns={flash8:/\.mp3(\?.*)?$/i,flash9:/\.mp3(\?.*)?$/i},this.features={buffering:!1,peakData:!1,waveformData:!1,eqData:!1,movieStar:!1},this.sandbox={type:null,types:{remote:"remote (domain-based) rules",localWithFile:"local with file access (no internet access)",localWithNetwork:"local with network (internet access only, no local access)",localTrusted:"local, trusted (local+internet access)"},description:null,noRemote:null,noLocal:null},this.html5={usingFlash:null},this.flash={},this.html5Only=!1,this.ignoreFlash=!1;var n,o,r,s,u,l,c,d,h,f,p,A,m,g,y,v,b,V,w,k,_,M,S,O,P,I,x,E,L,q,R,T,D,C,F,B,U,H,j,Q,N,Y,z,K,Z,W,G,X,J,$,ee,te,ne,oe,ie,ae,re,se,ue,le,ce,de,he,fe,pe,Ae=this,me=null,ge=null,ye="soundManager",ve=ye+": ",be=navigator.userAgent,Ve=i.location.href.toString(),we=document,ke=[],_e=!0,Me=!1,Se=!1,Oe=!1,Pe=!1,Ie=!1,xe=0,Ee=["log","info","warn","error"],Le=null,qe=null,Re=!1,Te=!1,De=0,Ce=null,Fe=[],Be=null,Ue=Array.prototype.slice,He=!1,je=0,Qe=1e3,Ne=be.match(/(ipad|iphone|ipod)/i),Ye=be.match(/android/i),ze=be.match(/msie|trident/i),Ke=be.match(/webkit/i),Ze=be.match(/safari/i)&&!be.match(/chrome/i),We=be.match(/opera/i),Ge=be.match(/(mobile|pre\/|xoom)/i)||Ne||Ye,Xe=!Ve.match(/usehtml5audio/i)&&!Ve.match(/sm2-ignorebadua/i)&&Ze&&!be.match(/silk/i)&&be.match(/OS\sX\s10_6_([3-7])/i),Je=i.console!==a&&console.log!==a,$e=we.hasFocus!==a?we.hasFocus():null,et=Ze&&(we.hasFocus===a||!we.hasFocus()),tt=!et,nt=/(mp3|mp4|mpa|m4a|m4b)/i,ot="about:blank",it=we.location?we.location.protocol.match(/http/i):null,at=it?"":"//",rt=/^\s*audio\/(?:x-)?(?:mpeg4|aac|flv|mov|mp4|m4v|m4a|m4b|mp4v|3gp|3g2)\s*(?:$|;)/i,st=["mpeg4","aac","flv","mov","mp4","m4v","f4v","m4a","m4b","mp4v","3gp","3g2"],ut=new RegExp("\\.("+st.join("|")+")(\\?.*)?$","i");function lt(e){return Ae.preferFlash&&se&&!Ae.ignoreFlash&&Ae.flash[e]!==a&&Ae.flash[e]}function ct(e){return function(t){var n,o=this._s;return o&&o._a?n=e.call(this,t):(o&&o.id?Ae._wD(o.id+": Ignoring "+t.type):Ae._wD("HTML5::Ignoring "+t.type),n=null),n}}this.mimePattern=/^\s*audio\/(?:x-)?(?:mp(?:eg|3))\s*(?:$|;)/i,this.useAltURL=!it,U={swfBox:"sm2-object-box",swfDefault:"movieContainer",swfError:"swf_error",swfTimedout:"swf_timedout",swfLoaded:"swf_loaded",swfUnblocked:"swf_unblocked",sm2Debug:"sm2_debug",highPerf:"high_performance",flashDebug:"flash_debug"},ee=[null,"MEDIA_ERR_ABORTED","MEDIA_ERR_NETWORK","MEDIA_ERR_DECODE","MEDIA_ERR_SRC_NOT_SUPPORTED"],this.hasHTML5=function(){try{return Audio!==a&&(We&&opera!==a&&opera.version()<10?new Audio(null):new Audio).canPlayType!==a}catch(e){return!1}}(),this.setup=function(e){var t=!Ae.url;return e!==a&&Oe&&Be&&Ae.ok()&&(e.flashVersion!==a||e.url!==a||e.html5Test!==a)&&N(C("setupLate")),p(e),He||(Ge?Ae.setupOptions.ignoreMobileRestrictions&&!Ae.setupOptions.forceUseGlobalHTML5Audio||(Fe.push(_.globalHTML5),He=!0):Ae.setupOptions.forceUseGlobalHTML5Audio&&(Fe.push(_.globalHTML5),He=!0)),!pe&&Ge&&(Ae.setupOptions.ignoreMobileRestrictions?Fe.push(_.ignoreMobile):(Ae.setupOptions.useHTML5Audio&&!Ae.setupOptions.preferFlash||Ae._wD(_.mobileUA),Ae.setupOptions.useHTML5Audio=!0,Ae.setupOptions.preferFlash=!1,Ne?Ae.ignoreFlash=!0:(Ye&&!be.match(/android\s2\.3/i)||!Ye)&&(Ae._wD(_.globalHTML5),He=!0))),e&&(t&&P&&e.url!==a&&Ae.beginDelayedInit(),P||e.url===a||"complete"!==we.readyState||setTimeout(S,1)),pe=!0,Ae},this.ok=function(){return Be?Oe&&!Pe:Ae.useHTML5Audio&&Ae.hasHTML5},this.supported=this.ok,this.getMovie=function(e){return o(e)||we[e]||i[e]},this.createSound=function(e,t){var o,i,r,s=null;if(i=(o=ye+".createSound(): ")+C(Oe?"notOK":"notReady"),!Oe||!Ae.ok())return N(i),!1;if(t!==a&&(e={id:e,url:t}),(r=f(e)).url=W(r.url),r.id===a&&(r.id=Ae.setupOptions.idPrefix+je++),r.id.toString().charAt(0).match(/^[0-9]$/)&&Ae._wD(o+C("badID",r.id),2),Ae._wD(o+r.id+(r.url?" ("+r.url+")":""),1),Y(r.id,!0))return Ae._wD(o+r.id+" exists",1),Ae.sounds[r.id];function u(){return r=j(r),Ae.sounds[r.id]=new n(r),Ae.soundIDs.push(r.id),Ae.sounds[r.id]}if(J(r))s=u(),Ae.html5Only||Ae._wD(r.id+": Using HTML5"),s._setup_html5(r);else{if(Ae.html5Only)return Ae._wD(r.id+": No HTML5 support for this sound, and no Flash. Exiting."),u();if(Ae.html5.usingFlash&&r.url&&r.url.match(/data:/i))return Ae._wD(r.id+": data: URIs not supported via Flash. Exiting."),u();l>8&&(null===r.isMovieStar&&(r.isMovieStar=!!(r.serverURL||r.type&&r.type.match(rt)||r.url&&r.url.match(ut))),r.isMovieStar&&(Ae._wD(o+"using MovieStar handling"),r.loops>1&&d("noNSLoop"))),r=Q(r,o),s=u(),8===l?ge._createSound(r.id,r.loops||1,r.usePolicyFile):(ge._createSound(r.id,r.url,r.usePeakData,r.useWaveformData,r.useEQData,r.isMovieStar,!!r.isMovieStar&&r.bufferTime,r.loops||1,r.serverURL,r.duration||null,r.autoPlay,!0,r.autoLoad,r.usePolicyFile),r.serverURL||(s.connected=!0,r.onconnect&&r.onconnect.apply(s))),r.serverURL||!r.autoLoad&&!r.autoPlay||s.load(r)}return!r.serverURL&&r.autoPlay&&s.play(),s},this.destroySound=function(e,t){if(!Y(e))return!1;var n,o=Ae.sounds[e];for(o.stop(),o._iO={},o.unload(),n=0;n<Ae.soundIDs.length;n++)if(Ae.soundIDs[n]===e){Ae.soundIDs.splice(n,1);break}return t||o.destruct(!0),o=null,delete Ae.sounds[e],!0},this.load=function(e,t){return!!Y(e)&&Ae.sounds[e].load(t)},this.unload=function(e){return!!Y(e)&&Ae.sounds[e].unload()},this.onPosition=function(e,t,n,o){return!!Y(e)&&Ae.sounds[e].onposition(t,n,o)},this.onposition=this.onPosition,this.clearOnPosition=function(e,t,n){return!!Y(e)&&Ae.sounds[e].clearOnPosition(t,n)},this.play=function(e,t){var n=null,o=t&&!(t instanceof Object);if(!Oe||!Ae.ok())return N(ye+".play(): "+C(Oe?"notOK":"notReady")),!1;if(Y(e,o))o&&(t={url:t});else{if(!o)return!1;o&&(t={url:t}),t&&t.url&&(Ae._wD(ye+'.play(): Attempting to create "'+e+'"',1),t.id=e,n=Ae.createSound(t).play())}return null===n&&(n=Ae.sounds[e].play(t)),n},this.start=this.play,this.setPlaybackRate=function(e,t,n){return!!Y(e)&&Ae.sounds[e].setPlaybackRate(t,n)},this.setPosition=function(e,t){return!!Y(e)&&Ae.sounds[e].setPosition(t)},this.stop=function(e){return!!Y(e)&&(Ae._wD(ye+".stop("+e+")",1),Ae.sounds[e].stop())},this.stopAll=function(){var e;for(e in Ae._wD(ye+".stopAll()",1),Ae.sounds)Ae.sounds.hasOwnProperty(e)&&Ae.sounds[e].stop()},this.pause=function(e){return!!Y(e)&&Ae.sounds[e].pause()},this.pauseAll=function(){var e;for(e=Ae.soundIDs.length-1;e>=0;e--)Ae.sounds[Ae.soundIDs[e]].pause()},this.resume=function(e){return!!Y(e)&&Ae.sounds[e].resume()},this.resumeAll=function(){var e;for(e=Ae.soundIDs.length-1;e>=0;e--)Ae.sounds[Ae.soundIDs[e]].resume()},this.togglePause=function(e){return!!Y(e)&&Ae.sounds[e].togglePause()},this.setPan=function(e,t){return!!Y(e)&&Ae.sounds[e].setPan(t)},this.setVolume=function(e,t){var n,o;if(e!==a&&!isNaN(e)&&t===a){for(n=0,o=Ae.soundIDs.length;n<o;n++)Ae.sounds[Ae.soundIDs[n]].setVolume(e);return!1}return!!Y(e)&&Ae.sounds[e].setVolume(t)},this.mute=function(e){var t=0;if(e instanceof String&&(e=null),e)return!!Y(e)&&(Ae._wD(ye+'.mute(): Muting "'+e+'"'),Ae.sounds[e].mute());for(Ae._wD(ye+".mute(): Muting all sounds"),t=Ae.soundIDs.length-1;t>=0;t--)Ae.sounds[Ae.soundIDs[t]].mute();return Ae.muted=!0,!0},this.muteAll=function(){Ae.mute()},this.unmute=function(e){var t;if(e instanceof String&&(e=null),e)return!!Y(e)&&(Ae._wD(ye+'.unmute(): Unmuting "'+e+'"'),Ae.sounds[e].unmute());for(Ae._wD(ye+".unmute(): Unmuting all sounds"),t=Ae.soundIDs.length-1;t>=0;t--)Ae.sounds[Ae.soundIDs[t]].unmute();return Ae.muted=!1,!0},this.unmuteAll=function(){Ae.unmute()},this.toggleMute=function(e){return!!Y(e)&&Ae.sounds[e].toggleMute()},this.getMemoryUse=function(){var e=0;return ge&&8!==l&&(e=parseInt(ge._getMemoryUse(),10)),e},this.disable=function(e){var t;if(e===a&&(e=!1),Pe)return!1;for(Pe=!0,d("shutdown",1),t=Ae.soundIDs.length-1;t>=0;t--)R(Ae.sounds[Ae.soundIDs[t]]);return R(Ae),h(e),ae.remove(i,"load",y),!0},this.canPlayMIME=function(e){var t;return Ae.hasHTML5&&(t=$({type:e})),!t&&Be&&(t=e&&Ae.ok()?!!(l>8&&e.match(rt)||e.match(Ae.mimePattern)):null),t},this.canPlayURL=function(e){var t;return Ae.hasHTML5&&(t=$({url:e})),!t&&Be&&(t=e&&Ae.ok()?!!e.match(Ae.filePattern):null),t},this.canPlayLink=function(e){return!(e.type===a||!e.type||!Ae.canPlayMIME(e.type))||Ae.canPlayURL(e.href)},this.getSoundById=function(e,t){if(!e)return null;var n=Ae.sounds[e];return n||t||Ae._wD(ye+'.getSoundById(): Sound "'+e+'" not found.',2),n},this.onready=function(e,t){var n="onready";if("function"!=typeof e)throw C("needFunction",n);return Oe&&Ae._wD(C("queue",n)),t||(t=i),m(n,e,t),g(),!0},this.ontimeout=function(e,t){var n="ontimeout";if("function"!=typeof e)throw C("needFunction",n);return Oe&&Ae._wD(C("queue",n)),t||(t=i),m(n,e,t),g({type:n}),!0},this._writeDebug=function(e,t){var n,i;return!(!Ae.setupOptions.debugMode||!(Je&&Ae.useConsole&&(t&&"object"==typeof t?console.log(e,t):Ee[t]!==a?console[Ee[t]](e):console.log(e),Ae.consoleOnly))&&(!(n=o("soundmanager-debug"))||(i=we.createElement("div"),++xe%2==0&&(i.className="sm2-alt"),t=t===a?0:parseInt(t,10),i.appendChild(we.createTextNode(e)),t&&(t>=2&&(i.style.fontWeight="bold"),3===t&&(i.style.color="#ff3333")),n.insertBefore(i,n.firstChild),n=null,0)))},-1!==Ve.indexOf("sm2-debug=alert")&&(this._writeDebug=function(e){i.alert(e)}),this._wD=this._writeDebug,this._debug=function(){var e,t;for(d("currentObj",1),e=0,t=Ae.soundIDs.length;e<t;e++)Ae.sounds[Ae.soundIDs[e]]._debug()},this.reboot=function(e,t){var n,o,a;for(Ae.soundIDs.length&&Ae._wD("Destroying "+Ae.soundIDs.length+" SMSound object"+(1!==Ae.soundIDs.length?"s":"")+"..."),n=Ae.soundIDs.length-1;n>=0;n--)Ae.sounds[Ae.soundIDs[n]].destruct();if(ge)try{ze&&(qe=ge.innerHTML),Le=ge.parentNode.removeChild(ge)}catch(e){d("badRemove",2)}if(qe=Le=Be=ge=null,Ae.enabled=P=Oe=Re=Te=Me=Se=Pe=He=Ae.swfLoaded=!1,Ae.soundIDs=[],Ae.sounds={},je=0,pe=!1,e)ke=[];else for(n in ke)if(ke.hasOwnProperty(n))for(o=0,a=ke[n].length;o<a;o++)ke[n][o].fired=!1;return t||Ae._wD(ye+": Rebooting..."),Ae.html5={usingFlash:null},Ae.flash={},Ae.html5Only=!1,Ae.ignoreFlash=!1,i.setTimeout((function(){t||Ae.beginDelayedInit()}),20),Ae},this.reset=function(){return d("reset"),Ae.reboot(!0,!0)},this.getMoviePercent=function(){return ge&&"PercentLoaded"in ge?ge.PercentLoaded():null},this.beginDelayedInit=function(){Ie=!0,S(),setTimeout((function(){return!Te&&(x(),M(),Te=!0,!0)}),20),v()},this.destruct=function(){Ae._wD(ye+".destruct()"),Ae.disable(!0)},n=function(e){var t,n,o,i,r,s,u,h,p,A,m=this,g=!1,y=[],v=0,b=null;p={duration:null,time:null},this.id=e.id,this.sID=this.id,this.url=e.url,this.options=f(e),this.instanceOptions=this.options,this._iO=this.instanceOptions,this.pan=this.options.pan,this.volume=this.options.volume,this.isHTML5=!1,this._a=null,A=!this.url,this.id3={},this._debug=function(){Ae._wD(m.id+": Merged options:",m.options)},this.load=function(e){var t;if(e!==a?m._iO=f(e,m.options):(e=m.options,m._iO=e,b&&b!==m.url&&(d("manURL"),m._iO.url=m.url,m.url=null)),m._iO.url||(m._iO.url=m.url),m._iO.url=W(m._iO.url),m.instanceOptions=m._iO,t=m._iO,Ae._wD(m.id+": load ("+t.url+")"),!t.url&&!m.url)return Ae._wD(m.id+": load(): url is unassigned. Exiting.",2),m;if(m.isHTML5||8!==l||m.url||t.autoPlay||Ae._wD(m.id+": Flash 8 load() limitation: Wait for onload() before calling play().",1),t.url===m.url&&0!==m.readyState&&2!==m.readyState)return d("onURL",1),3===m.readyState&&t.onload&&fe(m,(function(){t.onload.apply(m,[!!m.duration])})),m;if(m.loaded=!1,m.readyState=1,m.playState=0,m.id3={},J(t))m._setup_html5(t)._called_load?Ae._wD(m.id+": Ignoring request to load again"):(m._html5_canplay=!1,m.url!==t.url&&(Ae._wD(d("manURL")+": "+t.url),m._a.src=t.url,m.setPosition(0)),m._a.autobuffer="auto",m._a.preload="auto",m._a._called_load=!0);else{if(Ae.html5Only)return Ae._wD(m.id+": No flash support. Exiting."),m;if(m._iO.url&&m._iO.url.match(/data:/i))return Ae._wD(m.id+": data: URIs not supported via Flash. Exiting."),m;try{m.isHTML5=!1,m._iO=Q(j(t)),m._iO.autoPlay&&(m._iO.position||m._iO.from)&&(Ae._wD(m.id+": Disabling autoPlay because of non-zero offset case"),m._iO.autoPlay=!1),t=m._iO,8===l?ge._load(m.id,t.url,t.stream,t.autoPlay,t.usePolicyFile):ge._load(m.id,t.url,!!t.stream,!!t.autoPlay,t.loops||1,!!t.autoLoad,t.usePolicyFile)}catch(e){d("smError",2),c("onload",!1),E({type:"SMSOUND_LOAD_JS_EXCEPTION",fatal:!0})}}return m.url=t.url,m},this.unload=function(){return 0!==m.readyState&&(Ae._wD(m.id+": unload()"),m.isHTML5?(i(),m._a&&(m._a.pause(),b=ne(m._a))):8===l?ge._unload(m.id,ot):ge._unload(m.id),t()),m},this.destruct=function(e){Ae._wD(m.id+": Destruct"),m.isHTML5?(i(),m._a&&(m._a.pause(),ne(m._a),He||o(),m._a._s=null,m._a=null)):(m._iO.onfailure=null,ge._destroySound(m.id)),e||Ae.destroySound(m.id,!0)},this.play=function(e,t){var n,o,i,u,c,d,p=!0;if(n=m.id+": play(): ",t=t===a||t,e||(e={}),m.url&&(m._iO.url=m.url),m._iO=f(m._iO,m.options),m._iO=f(e,m._iO),m._iO.url=W(m._iO.url),m.instanceOptions=m._iO,!m.isHTML5&&m._iO.serverURL&&!m.connected)return m.getAutoPlay()||(Ae._wD(n+" Netstream not connected yet - setting autoPlay"),m.setAutoPlay(!0)),m;if(J(m._iO)&&(m._setup_html5(m._iO),r()),1===m.playState&&!m.paused){if(!m._iO.multiShot)return Ae._wD(n+"Already playing (one-shot)",1),m.isHTML5&&m.setPosition(m._iO.position),m;Ae._wD(n+"Already playing (multi-shot)",1)}if(e.url&&e.url!==m.url&&(m.readyState||m.isHTML5||8!==l||!A?m.load(m._iO):A=!1),m.loaded)Ae._wD(n.substr(0,n.lastIndexOf(":")));else if(0===m.readyState){if(Ae._wD(n+"Attempting to load"),m.isHTML5||Ae.html5Only){if(!m.isHTML5)return Ae._wD(n+"Unsupported type. Exiting."),m;m.load(m._iO)}else m._iO.autoPlay=!0,m.load(m._iO);m.instanceOptions=m._iO}else{if(2===m.readyState)return Ae._wD(n+"Could not load - exiting",2),m;Ae._wD(n+"Loading - attempting to play...")}return!m.isHTML5&&9===l&&m.position>0&&m.position===m.duration&&(Ae._wD(n+"Sound at end, resetting to position: 0"),e.position=0),m.paused&&m.position>=0&&(!m._iO.serverURL||m.position>0)?(Ae._wD(n+"Resuming from paused state",1),m.resume()):(m._iO=f(e,m._iO),(!m.isHTML5&&null!==m._iO.position&&m._iO.position>0||null!==m._iO.from&&m._iO.from>0||null!==m._iO.to)&&0===m.instanceCount&&0===m.playState&&!m._iO.serverURL&&(i=function(){m._iO=f(e,m._iO),m.play(m._iO)},m.isHTML5&&!m._html5_canplay?(Ae._wD(n+"Beginning load for non-zero offset case"),m.load({_oncanplay:i})):m.isHTML5||m.loaded||m.readyState&&2===m.readyState||(Ae._wD(n+"Preloading for non-zero offset case"),m.load({onload:i})),m._iO=h()),(!m.instanceCount||m._iO.multiShotEvents||m.isHTML5&&m._iO.multiShot&&!He||!m.isHTML5&&l>8&&!m.getAutoPlay())&&m.instanceCount++,m._iO.onposition&&0===m.playState&&s(m),m.playState=1,m.paused=!1,m.position=m._iO.position===a||isNaN(m._iO.position)?0:m._iO.position,m.isHTML5||(m._iO=Q(j(m._iO))),m._iO.onplay&&t&&(m._iO.onplay.apply(m),g=!0),m.setVolume(m._iO.volume,!0),m.setPan(m._iO.pan,!0),1!==m._iO.playbackRate&&m.setPlaybackRate(m._iO.playbackRate),m.isHTML5?m.instanceCount<2?(r(),o=m._setup_html5(),m.setPosition(m._iO.position),o.play()):(Ae._wD(m.id+": Cloning Audio() for instance #"+m.instanceCount+"..."),u=new Audio(m._iO.url),c=function(){ae.remove(u,"ended",c),m._onfinish(m),ne(u),u=null},d=function(){ae.remove(u,"canplay",d);try{u.currentTime=m._iO.position/Qe}catch(e){N(m.id+": multiShot play() failed to apply position of "+m._iO.position/Qe)}u.play()},ae.add(u,"ended",c),m._iO.volume!==a&&(u.volume=Math.max(0,Math.min(1,m._iO.volume/100))),m.muted&&(u.muted=!0),m._iO.position?ae.add(u,"canplay",d):u.play()):(p=ge._start(m.id,m._iO.loops||1,9===l?m.position:m.position/Qe,m._iO.multiShot||!1),9!==l||p||(Ae._wD(n+"No sound hardware, or 32-sound ceiling hit",2),m._iO.onplayerror&&m._iO.onplayerror.apply(m)))),m},this.start=this.play,this.stop=function(e){var t,n=m._iO;return 1===m.playState&&(Ae._wD(m.id+": stop()"),m._onbufferchange(0),m._resetOnPosition(0),m.paused=!1,m.isHTML5||(m.playState=0),u(),n.to&&m.clearOnPosition(n.to),m.isHTML5?m._a&&(t=m.position,m.setPosition(0),m.position=t,m._a.pause(),m.playState=0,m._onTimer(),i()):(ge._stop(m.id,e),n.serverURL&&m.unload()),m.instanceCount=0,m._iO={},n.onstop&&n.onstop.apply(m)),m},this.setAutoPlay=function(e){Ae._wD(m.id+": Autoplay turned "+(e?"on":"off")),m._iO.autoPlay=e,m.isHTML5||(ge._setAutoPlay(m.id,e),e&&(m.instanceCount||1!==m.readyState||(m.instanceCount++,Ae._wD(m.id+": Incremented instance count to "+m.instanceCount))))},this.getAutoPlay=function(){return m._iO.autoPlay},this.setPlaybackRate=function(e){var t=Math.max(.5,Math.min(4,e));if(t!==e&&Ae._wD(m.id+": setPlaybackRate("+e+"): limiting rate to "+t,2),m.isHTML5)try{m._iO.playbackRate=t,m._a.playbackRate=t}catch(e){Ae._wD(m.id+": setPlaybackRate("+t+") failed: "+e.message,2)}return m},this.setPosition=function(e){e===a&&(e=0);var t,n,o=m.isHTML5?Math.max(e,0):Math.min(m.duration||m._iO.duration,Math.max(e,0));if(m.position=o,n=m.position/Qe,m._resetOnPosition(m.position),m._iO.position=o,m.isHTML5){if(m._a){if(m._html5_canplay){if(m._a.currentTime.toFixed(3)!==n.toFixed(3)){Ae._wD(m.id+": setPosition("+n+")");try{m._a.currentTime=n,(0===m.playState||m.paused)&&m._a.pause()}catch(e){Ae._wD(m.id+": setPosition("+n+") failed: "+e.message,2)}}}else if(n)return Ae._wD(m.id+": setPosition("+n+"): Cannot seek yet, sound not ready",2),m;m.paused&&m._onTimer(!0)}}else t=9===l?m.position:n,m.readyState&&2!==m.readyState&&ge._setPosition(m.id,t,m.paused||!m.playState,m._iO.multiShot);return m},this.pause=function(e){return m.paused||0===m.playState&&1!==m.readyState||(Ae._wD(m.id+": pause()"),m.paused=!0,m.isHTML5?(m._setup_html5().pause(),i()):(e||e===a)&&ge._pause(m.id,m._iO.multiShot),m._iO.onpause&&m._iO.onpause.apply(m)),m},this.resume=function(){var e=m._iO;return m.paused?(Ae._wD(m.id+": resume()"),m.paused=!1,m.playState=1,m.isHTML5?(m._setup_html5().play(),r()):(e.isMovieStar&&!e.serverURL&&m.setPosition(m.position),ge._pause(m.id,e.multiShot)),!g&&e.onplay?(e.onplay.apply(m),g=!0):e.onresume&&e.onresume.apply(m),m):m},this.togglePause=function(){return Ae._wD(m.id+": togglePause()"),0===m.playState?(m.play({position:9!==l||m.isHTML5?m.position/Qe:m.position}),m):(m.paused?m.resume():m.pause(),m)},this.setPan=function(e,t){return e===a&&(e=0),t===a&&(t=!1),m.isHTML5||ge._setPan(m.id,e),m._iO.pan=e,t||(m.pan=e,m.options.pan=e),m},this.setVolume=function(e,t){return e===a&&(e=100),t===a&&(t=!1),m.isHTML5?m._a&&(Ae.muted&&!m.muted&&(m.muted=!0,m._a.muted=!0),m._a.volume=Math.max(0,Math.min(1,e/100))):ge._setVolume(m.id,Ae.muted&&!m.muted||m.muted?0:e),m._iO.volume=e,t||(m.volume=e,m.options.volume=e),m},this.mute=function(){return m.muted=!0,m.isHTML5?m._a&&(m._a.muted=!0):ge._setVolume(m.id,0),m},this.unmute=function(){m.muted=!1;var e=m._iO.volume!==a;return m.isHTML5?m._a&&(m._a.muted=!1):ge._setVolume(m.id,e?m._iO.volume:m.options.volume),m},this.toggleMute=function(){return m.muted?m.unmute():m.mute()},this.onPosition=function(e,t,n){return y.push({position:parseInt(e,10),method:t,scope:n!==a?n:m,fired:!1}),m},this.onposition=this.onPosition,this.clearOnPosition=function(e,t){var n;if(e=parseInt(e,10),!isNaN(e))for(n=0;n<y.length;n++)e===y[n].position&&(t&&t!==y[n].method||(y[n].fired&&v--,y.splice(n,1)))},this._processOnPosition=function(){var e,t,n=y.length;if(!n||!m.playState||v>=n)return!1;for(e=n-1;e>=0;e--)!(t=y[e]).fired&&m.position>=t.position&&(t.fired=!0,v++,t.method.apply(t.scope,[t.position]),n=y.length);return!0},this._resetOnPosition=function(e){var t,n,o=y.length;if(!o)return!1;for(t=o-1;t>=0;t--)(n=y[t]).fired&&e<=n.position&&(n.fired=!1,v--);return!0},h=function(){var e,t,n=m._iO,o=n.from,i=n.to;return t=function(){Ae._wD(m.id+': "To" time of '+i+" reached."),m.clearOnPosition(i,t),m.stop()},e=function(){Ae._wD(m.id+': Playing "from" '+o),null===i||isNaN(i)||m.onPosition(i,t)},null===o||isNaN(o)||(n.position=o,n.multiShot=!1,e()),n},s=function(){var e,t=m._iO.onposition;if(t)for(e in t)t.hasOwnProperty(e)&&m.onPosition(parseInt(e,10),t[e])},u=function(){var e,t=m._iO.onposition;if(t)for(e in t)t.hasOwnProperty(e)&&m.clearOnPosition(parseInt(e,10))},r=function(){m.isHTML5&&z(m)},i=function(){m.isHTML5&&K(m)},(t=function(e){e||(y=[],v=0),g=!1,m._hasTimer=null,m._a=null,m._html5_canplay=!1,m.bytesLoaded=null,m.bytesTotal=null,m.duration=m._iO&&m._iO.duration?m._iO.duration:null,m.durationEstimate=null,m.buffered=[],m.eqData=[],m.eqData.left=[],m.eqData.right=[],m.failures=0,m.isBuffering=!1,m.instanceOptions={},m.instanceCount=0,m.loaded=!1,m.metadata={},m.readyState=0,m.muted=!1,m.paused=!1,m.peakData={left:0,right:0},m.waveformData={left:[],right:[]},m.playState=0,m.position=null,m.id3={}})(),this._onTimer=function(e){var t,n,o=!1,i={};return(m._hasTimer||e)&&m._a&&(e||(m.playState>0||1===m.readyState)&&!m.paused)&&((t=m._get_html5_duration())!==p.duration&&(p.duration=t,m.duration=t,o=!0),m.durationEstimate=m.duration,(n=m._a.currentTime*Qe||0)!==p.time&&(p.time=n,o=!0),(o||e)&&m._whileplaying(n,i,i,i,i)),o},this._get_html5_duration=function(){var e=m._iO,t=m._a&&m._a.duration?m._a.duration*Qe:e&&e.duration?e.duration:null;return t&&!isNaN(t)&&t!==1/0?t:null},this._apply_loop=function(e,t){!e.loop&&t>1&&Ae._wD("Note: Native HTML5 looping is infinite.",1),e.loop=t>1?"loop":""},this._setup_html5=function(e){var o,i=f(m._iO,e),a=He?me:m._a,r=decodeURI(i.url);if(He?r===decodeURI(re)&&(o=!0):r===decodeURI(b)&&(o=!0),a){if(a._s)if(He)a._s&&a._s.playState&&!o&&a._s.stop();else if(!He&&r===decodeURI(b))return m._apply_loop(a,i.loops),a;o||(b&&t(!1),a.src=i.url,m.url=i.url,b=i.url,re=i.url,a._called_load=!1)}else i.autoLoad||i.autoPlay?(m._a=new Audio(i.url),m._a.load()):m._a=We&&opera.version()<10?new Audio(null):new Audio,(a=m._a)._called_load=!1,He&&(me=a);return m.isHTML5=!0,m._a=a,a._s=m,n(),m._apply_loop(a,i.loops),i.autoLoad||i.autoPlay?m.load():(a.autobuffer=!1,a.preload="auto"),a},n=function(){if(m._a._added_events)return!1;var e,t,n;for(e in m._a._added_events=!0,ce)ce.hasOwnProperty(e)&&(t=e,n=ce[e],void 0,m._a&&m._a.addEventListener(t,n,!1));return!0},o=function(){var e,t,n;for(e in Ae._wD(m.id+": Removing event listeners"),m._a._added_events=!1,ce)ce.hasOwnProperty(e)&&(t=e,n=ce[e],void 0,m._a&&m._a.removeEventListener(t,n,!1))},this._onload=function(e){var t,n=!!e||!m.isHTML5&&8===l&&m.duration;return t=m.id+": ",Ae._wD(t+(n?"onload()":"Failed to load / invalid sound?"+(m.duration?" -":" Zero-length duration reported.")+" ("+m.url+")"),n?1:2),n||m.isHTML5||(!0===Ae.sandbox.noRemote&&Ae._wD(t+C("noNet"),1),!0===Ae.sandbox.noLocal&&Ae._wD(t+C("noLocal"),1)),m.loaded=n,m.readyState=n?3:2,m._onbufferchange(0),n||m.isHTML5||m._onerror(),m._iO.onload&&fe(m,(function(){m._iO.onload.apply(m,[n])})),!0},this._onerror=function(e,t){m._iO.onerror&&fe(m,(function(){m._iO.onerror.apply(m,[e,t])}))},this._onbufferchange=function(e){return!(0===m.playState||e&&m.isBuffering||!e&&!m.isBuffering||(m.isBuffering=1===e,m._iO.onbufferchange&&(Ae._wD(m.id+": Buffer state change: "+e),m._iO.onbufferchange.apply(m,[e])),0))},this._onsuspend=function(){return m._iO.onsuspend&&(Ae._wD(m.id+": Playback suspended"),m._iO.onsuspend.apply(m)),!0},this._onfailure=function(e,t,n){m.failures++,Ae._wD(m.id+": Failure ("+m.failures+"): "+e),m._iO.onfailure&&1===m.failures?m._iO.onfailure(e,t,n):Ae._wD(m.id+": Ignoring failure")},this._onwarning=function(e,t,n){m._iO.onwarning&&m._iO.onwarning(e,t,n)},this._onfinish=function(){var e=m._iO.onfinish;m._onbufferchange(0),m._resetOnPosition(0),m.instanceCount&&(m.instanceCount--,m.instanceCount||(u(),m.playState=0,m.paused=!1,m.instanceCount=0,m.instanceOptions={},m._iO={},i(),m.isHTML5&&(m.position=0)),m.instanceCount&&!m._iO.multiShotEvents||e&&(Ae._wD(m.id+": onfinish()"),fe(m,(function(){e.apply(m)}))))},this._whileloading=function(e,t,n,o){var i=m._iO;m.bytesLoaded=e,m.bytesTotal=t,m.duration=Math.floor(n),m.bufferLength=o,m.isHTML5||i.isMovieStar?m.durationEstimate=m.duration:i.duration?m.durationEstimate=m.duration>i.duration?m.duration:i.duration:m.durationEstimate=parseInt(m.bytesTotal/m.bytesLoaded*m.duration,10),m.isHTML5||(m.buffered=[{start:0,end:m.duration}]),(3!==m.readyState||m.isHTML5)&&i.whileloading&&i.whileloading.apply(m)},this._whileplaying=function(e,t,n,o,i){var r,s=m._iO;return!isNaN(e)&&null!==e&&(m.position=Math.max(0,e),m._processOnPosition(),!m.isHTML5&&l>8&&(s.usePeakData&&t!==a&&t&&(m.peakData={left:t.leftPeak,right:t.rightPeak}),s.useWaveformData&&n!==a&&n&&(m.waveformData={left:n.split(","),right:o.split(",")}),s.useEQData&&i!==a&&i&&i.leftEQ&&(r=i.leftEQ.split(","),m.eqData=r,m.eqData.left=r,i.rightEQ!==a&&i.rightEQ&&(m.eqData.right=i.rightEQ.split(",")))),1===m.playState&&(m.isHTML5||8!==l||m.position||!m.isBuffering||m._onbufferchange(0),s.whileplaying&&s.whileplaying.apply(m)),!0)},this._oncaptiondata=function(e){Ae._wD(m.id+": Caption data received."),m.captiondata=e,m._iO.oncaptiondata&&m._iO.oncaptiondata.apply(m,[e])},this._onmetadata=function(e,t){Ae._wD(m.id+": Metadata received.");var n,o,i={};for(n=0,o=e.length;n<o;n++)i[e[n]]=t[n];m.metadata=i,m._iO.onmetadata&&m._iO.onmetadata.call(m,m.metadata)},this._onid3=function(e,t){Ae._wD(m.id+": ID3 data received.");var n,o,i=[];for(n=0,o=e.length;n<o;n++)i[e[n]]=t[n];m.id3=f(m.id3,i),m._iO.onid3&&m._iO.onid3.apply(m)},this._onconnect=function(e){e=1===e,Ae._wD(m.id+": "+(e?"Connected.":"Failed to connect? - "+m.url),e?1:2),m.connected=e,e&&(m.failures=0,Y(m.id)&&(m.getAutoPlay()?m.play(a,m.getAutoPlay()):m._iO.autoLoad&&m.load()),m._iO.onconnect&&m._iO.onconnect.apply(m,[e]))},this._ondataerror=function(e){m.playState>0&&(Ae._wD(m.id+": Data error: "+e),m._iO.ondataerror&&m._iO.ondataerror.apply(m))},this._debug()},I=function(){return we.body||we.getElementsByTagName("div")[0]},o=function(e){return we.getElementById(e)},f=function(e,t){var n,o,i=e||{};for(o in n=t===a?Ae.defaultOptions:t)n.hasOwnProperty(o)&&i[o]===a&&("object"!=typeof n[o]||null===n[o]?i[o]=n[o]:i[o]=f(i[o],n[o]));return i},fe=function(e,t){e.isHTML5||8!==l?t():i.setTimeout(t,0)},A={onready:1,ontimeout:1,defaultOptions:1,flash9Options:1,movieStarOptions:1},p=function(e,t){var n,o=!0,i=t!==a,r=Ae.setupOptions,s=A;if(e===a){for(n in o=[],r)r.hasOwnProperty(n)&&o.push(n);for(n in s)s.hasOwnProperty(n)&&("object"==typeof Ae[n]?o.push(n+": {...}"):Ae[n]instanceof Function?o.push(n+": function() {...}"):o.push(n));return Ae._wD(C("setup",o.join(", "))),!1}for(n in e)if(e.hasOwnProperty(n))if("object"!=typeof e[n]||null===e[n]||e[n]instanceof Array||e[n]instanceof RegExp)i&&s[t]!==a?Ae[t][n]=e[n]:r[n]!==a?(Ae.setupOptions[n]=e[n],Ae[n]=e[n]):s[n]===a?(N(C(Ae[n]===a?"setupUndef":"setupError",n),2),o=!1):Ae[n]instanceof Function?Ae[n].apply(Ae,e[n]instanceof Array?e[n]:[e[n]]):Ae[n]=e[n];else{if(s[n]!==a)return p(e[n],n);N(C(Ae[n]===a?"setupUndef":"setupError",n),2),o=!1}return o},ae=function(){var e=i.attachEvent,t={add:e?"attachEvent":"addEventListener",remove:e?"detachEvent":"removeEventListener"};function n(t){var n=Ue.call(t),o=n.length;return e?(n[1]="on"+n[1],o>3&&n.pop()):3===o&&n.push(!1),n}function o(n,o){var i=n.shift(),a=[t[o]];e?i[a](n[0],n[1]):i[a].apply(i,n)}return{add:function(){o(n(arguments),"add")},remove:function(){o(n(arguments),"remove")}}}(),ce={abort:ct((function(){Ae._wD(this._s.id+": abort")})),canplay:ct((function(){var e,t=this._s;if(!t._html5_canplay){if(t._html5_canplay=!0,Ae._wD(t.id+": canplay"),t._onbufferchange(0),e=t._iO.position===a||isNaN(t._iO.position)?null:t._iO.position/Qe,this.currentTime!==e){Ae._wD(t.id+": canplay: Setting position to "+e);try{this.currentTime=e}catch(n){Ae._wD(t.id+": canplay: Setting position of "+e+" failed: "+n.message,2)}}t._iO._oncanplay&&t._iO._oncanplay()}})),canplaythrough:ct((function(){var e=this._s;e.loaded||(e._onbufferchange(0),e._whileloading(e.bytesLoaded,e.bytesTotal,e._get_html5_duration()),e._onload(!0))})),durationchange:ct((function(){var e,t=this._s;e=t._get_html5_duration(),isNaN(e)||e===t.duration||(Ae._wD(this._s.id+": durationchange ("+e+")"+(t.duration?", previously "+t.duration:"")),t.durationEstimate=t.duration=e)})),ended:ct((function(){var e=this._s;Ae._wD(e.id+": ended"),e._onfinish()})),error:ct((function(){var e=ee[this.error.code]||null;Ae._wD(this._s.id+": HTML5 error, code "+this.error.code+(e?" ("+e+")":"")),this._s._onload(!1),this._s._onerror(this.error.code,e)})),loadeddata:ct((function(){var e=this._s;Ae._wD(e.id+": loadeddata"),e._loaded||Ze||(e.duration=e._get_html5_duration())})),loadedmetadata:ct((function(){Ae._wD(this._s.id+": loadedmetadata")})),loadstart:ct((function(){Ae._wD(this._s.id+": loadstart"),this._s._onbufferchange(1)})),play:ct((function(){this._s._onbufferchange(0)})),playing:ct((function(){Ae._wD(this._s.id+": playing "+String.fromCharCode(9835)),this._s._onbufferchange(0)})),progress:ct((function(e){var t,n,o,i=this._s,a=0,r="progress"===e.type,s=e.target.buffered,u=e.loaded||0,l=e.total||1;if(i.buffered=[],s&&s.length){for(t=0,n=s.length;t<n;t++)i.buffered.push({start:s.start(t)*Qe,end:s.end(t)*Qe});if(a=(s.end(0)-s.start(0))*Qe,u=Math.min(1,a/(e.target.duration*Qe)),r&&s.length>1){for(o=[],n=s.length,t=0;t<n;t++)o.push(e.target.buffered.start(t)*Qe+"-"+e.target.buffered.end(t)*Qe);Ae._wD(this._s.id+": progress, timeRanges: "+o.join(", "))}r&&!isNaN(u)&&Ae._wD(this._s.id+": progress, "+Math.floor(100*u)+"% loaded")}isNaN(u)||(i._whileloading(u,l,i._get_html5_duration()),u&&l&&u===l&&ce.canplaythrough.call(this,e))})),ratechange:ct((function(){Ae._wD(this._s.id+": ratechange")})),suspend:ct((function(e){var t=this._s;Ae._wD(this._s.id+": suspend"),ce.progress.call(this,e),t._onsuspend()})),stalled:ct((function(){Ae._wD(this._s.id+": stalled")})),timeupdate:ct((function(){this._s._onTimer()})),waiting:ct((function(){var e=this._s;Ae._wD(this._s.id+": waiting"),e._onbufferchange(1)}))},J=function(e){return!(!e||!(e.type||e.url||e.serverURL))&&!(e.serverURL||e.type&&lt(e.type))&&(e.type?$({type:e.type}):$({url:e.url})||Ae.html5Only||e.url.match(/data:/i))},ne=function(e){var t;return e&&(t=Ze?ot:Ae.html5.canPlayType("audio/wav")?"data:audio/wave;base64,/UklGRiYAAABXQVZFZm10IBAAAAABAAEARKwAAIhYAQACABAAZGF0YQIAAAD//w==":ot,e.src=t,e._called_unload!==a&&(e._called_load=!1)),He&&(re=null),t},$=function(e){if(!Ae.useHTML5Audio||!Ae.hasHTML5)return!1;var t,n,o,i,r=e.url||null,s=e.type||null,u=Ae.audioFormats;if(s&&Ae.html5[s]!==a)return Ae.html5[s]&&!lt(s);if(!te){for(i in te=[],u)u.hasOwnProperty(i)&&(te.push(i),u[i].related&&(te=te.concat(u[i].related)));te=new RegExp("\\.("+te.join("|")+")(\\?.*)?$","i")}return(o=r?r.toLowerCase().match(te):null)&&o.length?o=o[1]:s?o=(-1!==(n=s.indexOf(";"))?s.substr(0,n):s).substr(6):t=!1,o&&Ae.html5[o]!==a?t=Ae.html5[o]&&!lt(o):(s="audio/"+o,t=Ae.html5.canPlayType({type:s}),Ae.html5[o]=t,t=t&&Ae.html5[s]&&!lt(s)),t},ie=function(){if(!Ae.useHTML5Audio||!Ae.hasHTML5)return Ae.html5.usingFlash=!0,Be=!0,!1;var e,t,n,o,i=Audio!==a?We&&opera.version()<10?new Audio(null):new Audio:null,r={};function s(e){var t,n,a=!1,r=!1;if(!i||"function"!=typeof i.canPlayType)return a;if(e instanceof Array){for(o=0,n=e.length;o<n;o++)(Ae.html5[e[o]]||i.canPlayType(e[o]).match(Ae.html5Test))&&(r=!0,Ae.html5[e[o]]=!0,Ae.flash[e[o]]=!!e[o].match(nt));a=r}else a=!(!(t=!(!i||"function"!=typeof i.canPlayType)&&i.canPlayType(e))||!t.match(Ae.html5Test));return a}for(e in n=Ae.audioFormats)if(n.hasOwnProperty(e)&&(t="audio/"+e,r[e]=s(n[e].type),r[t]=r[e],e.match(nt)?(Ae.flash[e]=!0,Ae.flash[t]=!0):(Ae.flash[e]=!1,Ae.flash[t]=!1),n[e]&&n[e].related))for(o=n[e].related.length-1;o>=0;o--)r["audio/"+n[e].related[o]]=r[e],Ae.html5[n[e].related[o]]=r[e],Ae.flash[n[e].related[o]]=r[e];return r.canPlayType=i?s:null,Ae.html5=f(Ae.html5,r),Ae.html5.usingFlash=X(),Be=Ae.html5.usingFlash,!0},_={notReady:"Unavailable - wait until onready() has fired.",notOK:"Audio support is not available.",domError:ye+"exception caught while appending SWF to DOM.",spcWmode:"Removing wmode, preventing known SWF loading issue(s)",swf404:ve+"Verify that %s is a valid path.",tryDebug:"Try "+ye+".debugFlash = true for more security details (output goes to SWF.)",checkSWF:"See SWF output for more debug info.",localFail:ve+"Non-HTTP page ("+we.location.protocol+" URL?) Review Flash player security settings for this special case:\nhttp://www.macromedia.com/support/documentation/en/flashplayer/help/settings_manager04.html\nMay need to add/allow path, eg. c:/sm2/ or /users/me/sm2/",waitFocus:ve+"Special case: Waiting for SWF to load with window focus...",waitForever:ve+"Waiting indefinitely for Flash (will recover if unblocked)...",waitSWF:ve+"Waiting for 100% SWF load...",needFunction:ve+"Function object expected for %s",badID:'Sound ID "%s" should be a string, starting with a non-numeric character',currentObj:ve+"_debug(): Current sound objects",waitOnload:ve+"Waiting for window.onload()",docLoaded:ve+"Document already loaded",onload:ve+"initComplete(): calling soundManager.onload()",onloadOK:ye+".onload() complete",didInit:ve+"init(): Already called?",secNote:"Flash security note: Network/internet URLs will not load due to security restrictions. Access can be configured via Flash Player Global Security Settings Page: http://www.macromedia.com/support/documentation/en/flashplayer/help/settings_manager04.html",badRemove:ve+"Failed to remove Flash node.",shutdown:ye+".disable(): Shutting down",queue:ve+"Queueing %s handler",smError:"SMSound.load(): Exception: JS-Flash communication failed, or JS error.",fbTimeout:"No flash response, applying ."+U.swfTimedout+" CSS...",fbLoaded:"Flash loaded",fbHandler:ve+"flashBlockHandler()",manURL:"SMSound.load(): Using manually-assigned URL",onURL:ye+".load(): current URL already assigned.",badFV:ye+'.flashVersion must be 8 or 9. "%s" is invalid. Reverting to %s.',as2loop:"Note: Setting stream:false so looping can work (flash 8 limitation)",noNSLoop:"Note: Looping not implemented for MovieStar formats",needfl9:"Note: Switching to flash 9, required for MP4 formats.",mfTimeout:"Setting flashLoadTimeout = 0 (infinite) for off-screen, mobile flash case",needFlash:ve+"Fatal error: Flash is needed to play some required formats, but is not available.",gotFocus:ve+"Got window focus.",policy:"Enabling usePolicyFile for data access",setup:ye+".setup(): allowed parameters: %s",setupError:ye+'.setup(): "%s" cannot be assigned with this method.',setupUndef:ye+'.setup(): Could not find option "%s"',setupLate:ye+".setup(): url, flashVersion and html5Test property changes will not take effect until reboot().",noURL:ve+"Flash URL required. Call soundManager.setup({url:...}) to get started.",sm2Loaded:"SoundManager 2: Ready. "+String.fromCharCode(10003),reset:ye+".reset(): Removing event callbacks",mobileUA:"Mobile UA detected, preferring HTML5 by default.",globalHTML5:"Using singleton HTML5 Audio() pattern for this device.",ignoreMobile:"Ignoring mobile restrictions for this device."},C=function(){var e,t,n,o,i;if(o=(e=Ue.call(arguments)).shift(),(i=_&&_[o]?_[o]:"")&&e&&e.length)for(t=0,n=e.length;t<n;t++)i=i.replace("%s",e[t]);return i},j=function(e){return 8===l&&e.loops>1&&e.stream&&(d("as2loop"),e.stream=!1),e},Q=function(e,t){return e&&!e.usePolicyFile&&(e.onid3||e.usePeakData||e.useWaveformData||e.useEQData)&&(Ae._wD((t||"")+C("policy")),e.usePolicyFile=!0),e},N=function(e){Je&&console.warn!==a?console.warn(e):Ae._wD(e)},r=function(){return!1},R=function(e){var t;for(t in e)e.hasOwnProperty(t)&&"function"==typeof e[t]&&(e[t]=r);t=null},T=function(e){e===a&&(e=!1),(Pe||e)&&Ae.disable(e)},D=function(e){var t;if(e)if(e.match(/\.swf(\?.*)?$/i)){if(e.substr(e.toLowerCase().lastIndexOf(".swf?")+4))return e}else e.lastIndexOf("/")!==e.length-1&&(e+="/");return t=(e&&-1!==e.lastIndexOf("/")?e.substr(0,e.lastIndexOf("/")+1):"./")+Ae.movieURL,Ae.noSWFCache&&(t+="?ts="+(new Date).getTime()),t},w=function(){8!==(l=parseInt(Ae.flashVersion,10))&&9!==l&&(Ae._wD(C("badFV",l,8)),Ae.flashVersion=l=8);var e=Ae.debugMode||Ae.debugFlash?"_debug.swf":".swf";Ae.useHTML5Audio&&!Ae.html5Only&&Ae.audioFormats.mp4.required&&l<9&&(Ae._wD(C("needfl9")),Ae.flashVersion=l=9),Ae.version=Ae.versionNumber+(Ae.html5Only?" (HTML5-only mode)":9===l?" (AS3/Flash 9)":" (AS2/Flash 8)"),l>8?(Ae.defaultOptions=f(Ae.defaultOptions,Ae.flash9Options),Ae.features.buffering=!0,Ae.defaultOptions=f(Ae.defaultOptions,Ae.movieStarOptions),Ae.filePatterns.flash9=new RegExp("\\.(mp3|"+st.join("|")+")(\\?.*)?$","i"),Ae.features.movieStar=!0):Ae.features.movieStar=!1,Ae.filePattern=Ae.filePatterns[8!==l?"flash9":"flash8"],Ae.movieURL=(8===l?"soundmanager2.swf":"soundmanager2_flash9.swf").replace(".swf",e),Ae.features.peakData=Ae.features.waveformData=Ae.features.eqData=l>8},L=function(e,t){ge&&ge._setPolling(e,t)},q=function(){if(Ae.debugURLParam.test(Ve)&&(Ae.setupOptions.debugMode=Ae.debugMode=!0),!o(Ae.debugID)){var e,t,n,i,a;if(Ae.debugMode&&!o(Ae.debugID)&&(!Je||!Ae.useConsole||!Ae.consoleOnly)){for(a in(e=we.createElement("div")).id=Ae.debugID+"-toggle",i={position:"fixed",bottom:"0px",right:"0px",width:"1.2em",height:"1.2em",lineHeight:"1.2em",margin:"2px",textAlign:"center",border:"1px solid #999",cursor:"pointer",background:"#fff",color:"#333",zIndex:10001},e.appendChild(we.createTextNode("-")),e.onclick=H,e.title="Toggle SM2 debug console",be.match(/msie 6/i)&&(e.style.position="absolute",e.style.cursor="hand"),i)i.hasOwnProperty(a)&&(e.style[a]=i[a]);if((t=we.createElement("div")).id=Ae.debugID,t.style.display=Ae.debugMode?"block":"none",Ae.debugMode&&!o(e.id)){try{(n=I()).appendChild(e)}catch(e){throw new Error(C("domError")+" \n"+e.toString())}n.appendChild(t)}}n=null}},Y=this.getSoundById,d=function(e,t){return e?Ae._wD(C(e),t):""},H=function(){var e=o(Ae.debugID),t=o(Ae.debugID+"-toggle");e&&(_e?(t.innerHTML="+",e.style.display="none"):(t.innerHTML="-",e.style.display="block"),_e=!_e)},c=function(e,t,n){if(i.sm2Debugger!==a)try{sm2Debugger.handleEvent(e,t,n)}catch(e){return!1}return!0},B=function(){var e=[];return Ae.debugMode&&e.push(U.sm2Debug),Ae.debugFlash&&e.push(U.flashDebug),Ae.useHighPerformance&&e.push(U.highPerf),e.join(" ")},F=function(){var e=C("fbHandler"),t=Ae.getMoviePercent(),n=U,o={type:"FLASHBLOCK"};Ae.html5Only||(Ae.ok()?(Ae.didFlashBlock&&Ae._wD(e+": Unblocked"),Ae.oMC&&(Ae.oMC.className=[B(),n.swfDefault,n.swfLoaded+(Ae.didFlashBlock?" "+n.swfUnblocked:"")].join(" "))):(Be&&(Ae.oMC.className=B()+" "+n.swfDefault+" "+(null===t?n.swfTimedout:n.swfError),Ae._wD(e+": "+C("fbTimeout")+(t?" ("+C("fbLoaded")+")":""))),Ae.didFlashBlock=!0,g({type:"ontimeout",ignoreInit:!0,error:o}),E(o)))},m=function(e,t,n){ke[e]===a&&(ke[e]=[]),ke[e].push({method:t,scope:n||null,fired:!1})},g=function(e){if(e||(e={type:Ae.ok()?"onready":"ontimeout"}),!Oe&&e&&!e.ignoreInit)return!1;if("ontimeout"===e.type&&(Ae.ok()||Pe&&!e.ignoreInit))return!1;var t,n,o={success:e&&e.ignoreInit?Ae.ok():!Pe},i=e&&e.type&&ke[e.type]||[],a=[],r=[o],s=Be&&!Ae.ok();for(e.error&&(r[0].error=e.error),t=0,n=i.length;t<n;t++)!0!==i[t].fired&&a.push(i[t]);if(a.length)for(t=0,n=a.length;t<n;t++)a[t].scope?a[t].method.apply(a[t].scope,r):a[t].method.apply(this,r),s||(a[t].fired=!0);return!0},y=function(){i.setTimeout((function(){Ae.useFlashBlock&&F(),g(),"function"==typeof Ae.onload&&(d("onload",1),Ae.onload.apply(i),d("onloadOK",1)),Ae.waitForWindowLoad&&ae.add(i,"load",y)}),1)},ue=function(){if(se!==a)return se;var e,t,n,o,r=!1,s=navigator,u=i.ActiveXObject;try{o=s.plugins}catch(e){o=void 0}if(o&&o.length)t="application/x-shockwave-flash",(n=s.mimeTypes)&&n[t]&&n[t].enabledPlugin&&n[t].enabledPlugin.description&&(r=!0);else if(u!==a&&!be.match(/MSAppHost/i)){try{e=new u("ShockwaveFlash.ShockwaveFlash")}catch(t){e=null}r=!!e,e=null}return se=r,r},X=function(){var e,t,n=Ae.audioFormats;if(Ne&&be.match(/os (1|2|3_0|3_1)\s/i)?(Ae.hasHTML5=!1,Ae.html5Only=!0,Ae.oMC&&(Ae.oMC.style.display="none")):Ae.useHTML5Audio&&(Ae.html5&&Ae.html5.canPlayType||(Ae._wD("SoundManager: No HTML5 Audio() support detected."),Ae.hasHTML5=!1),Xe&&Ae._wD(ve+"Note: Buggy HTML5 Audio in Safari on this OS X release, see https://bugs.webkit.org/show_bug.cgi?id=32159 - "+(se?"will use flash fallback for MP3/MP4, if available":" would use flash fallback for MP3/MP4, but none detected."),1)),Ae.useHTML5Audio&&Ae.hasHTML5)for(t in G=!0,n)n.hasOwnProperty(t)&&n[t].required&&(Ae.html5.canPlayType(n[t].type)?Ae.preferFlash&&(Ae.flash[t]||Ae.flash[n[t].type])&&(e=!0):(G=!1,e=!0));return Ae.ignoreFlash&&(e=!1,G=!0),Ae.html5Only=Ae.hasHTML5&&Ae.useHTML5Audio&&!e,!Ae.html5Only},W=function(e){var t,n,o,i=0;if(e instanceof Array){for(t=0,n=e.length;t<n;t++)if(e[t]instanceof Object){if(Ae.canPlayMIME(e[t].type)){i=t;break}}else if(Ae.canPlayURL(e[t])){i=t;break}e[i].url&&(e[i]=e[i].url),o=e[i]}else o=e;return o},z=function(e){e._hasTimer||(e._hasTimer=!0,!Ge&&Ae.html5PollingInterval&&(null===Ce&&0===De&&(Ce=setInterval(Z,Ae.html5PollingInterval)),De++))},K=function(e){e._hasTimer&&(e._hasTimer=!1,!Ge&&Ae.html5PollingInterval&&De--)},Z=function(){var e;if(null!==Ce&&!De)return clearInterval(Ce),void(Ce=null);for(e=Ae.soundIDs.length-1;e>=0;e--)Ae.sounds[Ae.soundIDs[e]].isHTML5&&Ae.sounds[Ae.soundIDs[e]]._hasTimer&&Ae.sounds[Ae.soundIDs[e]]._onTimer()},E=function(e){e=e!==a?e:{},"function"==typeof Ae.onerror&&Ae.onerror.apply(i,[{type:e.type!==a?e.type:null}]),e.fatal!==a&&e.fatal&&Ae.disable()},le=function(){if(Xe&&ue()){var e,t,n=Ae.audioFormats;for(t in n)if(n.hasOwnProperty(t)&&("mp3"===t||"mp4"===t)&&(Ae._wD(ye+": Using flash fallback for "+t+" format"),Ae.html5[t]=!1,n[t]&&n[t].related))for(e=n[t].related.length-1;e>=0;e--)Ae.html5[n[t].related[e]]=!1}},this._setSandboxType=function(e){var t=Ae.sandbox;t.type=e,t.description=t.types[t.types[e]!==a?e:"unknown"],"localWithFile"===t.type?(t.noRemote=!0,t.noLocal=!1,d("secNote",2)):"localWithNetwork"===t.type?(t.noRemote=!1,t.noLocal=!0):"localTrusted"===t.type&&(t.noRemote=!1,t.noLocal=!1)},this._externalInterfaceOK=function(e){if(!Ae.swfLoaded){var t;if(c("swf",!0),c("flashtojs",!0),Ae.swfLoaded=!0,et=!1,Xe&&le(),!e||e.replace(/\+dev/i,"")!==Ae.versionNumber.replace(/\+dev/i,""))return t=ye+': Fatal: JavaScript file build "'+Ae.versionNumber+'" does not match Flash SWF build "'+e+'" at '+Ae.url+". Ensure both are up-to-date.",void setTimeout((function(){throw new Error(t)}),0);setTimeout(u,ze?100:1)}},x=function(e,t){if(Me&&Se)return!1;function n(){var e,t=[],n=[];e="SoundManager "+Ae.version+(!Ae.html5Only&&Ae.useHTML5Audio?Ae.hasHTML5?" + HTML5 audio":", no HTML5 audio support":""),Ae.html5Only?Ae.html5PollingInterval&&t.push("html5PollingInterval ("+Ae.html5PollingInterval+"ms)"):(Ae.preferFlash&&t.push("preferFlash"),Ae.useHighPerformance&&t.push("useHighPerformance"),Ae.flashPollingInterval&&t.push("flashPollingInterval ("+Ae.flashPollingInterval+"ms)"),Ae.html5PollingInterval&&t.push("html5PollingInterval ("+Ae.html5PollingInterval+"ms)"),Ae.wmode&&t.push("wmode ("+Ae.wmode+")"),Ae.debugFlash&&t.push("debugFlash"),Ae.useFlashBlock&&t.push("flashBlock")),t.length&&(n=n.concat([t.join(" + ")])),Ae._wD(e+(n.length?" + "+n.join(", "):""),1),de()}if(Ae.html5Only)return w(),n(),Ae.oMC=o(Ae.movieID),u(),Me=!0,Se=!0,!1;var i,r,s,l,c,d,h,f,p,A=t||Ae.url,m=Ae.altURL||A,g=I(),y=B(),v=we.getElementsByTagName("html")[0];function b(e,t){return'<param name="'+e+'" value="'+t+'" />'}if(i=v&&v.dir&&v.dir.match(/rtl/i),e=e===a?Ae.id:e,w(),Ae.url=D(it?A:m),t=Ae.url,Ae.wmode=!Ae.wmode&&Ae.useHighPerformance?"transparent":Ae.wmode,null!==Ae.wmode&&(be.match(/msie 8/i)||!ze&&!Ae.useHighPerformance)&&navigator.platform.match(/win32|win64/i)&&(Fe.push(_.spcWmode),Ae.wmode=null),r={name:e,id:e,src:t,quality:"high",allowScriptAccess:Ae.allowScriptAccess,bgcolor:Ae.bgColor,pluginspage:at+"www.macromedia.com/go/getflashplayer",title:"JS/Flash audio component (SoundManager 2)",type:"application/x-shockwave-flash",wmode:Ae.wmode,hasPriority:"true"},Ae.debugFlash&&(r.FlashVars="debug=1"),Ae.wmode||delete r.wmode,ze)s=we.createElement("div"),c=['<object id="'+e+'" data="'+t+'" type="'+r.type+'" title="'+r.title+'" classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" codebase="http://download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=6,0,40,0">',b("movie",t),b("AllowScriptAccess",Ae.allowScriptAccess),b("quality",r.quality),Ae.wmode?b("wmode",Ae.wmode):"",b("bgcolor",Ae.bgColor),b("hasPriority","true"),Ae.debugFlash?b("FlashVars",r.FlashVars):"","</object>"].join("");else for(l in s=we.createElement("embed"),r)r.hasOwnProperty(l)&&s.setAttribute(l,r[l]);if(q(),y=B(),g=I())if(Ae.oMC=o(Ae.movieID)||we.createElement("div"),Ae.oMC.id)p=Ae.oMC.className,Ae.oMC.className=(p?p+" ":U.swfDefault)+(y?" "+y:""),Ae.oMC.appendChild(s),ze&&((d=Ae.oMC.appendChild(we.createElement("div"))).className=U.swfBox,d.innerHTML=c),Se=!0;else{if(Ae.oMC.id=Ae.movieID,Ae.oMC.className=U.swfDefault+" "+y,h=null,d=null,Ae.useFlashBlock||(Ae.useHighPerformance?h={position:"fixed",width:"8px",height:"8px",bottom:"0px",left:"0px",overflow:"hidden"}:(h={position:"absolute",width:"6px",height:"6px",top:"-9999px",left:"-9999px"},i&&(h.left=Math.abs(parseInt(h.left,10))+"px"))),Ke&&(Ae.oMC.style.zIndex=1e4),!Ae.debugFlash)for(f in h)h.hasOwnProperty(f)&&(Ae.oMC.style[f]=h[f]);try{ze||Ae.oMC.appendChild(s),g.appendChild(Ae.oMC),ze&&((d=Ae.oMC.appendChild(we.createElement("div"))).className=U.swfBox,d.innerHTML=c),Se=!0}catch(e){throw new Error(C("domError")+" \n"+e.toString())}}return Me=!0,n(),!0},M=function(){return Ae.html5Only?(x(),!1):!ge&&(Ae.url?((ge=Ae.getMovie(Ae.id))||(Le?(ze?Ae.oMC.innerHTML=qe:Ae.oMC.appendChild(Le),Le=null,Me=!0):x(Ae.id,Ae.url),ge=Ae.getMovie(Ae.id)),"function"==typeof Ae.oninitmovie&&setTimeout(Ae.oninitmovie,1),he(),!0):(d("noURL"),!1))},v=function(){setTimeout(b,1e3)},V=function(){i.setTimeout((function(){N(ve+"useFlashBlock is false, 100% HTML5 mode is possible. Rebooting with preferFlash: false..."),Ae.setup({preferFlash:!1}).reboot(),Ae.didFlashBlock=!0,Ae.beginDelayedInit()}),1)},b=function(){var e,t=!1;Ae.url&&(Re||(Re=!0,ae.remove(i,"load",v),se&&et&&!$e?d("waitFocus"):(Oe||(e=Ae.getMoviePercent())>0&&e<100&&(t=!0),setTimeout((function(){if(e=Ae.getMoviePercent(),t)return Re=!1,Ae._wD(C("waitSWF")),void i.setTimeout(v,1);Oe||(Ae._wD(ye+": No Flash response within expected time. Likely causes: "+(0===e?"SWF load failed, ":"")+"Flash blocked or JS-Flash security error."+(Ae.debugFlash?" "+C("checkSWF"):""),2),!it&&e&&(d("localFail",2),Ae.debugFlash||d("tryDebug",2)),0===e&&Ae._wD(C("swf404",Ae.url),1),c("flashtojs",!1,": Timed out"+(it?" (Check flash security or flash blockers)":" (No plugin/missing SWF?)"))),!Oe&&tt&&(null===e?Ae.useFlashBlock||0===Ae.flashLoadTimeout?(Ae.useFlashBlock&&F(),d("waitForever")):!Ae.useFlashBlock&&G?V():(d("waitForever"),g({type:"ontimeout",ignoreInit:!0,error:{type:"INIT_FLASHBLOCK"}})):0===Ae.flashLoadTimeout?d("waitForever"):!Ae.useFlashBlock&&G?V():T(!0))}),Ae.flashLoadTimeout))))},k=function(){function e(){ae.remove(i,"focus",k)}return $e||!et?(e(),!0):(tt=!0,$e=!0,d("gotFocus"),Re=!1,v(),e(),!0)},he=function(){Fe.length&&(Ae._wD("SoundManager 2: "+Fe.join(" "),1),Fe=[])},de=function(){he();var e,t=[];if(Ae.useHTML5Audio&&Ae.hasHTML5){for(e in Ae.audioFormats)Ae.audioFormats.hasOwnProperty(e)&&t.push(e+" = "+Ae.html5[e]+(!Ae.html5[e]&&Be&&Ae.flash[e]?" (using flash)":Ae.preferFlash&&Ae.flash[e]&&Be?" (preferring flash)":Ae.html5[e]?"":" ("+(Ae.audioFormats[e].required?"required, ":"")+"and no flash support)"));Ae._wD("SoundManager 2 HTML5 support: "+t.join(", "),1)}},h=function(e){if(Oe)return!1;if(Ae.html5Only)return d("sm2Loaded",1),Oe=!0,y(),c("onload",!0),!0;var t,n=!0;return Ae.useFlashBlock&&Ae.flashLoadTimeout&&!Ae.getMoviePercent()||(Oe=!0),t={type:!se&&Be?"NO_FLASH":"INIT_TIMEOUT"},Ae._wD("SoundManager 2 "+(Pe?"failed to load":"loaded")+" ("+(Pe?"Flash security/load error":"OK")+") "+String.fromCharCode(Pe?10006:10003),Pe?2:1),Pe||e?(Ae.useFlashBlock&&Ae.oMC&&(Ae.oMC.className=B()+" "+(null===Ae.getMoviePercent()?U.swfTimedout:U.swfError)),g({type:"ontimeout",error:t,ignoreInit:!0}),c("onload",!1),E(t),n=!1):c("onload",!0),Pe||(Ae.waitForWindowLoad&&!Ie?(d("waitOnload"),ae.add(i,"load",y)):(Ae.waitForWindowLoad&&Ie&&d("docLoaded"),y())),n},s=function(){var e,t=Ae.setupOptions;for(e in t)t.hasOwnProperty(e)&&(Ae[e]===a?Ae[e]=t[e]:Ae[e]!==t[e]&&(Ae.setupOptions[e]=Ae[e]))},u=function(){if(Oe)return d("didInit"),!1;function e(){ae.remove(i,"load",Ae.beginDelayedInit)}if(Ae.html5Only)return Oe||(e(),Ae.enabled=!0,h()),!0;M();try{ge._externalInterfaceTest(!1),L(!0,Ae.flashPollingInterval||(Ae.useHighPerformance?10:50)),Ae.debugMode||ge._disableDebug(),Ae.enabled=!0,c("jstoflash",!0),Ae.html5Only||ae.add(i,"unload",r)}catch(e){return Ae._wD("js/flash exception: "+e.toString()),c("jstoflash",!1),E({type:"JS_TO_FLASH_EXCEPTION",fatal:!0}),T(!0),h(),!1}return h(),e(),!0},S=function(){return!P&&(P=!0,s(),q(),!se&&Ae.hasHTML5&&(Ae._wD("SoundManager 2: No Flash detected"+(Ae.useHTML5Audio?". Trying HTML5-only mode.":", enabling HTML5."),1),Ae.setup({useHTML5Audio:!0,preferFlash:!1})),ie(),!se&&Be&&(Fe.push(_.needFlash),Ae.setup({flashLoadTimeout:1})),we.removeEventListener&&we.removeEventListener("DOMContentLoaded",S,!1),M(),!0)},oe=function(){return"complete"===we.readyState&&(S(),we.detachEvent("onreadystatechange",oe)),!0},O=function(){Ie=!0,S(),ae.remove(i,"load",O)},ue(),ae.add(i,"focus",k),ae.add(i,"load",v),ae.add(i,"load",O),we.addEventListener?we.addEventListener("DOMContentLoaded",S,!1):we.attachEvent?we.attachEvent("onreadystatechange",oe):(c("onload",!1),E({type:"NO_DOM2_EVENTS",fatal:!0}))}i.SM2_DEFER!==a&&SM2_DEFER||(r=new s),e&&"object"==typeof e.exports?(e.exports.SoundManager=s,e.exports.soundManager=r):void 0===(o=function(){return{constructor:s,getInstance:function(e){if(!i.soundManager&&e instanceof Function){var t=e(s);t instanceof s&&(i.soundManager=t)}return i.soundManager}}}.call(t,n,t,e))||(e.exports=o),i.SoundManager=s,i.soundManager=r}(window)}},function(e){e(e.s=2862)}]);
//# sourceMappingURL=plugin.tts.js.map