(self.webpackChunk_internetarchive_bookreader=self.webpackChunk_internetarchive_bookreader||[]).push([[34],{8393:function(t,e,n){"use strict";n(2222),n(7327),n(9826),n(9600),n(1249),n(5827),n(1539),n(8674),n(4916),n(9714),n(4723),n(489),n(2419),n(6992),n(8783),n(5306),n(6755),n(3948),n(9601),n(7042);var i=n(3609);function r(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t)){var n=[],i=!0,r=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(i=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);i=!0);}catch(t){r=!0,o=t}finally{try{i||null==s.return||s.return()}finally{if(r)throw o}}return n}}(t,e)||function(t,e){if(t){if("string"==typeof t)return o(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?o(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function a(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var s=function(){function t(e,n,i,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.leafIndex=e,this.chunkIndex=n,this.text=i,this.lineRects=r}var e,n;return e=t,n=[{key:"fetch",value:function(e,n,r){return new Promise((function(o,a){i.ajax({type:"GET",url:"https://".concat(e,"/BookReader/BookReaderGetTextWrapper.php"),dataType:"jsonp",cache:!0,data:{path:"".concat(n,"_djvu.xml"),page:r},error:a}).then((function(e){o(t._fromTextWrapperResponse(r,e))}))}))}},{key:"_fromTextWrapperResponse",value:function(e,n){return n.map((function(n,i){var r=t._fixChunkRects(n.slice(1)),o=t._removeDanglingHyphens(n[0]);return new t(e,i,o,r)}))}},{key:"_fixChunkRects",value:function(t){if(t.length<2)return t;var e=r(t,2),n=e[0],i=e[1],o=r(n,3),a=o[0],s=o[1],u=o[2]-a,c=i[1]-i[3],l=i[2]-i[0],A=i[2];return u>30*l&&(n[2]=A,n[3]=s-c),t}},{key:"_removeDanglingHyphens",value:function(t){return t.replace(/-\s+/g,"")}}],null&&a(e.prototype,null),n&&a(e,n),t}();function u(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var c=function(){function t(e,n,i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.pageCount=e,this.opts=Object.assign({},l,i),this._cursor={page:n,chunk:0},this._bufferedPages={},this._bufferingPages={},this._cursorLock=Promise.resolve()}var e,n;return e=t,(n=[{key:"next",value:function(){var t=this;return this._cursorLock=this._cursorLock.then((function(){return t._nextUncontrolled()}))}},{key:"decrement",value:function(){var t=this;return this._cursorLock=this._cursorLock.then((function(){return t._decrementUncontrolled()}))}},{key:"_nextUncontrolled",value:function(){var e=this;return this._cursor.page==this.pageCount?Promise.resolve(t.AT_END):(this._recenterBuffer(this._cursor.page),this._fetchPageChunks(this._cursor.page).then((function(t){return e._cursor.chunk==t.length?(e._cursor.page++,e._cursor.chunk=0,e._nextUncontrolled()):t[e._cursor.chunk++]})))}},{key:"_decrementUncontrolled",value:function(){var t=this,e=Promise.resolve();return this._cursor.chunk>0?this._cursor.chunk--:this._cursor.page>0&&(this._cursor.page--,e=this._fetchPageChunks(this._cursor.page).then((function(e){if(0==e.length)return t._decrementUncontrolled();t._cursor.chunk=e.length-1}))),e.then((function(){return t._fetchPageChunks(t._cursor.page)}))}},{key:"_recenterBuffer",value:function(t){for(var e=Math.max(0,t-this.opts.pageBufferSize),n=Math.min(this.pageCount,t+this.opts.pageBufferSize+1),i=e;i<n;i++)this._fetchPageChunks(i);this._removePageFromBuffer(e-1),this._removePageFromBuffer(n+1)}},{key:"_removePageFromBuffer",value:function(t){delete this._bufferingPages[t],delete this._bufferedPages[t]}},{key:"_fetchPageChunks",value:function(t){var e=this;return t in this._bufferingPages?this._bufferingPages[t]:t in this._bufferedPages?Promise.resolve(this._bufferedPages[t]):(this._bufferingPages[t]=this._fetchPageChunksDirect(t).then((function(n){return delete e._bufferingPages[t],e._bufferedPages[t]=n,n})),this._bufferingPages[t])}},{key:"_fetchPageChunksDirect",value:function(t){return s.fetch(this.opts.server,this.opts.bookPath,t)}}])&&u(e.prototype,n),t}();c.AT_END="__PageChunkIterator.AT_END__";var l={server:null,bookPath:null,pageBufferSize:2},A=n(3609);function h(t){return(h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function f(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function p(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var d=function(){function t(e){var n=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.playing=!1,this.paused=!1,this.opts=e,this._chunkIterator=null,this.activeSound=null,this.playbackRate=1,this.events=A({}),this.voice=null,this.events.on("voiceschanged",(function(){n.voice=t.getBestBookVoice(n.getVoices(),n.opts.bookLanguage)})),this.events.trigger("voiceschanged")}var e,n,i;return e=t,i=[{key:"isSupported",value:function(){throw new Error("Unimplemented abstract class")}},{key:"getBestBookVoice",value:function(e,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:navigator.languages,r=e.filter((function(t){return t.lang.startsWith(n)})),o=(i=i||(navigator.language?[navigator.language]:[])).filter((function(t){return t.startsWith(n)}));return t.getMatchingVoice(o,r)||r.find((function(t){return t.default}))||r[0]||t.getMatchingVoice(i,e)||e.find((function(t){return t.default}))||e[0]}},{key:"getMatchingVoice",value:function(t,e){var n,i=function(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(t){if("string"==typeof t)return f(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?f(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var i=0,r=function(){};return{s:r,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}(t);try{var r=function(){var t=n.value,i=e.filter((function(e){return e.lang.replace("_","-").startsWith(t)}));if(i.length)return{v:i.find((function(t){return t.default}))||i[0]}};for(i.s();!(n=i.n()).done;){var o=r();if("object"===h(o))return o.v}}catch(t){i.e(t)}finally{i.f()}}}],(n=[{key:"getVoices",value:function(){throw new Error("Unimplemented abstract class")}},{key:"init",value:function(){return null}},{key:"start",value:function(t,e){this.playing=!0,this.opts.onLoadingStart(),this._chunkIterator=new c(e,t,{server:this.opts.server,bookPath:this.opts.bookPath,pageBufferSize:5}),this.step(),this.events.trigger("start")}},{key:"stop",value:function(){this.activeSound&&this.activeSound.stop(),this.playing=!1,this._chunkIterator=null,this.activeSound=null,this.events.trigger("stop")}},{key:"pause",value:function(){var t=!this.paused&&this.activeSound;this.paused=!0,this.activeSound&&this.activeSound.pause(),t&&this.events.trigger("pause")}},{key:"resume",value:function(){var t=this.paused&&this.activeSound;this.paused=!1,this.activeSound&&this.activeSound.resume(),t&&this.events.trigger("resume")}},{key:"togglePlayPause",value:function(){this.paused?this.resume():this.pause()}},{key:"jumpForward",value:function(){this.activeSound&&this.activeSound.finish()}},{key:"jumpBackward",value:function(){var t=this;Promise.all([this.activeSound.stop(),this._chunkIterator.decrement().then((function(){return t._chunkIterator.decrement()}))]).then((function(){return t.step()}))}},{key:"setPlaybackRate",value:function(t){this.playbackRate=t,this.activeSound&&this.activeSound.setPlaybackRate(t)}},{key:"step",value:function(){var t=this;this._chunkIterator.next().then((function(e){if(e==c.AT_END)return t.stop(),void t.opts.onDone();t.opts.onLoadingStart();var n=t.createSound(e);return n.chunk=e,n.rate=t.playbackRate,n.voice=t.voice,n.load((function(){return t.opts.onLoadingComplete()})),t.opts.onLoadingComplete(),t.opts.beforeChunkPlay(e).then((function(){return n}))})).then((function(e){if(t.playing){var n=t.playSound(e).then((function(){return t.opts.afterChunkPlay(e.chunk)}));return t.paused&&t.pause(),n}})).then((function(){if(t.playing)return t.step()}))}},{key:"createSound",value:function(t){throw new Error("Unimplemented abstract class")}},{key:"playSound",value:function(t){return this.activeSound=t,this.activeSound.loaded||this.opts.onLoadingStart(),this.activeSound.play()}},{key:"getBestVoice",value:function(){return t.getBestBookVoice(this.getVoices(),this.opts.bookLanguage)}}])&&p(e.prototype,n),i&&p(e,i),t}(),v=(n(2772),n(3123),n(1030));function g(t,e){return new Promise((function(n){t.addEventListener(e,(function i(r){t.removeEventListener(e,i),n(r)}))}))}function V(t){return new Promise((function(e){return setTimeout(e,t)}))}function m(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:navigator.userAgent;return/android/i.test(t)}var y={Name:0,Endonym:1,"ISO 639-1":2,"ISO 639-2/T":3,"ISO 639-2/B":4};function k(t,e){for(var n=0;n<v.Z.length;n++)for(var i=0;i<e.length;i++){var r=e[i];if(-1!=v.Z[n][y[r]].split(", ").map((function(t){return t.toLowerCase()})).indexOf(t))return v.Z[n][y["ISO 639-1"]]}return null}var b=n(3609);function S(t){return(S="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function q(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function I(t,e,n){return(I="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var i=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=E(t)););return t}(t,e);if(i){var r=Object.getOwnPropertyDescriptor(i,e);return r.get?r.get.call(n):r.value}})(t,e,n||t)}function M(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function P(t,e,n){return e&&M(t.prototype,e),n&&M(t,n),t}function x(t,e){return(x=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function R(t,e){return!e||"object"!==S(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function E(t){return(E=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var C=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&x(t,e)}(r,t);var e,n,i=(e=r,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,i=E(e);if(n){var r=E(this).constructor;t=Reflect.construct(i,arguments,r)}else t=i.apply(this,arguments);return R(this,t)});function r(t){var e,n;return q(this,r),(n=i.call(this,t)).audioFormat=null!==(e=b.browser)&&void 0!==e&&e.mozilla?"ogg":"mp3",n}return P(r,null,[{key:"isSupported",value:function(){return"undefined"!=typeof soundManager&&soundManager.supported()}}]),P(r,[{key:"getVoices",value:function(){return[{default:!0,lang:"en-US",localService:!1,name:"Festival - English (US)",voiceURI:null}]}},{key:"init",value:function(){soundManager.setup({debugMode:!1,preferFlash:!0,url:"/bookreader/BookReader/soundmanager/swf",useHTML5Audio:!0,flashVersion:9})}},{key:"start",value:function(t,e){var n=this,i=null;navigator.userAgent.match(/mobile/i)&&(i=this.iOSCaptureUserIntentHack()),(i=i||Promise.resolve()).then((function(){return I(E(r.prototype),"start",n).call(n,t,e)}))}},{key:"createSound",value:function(t){return new w(this.getSoundUrl(t.text))}},{key:"getSoundUrl",value:function(t){return"https://"+this.opts.server+"/BookReader/BookReaderGetTTS.php?string="+encodeURIComponent(t)+"&format=."+this.audioFormat}},{key:"iOSCaptureUserIntentHack",value:function(){var t=soundManager.createSound({url:O[this.audioFormat]});return new Promise((function(e){return t.play({onfinish:e})})).then((function(){return t.destruct()}))}}]),r}(d),w=function(){function t(e){q(this,t),this.soundUrl=e,this.sound=null,this.rate=1,this._finishResolver=null}return P(t,[{key:"load",value:function(t){var e=this;return this.sound=soundManager.createSound({url:this.soundUrl,onload:function(){1!=e.rate&&e.sound.setPlaybackRate(e.rate),t()},onresume:function(){V(25).then((function(){1!=e.rate&&e.sound.setPlaybackRate(e.rate)}))}}),this.sound.load()}},{key:"play",value:function(){var t=this;return new Promise((function(e){t._finishResolver=e,t.sound.play({onfinish:e})})).then((function(){return t.sound.destruct()}))}},{key:"stop",value:function(){return this.sound.stop(),Promise.resolve()}},{key:"pause",value:function(){this.sound.pause()}},{key:"resume",value:function(){this.sound.resume()}},{key:"setPlaybackRate",value:function(t){this.rate=t,this.sound.setPlaybackRate(t)}},{key:"finish",value:function(){this.sound.stop(),this._finishResolver()}},{key:"loaded",get:function(){return this.sound&&this.sound.loaded}}]),t}(),O={mp3:"data:audio/mp3;base64,//uQxAAAAAAAAAAAAAAAAAAAAAAAWGluZwAAAA8AAAACAAACcQCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA//////////////////////////////////////////////////////////////////8AAAAeTEFNRTMuOTlyBJwAAAAAAAAAADUgJAaUQQABrgAAAnHIf8sZAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA//sQxAADwlwBKGAAACAAAD/AAAAEAAAAH///////////////+UBAMExBTUUzLjk5LjOqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqr/+xDEIAPAAAGkAAAAIAAANIAAAASqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqg==",ogg:"data:audio/ogg;base64,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"},B=n(7775);function Y(t){return(Y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function j(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Q(t,e,n){return(Q="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var i=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=L(t)););return t}(t,e);if(i){var r=Object.getOwnPropertyDescriptor(i,e);return r.get?r.get.call(n):r.value}})(t,e,n||t)}function z(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function U(t,e,n){return e&&z(t.prototype,e),n&&z(t,n),t}function K(t,e){return(K=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function T(t,e){return!e||"object"!==Y(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function L(t){return(L=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var F,Z=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&K(t,e)}(r,t);var e,n,i=(e=r,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,i=L(e);if(n){var r=L(this).constructor;t=Reflect.construct(i,arguments,r)}else t=i.apply(this,arguments);return T(this,t)});function r(t){var e;return j(this,r),e=i.call(this,t),speechSynthesis.addEventListener&&speechSynthesis.addEventListener("voiceschanged",(function(){return e.events.trigger("voiceschanged")})),e}return U(r,null,[{key:"isSupported",value:function(){return void 0!==window.speechSynthesis&&!/samsungbrowser/i.test(navigator.userAgent)}}]),U(r,[{key:"start",value:function(t,e){var n=this;if("mediaSession"in navigator){var i=new Audio(N);i.loop=!0,this.events.on("pause",(function(){return i.pause()})),this.events.on("resume",(function(){return i.play()})),this.events.on("stop",(function(){return i.src=""})),i.play().then((function(){navigator.mediaSession.metadata=new MediaMetadata({title:br.bookTitle,artist:br.options.metadata.filter((function(t){return"Author"==t.label})).map((function(t){return t.value}))[0],artwork:[{src:br.options.thumbnail,type:"image/jpg"}]}),navigator.mediaSession.setActionHandler("play",(function(){i.play(),n.resume()})),navigator.mediaSession.setActionHandler("pause",(function(){i.pause(),n.pause()})),navigator.mediaSession.setActionHandler("previoustrack",(function(){return n.jumpBackward()})),navigator.mediaSession.setActionHandler("nexttrack",(function(){return n.jumpForward()}))}))}return Q(L(r.prototype),"start",this).call(this,t,e)}},{key:"getVoices",value:function(){return speechSynthesis.getVoices()}},{key:"createSound",value:function(t){return new G(t.text)}}]),r}(d),G=function(){function t(e){j(this,t),this.text=e,this.loaded=!1,this.paused=!1,this.started=!1,this.stopped=!1,this.rate=1,this.utterance=null,this.voice=null,this._lastEvents={pause:null,boundary:null,start:null},this._charIndex=0,this._finishResolver=null,this._finishPromise=null}return U(t,[{key:"load",value:function(t){var e=this;this.loaded=!1,this.started=!1,this.utterance=new SpeechSynthesisUtterance(this.text.slice(this._charIndex)),this.utterance.voice=this.voice,this.voice&&(this.utterance.lang=this.voice.lang),this.utterance.rate=this.rate,-1!=location.toString().indexOf("_debugReadAloud=true")&&(this.utterance.addEventListener("pause",(function(){return console.log("pause")})),this.utterance.addEventListener("resume",(function(){return console.log("resume")})),this.utterance.addEventListener("start",(function(){return console.log("start")})),this.utterance.addEventListener("end",(function(){return console.log("end")})),this.utterance.addEventListener("error",(function(){return console.log("error")})),this.utterance.addEventListener("boundary",(function(){return console.log("boundary")})),this.utterance.addEventListener("mark",(function(){return console.log("mark")})),this.utterance.addEventListener("finish",(function(){return console.log("finish")}))),this.utterance.addEventListener("start",(function(t){return e._lastEvents.start=t})),this.utterance.addEventListener("boundary",(function(t){return e._lastEvents.boundary=t})),this.utterance.addEventListener("pause",(function(t){return e._lastEvents.pause=t})),this.utterance.addEventListener("start",(function(){e.started=!0,e.stopped=!1,e.paused=!1})),this.utterance.addEventListener("pause",(function(){return e.paused=!0})),this.utterance.addEventListener("resume",(function(){return e.paused=!1})),this.utterance.addEventListener("end",(function(t){e.paused||e.stopped||e.utterance.dispatchEvent(new CustomEvent("finish",t))})),this.loaded=!0,t&&t()}},{key:"reload",value:function(){var t=this,e=this.paused,n=this._lastEvents.boundary||this._lastEvents.pause;return n&&(this._charIndex=this.text.indexOf(n.target.text)+n.charIndex),this.stop().then((function(){t.load(),e||t.play()}))}},{key:"play",value:function(){var t=this;this._finishPromise=this._finishPromise||new Promise((function(e){return t._finishResolver=e})),this.utterance.addEventListener("finish",this._finishResolver),speechSynthesis.cancel(),speechSynthesis.resume(),speechSynthesis.speak(this.utterance);var e=this.utterance.voice&&this.utterance.voice.localService;return(0,B.i7)()&&!e&&this._chromePausingBugFix(),this._finishPromise}},{key:"stop",value:function(){var t=Promise.resolve();return this.stopped||(t=Promise.race([g(this.utterance,"end"),g(this.utterance,"error")])),this.stopped=!0,speechSynthesis.cancel(),t}},{key:"finish",value:function(){var t=this;this.stop().then((function(){return t.utterance.dispatchEvent(new Event("finish"))}))}},{key:"pause",value:function(){var t=this;if(!this.paused){var e=g(this.utterance,"pause");speechSynthesis.pause();var n=(0,B.vU)()&&m();if((0,B.i7)()||n){var i=V(100).then((function(){return"timeout"}));Promise.race([e,i]).then((function(e){"timeout"==e&&(t.utterance.dispatchEvent(new CustomEvent("pause",t._lastEvents.start)),n&&t.stop())}))}}}},{key:"resume",value:function(){var t=this;if(this.started){if(this.paused){var e=(0,B.i7)()&&m()||(0,B.vU)()&&m(),n=(0,B.i7)()||e,i=g(this.utterance,"resume");speechSynthesis.resume(),n&&Promise.race([i,V(100).then((function(){return"timeout"}))]).then((function(n){"timeout"==n&&(t.utterance.dispatchEvent(new CustomEvent("resume",{})),e&&t.reload().then((function(){return t.play()})))}))}}else this.play()}},{key:"setPlaybackRate",value:function(t){this.rate=t,this.reload()}},{key:"_chromePausingBugFix",value:function(){var t=this,e=V(14e3).then((function(){return"timeout"})),n=g(this.utterance,"pause").then((function(){return"paused"})),i=g(this.utterance,"end").then((function(){return"ended"}));return Promise.race([e,n,i]).then((function(e){switch(-1!=location.toString().indexOf("_debugReadAloud=true")&&console.log("CHROME-PAUSE-HACK: ".concat(e)),e){case"ended":break;case"paused":Promise.race([g(t.utterance,"resume"),V(14e3).then((function(){return"timeout"}))]).then((function(e){"timeout"==e?t.reload():t._chromePausingBugFix()}));break;case"timeout":speechSynthesis.pause(),V(25).then((function(){speechSynthesis.resume(),t._chromePausingBugFix()}))}}))}}]),t}(),N="data:audio/mp3;base64,/+MYxAAMEAISSAhElhIpJYzz1vz9mUdlHvJwTP/n3FJesPxB9/8mp0oGaz9+7+T//8oCDhJqOMqLh4o4uhUAUUDaf//3r+///+MYxAoKy2ImKAgEqbfr/t///27/+n3s32/////+b5qMsq7vnXCKh2By3ZcIqyrUYbbRH0fp+ljtf+n2Uo72PHX/03f0df///+MYxBkKUAYmQAhEAL+2l44oKFjZMwJAOJnhguMqokFAqBKl/5f1/+f+3/v////9GT//r+//v+//////b1VvucaRChqnMqsY/+MYxCoLo2IiSAgEpRrgIRVq//p////25nlpVFbQ9kuXtrpt+n//3ZUZNKHVTHdJk3Q6h961DAU8loFlsfTnTZYLLQ1xiIYC/+MYxDYLa2YYAACNFAKKv5swEnqSccBoi//xVP9R/q/370r02////7VpaiWWLrDaF//X8+Rf/6ys2irmURCrI/Lr7///+m1t/+MYxEMKqAI2SAhElh7vNPmHrKdmMPFMimBI5xYQEiIRxh1gk0pKvfo7nezMyH6P67uKW+z/7NusoS/4//STUtCUiwASccAQ/+MYxFMKs2IcIABFEFRhEOUCgACs//l3/6df///+qZf6V9X2t69f/p////+v97UOY7UyyIxZWPa1inCgyCDq//pXpSia2v23/+MYxGMK6AYqSABEAl70RfX2+nu6///v+rfdWCLKMhUBmZhIDqt23LQGBjyNGEjBCnI5JGjRWkU2a8b29z/+n6/9SnN7LUfo/+MYxHILg2IiQAgEUPpX9//96jShqxUCtNiIeCAcmxc3/tn18pTBRmaNzgUvIqropQvPf/Fy99+z9/8/bx43Xn95kr6QHFQp/+MYxH8LG2IcAACNMTZjQ1mIlAyLi1r7PBeeff3WH/rB/r/2/7a/+6/0/0b19F5lfb/p////9qWyzOGqY5WlRoqAGuCOp1Dm/+MYxI0KuAIuSAhElhZ6kDcciBDa1gec/T1uqXsq/0Pf+z/9tf0fbV8Jf//xrqJs4BnZgPhibbcDkhvrmd9q9s+3XL+2X+9e/+MYxJ0MK14UAABNLG/7/dfT6f/1Rt+v/0/09f///1fZbWuR7ohD7JuzWZRbVe5Or5lVUWrunn1/Z+v/v//p9Ozvqh6OoMKb/+MYxKcMo2YhgAgExmatD1TeZuDdxZACD6ZEipG5JWjTNJZ16WIitt4yx3+/3fud9dFaG/7fdRQ///2a8PsCLxIDokWAam24/+MYxK8JsAYuSAhEAtxow+XubpX85GAu+/8z//2cpeR+xf/KXOZchkyy8//P5f+X/////edcJFIEjHFNBB0OtjXoQIEUm8mx/+MYxMMMi14mKAgEpmaRQYFFM5jChhMBskKSnLHwMz8jUiTb6rq////Pf0u6p038KcqLh8tFIDPK0waRwBJBSIFgBH+eAMDT/+MYxMsKG2IYAACNTf///9P/////5/+f9ZKCZazujkeQGA+RIYDEc4oApsX+dz5P//O5+WXJWPpLGoNdAyEtBgspdF5FUbFU/+MYxN0KUAIuSAhElphZOtQNqKkTl6///B7L9f//5//5fz+V1/L5f++f3/qD/n3//+3svyOlCl52VRRE7iVvgaFRcAxZVbe0/+MYxO4Og2ImSAhG3+lb683WpVSNSyNspd0UzsyTkRVqjsj0ej//1rZG9Co1Go8hSlgMjhQucpg9Fp6+uL06ZdcfIdD1ckrm/+MYxO8Os14QAABNLaj9X+YufyaKj/L1t//8H/qi//5+RF+LQjyw2+XDjO2/Oaj///93+ja45qSmWYIJQEc0bZqkTcr7IVep/+MYxO8QI2YVgAjNoNrP+QIELy/8t6XR+eyorh/f//lg2WZf/7/5e//fR+/3n+YOX5f///owB5uJ2AJjUjMSRgzRqNJV/rUZ/+MYxOkNS2oiSAiHoCRFe8nrl2Pvi15/JiyX/5T+vecv8z17/L5R9F5k5Z3b+YC6yr8fP+3q1m0TMZjrAnSg0CCBw7EjjUWC/+MYxO4OY14QAAFTMVFqv0w2rN+YPGceXOXn/+XP//8v/n//9fy/35BrF///f/////yI08yQDwI+dXQ0HJERuhH+9xIkWcvm/+MYxO8Pq2YaQAiNoPYT38z3LPn/X//1v32IRy49cz/5f9Lnzfz5/InIzKD/1+Xp1/0ar6I8YqlQQZkzYJLkIcO6sDjmwHuv/+MYxOsNi14lqAhG3//33Ln8vBl/P9Kf/8/+X2UpVxaJV+kYMsr9dtFr///l//3SQ2v1CRbHIPKziXzJVEkeHFBQADHVjccc/+MYxO8P214dqAiHoohQ8T6PXm5mjvzJirn9X//eX/5r/5fykE3Ni12f/185fn+v/8/6e//TaqOoNyZTiIJc8YEAygzxf//P/+MYxOoMez4iQAhG3fry//////8v//Kf7ckWwdjU6uAlPIxG5Tl6VM4PV/5f55eZylFPOPd8+pBCJZ/XpEmmNSwmYOHpl+8l/+MYxPMO62YhqAiHomIQPMfzYfl//Lr/YkBd3APxQ/z3//5ctVrMPakfyqebn//T////TkqS/QylsGVd48YSy46YoyMkuz/T/+MYxPIPW2IaQAhGvcsh/D/M/+9+ll//Oyz/88v5//+y5v/yk3nL8pTl////8+f5FlWkpuw22NXIjbfSLWc61WWWHynCuQIe/+MYxO8OGz4mSAiHo5f/+fl+6PQReMvX//PaIhL//fN/sqD6zWhL/V65v73///f+YCU4yRtDLIwg1XBowhGBB9hrgDTcaBER/+MYxPEPg2IVYAjNoU///15+ZcFdV//eSL/y//l1+i+vPy/kfv/rl////+JaajzwMYMAghvUbHiBQQIPAbC1ssAgiBYf57+v/+MYxO4Og0IhqAiHh//3////z/Oz7+W3lNll+U07IIZZzqTh3M8nFman/H///JZ7yZNkaLB0Jm7sJc+SMA55lhJMhxxWD//3/+MYxO8Og2IdgAjNoxkk379d8j1rs5dfLbn/8nP/6/fI96P9df/z4r//9ecXX89H+6aUs2dmtayGHP0pclEjszX4HMJuF/65/+MYxPAOO2IdoAhG3j/XzN0ullhGsszM/ozztvKpndTslEpKj2PdL6fT+7s2V7EMsIZjAR3CNdSEIWWkxGnEVitwwSIE0yNv/+MYxPIN42IiSAhG32r/XVk9VVG107IY5j6q57Gc/pXT+eX//+u/PR8s7s6FI5zlEKGJVKLKV40qeS1MtkxKW2ro9xEXn7/P/+MYxPUQg14WQAjNof1Q3Xr4q2XJfy//y//l/z+EveR/6GLX/8K////6fbT9CoRyDsdHMIn279+ZuHuOFIvVt//e1pVZ1Sju/+MYxO4Oe2YhqAiNorOaY+51MxL2UoMIjmcxjQdFRyNVVa1LUd6/172a9VbR1U4VCCXA1HkcQMoC0U/SoACSMRAUgYdoKEGU/+MYxO8Pk2oQIACTFIGGIGiRxzP/iH/vP+A5r///z/838v36n//7//P//6P33///+IWZyzRmB+SBvm5THMSlFEL/+Rk4Zi9+/+MYxOsMk2oUAACTMIu5BP9fIxC7h//3y/+pSujznMj/z9S/P/z/3LmX////5b//JkWqxxoRRaLrubJCHAdzYcWODdv+mtvZ/+MYxPMOC2odoAiNotVJZ0Vt2VqSD52bqzoQUdUKy2er0mroz2ImX/ffZq7X1k3INcezhRmERUQFFMAKMfV+gmPaVJ1igl2k/+MYxPUQ+2oMAACNFHP/9xk/D8srrZ8vzu/6//+Rn/z/z+zneV/+v/4uZ9f//r///7ra1i0znd0Ugk4dN6Y7gvKgUdX79xks/+MYxOwM804mSAhG3/KCtd87mQv5c/5Zf/7Ev/78+WauWX//kpIjI5uRowybyixL5XX///9ljMuUzMQqXJK/tDgIgrL/559G/+MYxPMPO14hoAhGv/mf5ZzlJLOy2QkeTfcjvUyVy//8/f2FeWu88vZVPrqa9ZRm4QQNIl+ZXNGC6/SXL88C+nHJ/7+SvMhI/+MYxPEQQ2YMAAFTFIs2gqVC7+4N/uX//f8vxH/58uUymv/9y3n5b6p/////23ZHynRxARCkKUwRQQKsdFCUNswfdmL1lgtv/+MYxOsNU1YhoAiHo6Sv3/l/Xzl3+2v//z//39/Rn/Bzz50R8pf+u1l1////p1TRqIXaXd0lDIY1USShoAoxCxaAAqa79xkE/+MYxPAOq2YlqAhG3i/PH3PO5xkW66X2h6/88sP8+U/+uX5lkd1Wyys9az/smhajlmX//5cUNkTjmAKPJoxzJyrMUopoJBRq/+MYxPAOQ2YQAABTEP73EgSF593QPX7+U3v8///5P/5f/1//8WfL5/1/wwp+mQv5f/LOigzvMjoczjItyM9EgLnY/+XqeeNw/+MYxPIPW1odgAiNh1SJsuiWWbOXoFVzs2a4NzlzXZn5//7X3dqO9L75RtzsmeQIKivkbIknm6xULDDSF5G5edXuv9C5lKVa/+MYxO8Og2IeQAiHhU3LrlyX7QBy//nfQ//Ky//ly7J58a7KBc0ayl7+6f2b///zX2K6SHIepGMDBElCtphtGsZv0xJEKiQ//+MYxPAPq1odqAhG3wDT/nXn7///////L//e/cyXZbb6AMy12NvdI9zIy89yP////v7TUeUIqnHCCasDDMKcm5u123L8cVu3/+MYxOwNQ1YhqAhG3zUVguuHqHy/6l2v3wV/qv//1/y/6/L//4es9nUvyz39T////ZutU9IzMWbQyKjY5epCS1vy5xHlVZJJ/+MYxPIOS2YQAABTEANCv/fIss+X6P////8v+Z//7/LI8NLlZNFck/z+/Xv////0K/83Yuomhozh1pUW7Qga+6t4NNE0ONyy/+MYxPMQQ14ZgAiNo8toABfy/svsz/rLv/17a0avX2vbuuzH00V0+XbV20T///3+ljpQxDFMyOMU1BpkIo8YcHKrCcyiKKre/+MYxO0PY2YVgAiToO2vyGX6nq+ZGb/rXl1//z//5b//lP8uf//EXKv+v0/////XvQqTHqxWoRRgrhmDQQThlQOyKj8/0/Nr/+MYxOoNk14eQAiNob7U7/4/la2f//OxCL/n//f/3l2Y15p5/upz2pf9f//vb6fPQrUQuQWcUc+KjmrmzmEozKAfEE2ozP6//+MYxO4PA2oaIAjNoPr/Nfaw///33+X9X/eZ+fn1/WsjbNckfer3+X////IfPyFgNsUSt77vc4pDvI10yuq3EgRQpc7tf8uf/+MYxO0Oq2IeQAgKyYp9+ff/8t/VKaoXy//G//Mlg/vqertShLzX3z/v1/1usqWRrBmSOCTfz+xy0sx9H63VEYg/r1//y/f9/+MYxO0Nk1YiQAiHhPRtNNHzUTq6q62f1XTbORdOq//X+ifdGOWrVHT2OY9hoLyZQ1I1OkSI4NyocRYoUKCKLRLH0W23JYjT/+MYxPEOe14dgAiNo19+/Ln9Uglsp4+ZoF/0oiS+//+6/Ky99yje////qTa8////5/i+DFN2QNkCg0QUzocL/8z+9XOZ54F5/+MYxPINW2IeQAhM3ceYqGZJzgEAMZmZnZwkIrdFDDe/+6/bO+zrRU5sYqdzx7dIYqqOyjECzyIUAwNkCJGxav/3/cvwCyzh/+MYxPcPC14dqAiNow2kh3GeZQmSGeKjgYTMzZ7l58z/3//633UfmVt4ncevdKqvispjUlOkhOkTwuwsXQoxMruyQWgISfyX/+MYxPUPs2oV4AgOkPLK//PPzf////5n/+/8NeDSNlRbu9FKjI8Zn/O89Z/+f/L6fL6ObO7wiuTKLQRjt4JUkfCiZZFYEpXT/+MYxPENwzYqSAhG3zlwiHl+Vln8utc8+X///36///L9Tv5LMl1ftaeZd/zl//////nLfhZytqwKmCjMFcMIwQcAMZ2oQGKn/+MYxPUO214QAABNEf1y0qzKPqaNn3AEjuGta0EsZF8j/+X/+avnuL5WLWOhrPCGdKIznKWIbhBiOUIrq4eiMNb++RofJUR//+MYxPQO+2oQAABTECDLKpKyp7AFEE8jv/+Sl/f/y/f/l5fP4fymp//l////19DUomQyM0m1ZpEZBzxYoAZF/76MqX0Xlyuc/+MYxPMQE2YaQAjNoOhkaR051mjiXVyEahjrxZUVKOOczO6VzO22dvX/72/XSfKGp6jj1xthiMTqqkaMDONH8CrEtDC58Rlm/+MYxO0PA2IeQAhGvRcLtzbVM/gZH6X/lrIqeVGpIri//vyEv/zP/5f5/9b/8Pz/X6/////b9NHfUzFhEoxzO4G0JqZksJg5/+MYxOwNA2oUAABRLKr/0/12Xg3ZXsiKqursXOls6MpKE2znexzO55WW+peuvZ/7auaSuIHKhjghBhAV3CmBClmIxpPSkSy7/+MYxPMOIz4hoAhG3yfJyIVqohcXWCjI/8vP9+1/7//X/3/6f61/+v7/t77f6/2/////+26mQzIyjqylhTO4eKGRQxhbNDiJ/+MYxPUSE2oIAACTEFX/++n7JrSx2WYNMZFc7AlUirWqGBPCXOpzmRTPQjIe9czff/5/PfLPJX3KO6w22kttoaJ9pNWZDjFM/+MYxOcNi2YhoAiHhqk05mxEuYDmFRBBIGDT7+IflmVMb/0Wf/0/QLkHf1/2m6v6fpoY+1+sAhoMlxoGOFQ+jbbcZJGljIXK/+MYxOsQO2IMAACTFb+lv4fH/GVV//r//efnoslIj/r9fxbPO8vHItLDn/P//ZdO6lS9VdVByqsIqUNAYfBAhpCxuXVke+X2/+MYxOUNE2IiQAgEwV5f0jVYbP3//7v/L//l5f5ss4GVEaGbmesRh9K0ju6///837UmOjpIwssokUcxQt+gNYplsHLYhB5eJ/+MYxOsQk1YMAACTEY3JJQ1wxZtG/tak6KISwy/uZ/j6nkHvZei9RjajSy8n3x/u3///stJyKaAKCFJMKC4b/r/WvwKplRP5/+MYxOMKOAYuSABEAnq+WEvP//5I//v/QMz8//X758VpvOnnOVPn/f//uX2+f7nDYvkGpozxt8Xn2tRGoPBM1PX/6/+YdDJZ/+MYxPUPQ1YiSAiHo8IiMFFDMfiOduTSMAxPIM7R9Lkv8t/3993+be079FC2LRc8jYlp5R6KheqB2l0kwFwoFSmWOyCsZ8v+/+MYxPMQg2IaQAlNoFP7Ly7/X//+W+gepL/1mP1mfb8ccMf6rJy7AZA9f8//z/1MupC79GSiKa17cElnuR7pw5MG48AV+ucZ/+MYxOwMgAYuSAhEAhglKMW9+py5S+PP+Rf/6MP/fXz/vlOfvzMv/LWRcWGz16///9fZMlpasVhhHOGxIRbHk8nkkYP+EQKl/+MYxPUPG2IdgAjNozJQByAMF/6//le/y////8/rVl/v5/d/5U98kU2tzl5SITKXk///7Pt5VWhZSMOQqIHZwB0LymkzFFnA/+MYxPMOw2oQAABNEL0pKo025GgSbCS9H7lzLlV58mRTv//3+W8WT//f/7zz5//l/9ki/6////WXFkRjlygC4US7JYQwCIg1/+MYxPMPk1YaQAjNof+3GgQj8XKu+pz/PNeX2//81+BMxLX//nz8/5vXovznf9GZ8kZy//J/t1dPqqsZWQIqK2lF4LBUIAJn/+MYxO8Pq2YdoAlNopA5QImv5P/i4cqmi/y///9DP/mplLdWL/8rZS/qX////m+pfVpWM5jBgJysYxQpTGMYUcygIwYU6qqq/+MYxOsPE14aQAiNoYAwNmLCuoX4szULsxZmoXZiwr/FhX//gIWFSJmtiVCwr3f7P/ioqLCwsLC4qK1MQU1FMy45OS4zVVVV/+MYxOkN614mSAhE31VVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVV/+MYxOwOwz4hqAiHo1VVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVV/+MYxOwOG1oOIAgEqFVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVV/+MYxO4L6AVtkAhEAFVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVV",H="Read this book aloud",X=n(3609),J=n(3609);X.extend(BookReader.defaultOptions,{server:"ia600609.us.archive.org",bookPath:"",enableTtsPlugin:!0}),BookReader.prototype.setup=(F=BookReader.prototype.setup,function(t){if(F.call(this,t),this.options.enableTtsPlugin){this.ttsHilites=[];var e=Z.isSupported()?Z:C.isSupported()?C:null;if(/_forceTTSEngine=(festival|web)/.test(location.toString())){var n=location.toString().match(/_forceTTSEngine=(festival|web)/)[1];e={festival:C,web:Z}[n]}e&&(this.ttsEngine=new e({server:t.server,bookPath:t.bookPath,bookLanguage:(i=t.bookLanguage,i?k(i=i.toLowerCase(),["ISO 639-1"])||k(i,["ISO 639-2/B"])||k(i,["ISO 639-2/T","Endonym","Name"]):null),onLoadingStart:this.showProgressPopup.bind(this,"Loading audio..."),onLoadingComplete:this.removeProgressPopup.bind(this),onDone:this.ttsStop.bind(this),beforeChunkPlay:this.ttsBeforeChunkPlay.bind(this),afterChunkPlay:this.ttsSendChunkFinishedAnalyticsEvent.bind(this)}))}var i}),BookReader.prototype.init=function(t){return function(){var e=this;this.options.enableTtsPlugin&&(this.bind(BookReader.eventNames.fragmentChange,(function(){if(e.mode==e.constMode2up){var t=[e.twoPage.currentIndexL,e.twoPage.currentIndexR].map((function(t){return".BRReadAloudHilite.Leaf-".concat(t)})).join(", ");J(e.ttsHilites).filter(t).show(),J(e.ttsHilites).not(t).hide()}})),this.bind(BookReader.eventNames.PostInit,(function(){e.$(".BRicon.read").click((function(){return e.ttsToggle(),!1})),e.ttsEngine&&(e.ttsEngine.init(),/[?&]_autoReadAloud=show/.test(location.toString())&&e.ttsStart(!1))}))),t.call(this)}}(BookReader.prototype.init),BookReader.prototype.buildMobileDrawerElement=function(t){return function(){var e=t.call(this);return this.options.enableTtsPlugin&&this.ttsEngine&&e.find(".BRmobileMenu__moreInfoRow").after(J('\n        <li>\n            <span>\n                <span class="DrawerIconWrapper"><img class="DrawerIcon" src="'.concat(this.imagesBaseURL,'icon_speaker_open.svg" alt="info-speaker"/></span>\n                Read Aloud\n            </span>\n            <div>\n                <span class="larger">Press to toggle read aloud</span>\n                <br/>\n                <button class="BRicon read"></button>\n            </div>\n        </li>'))),e}}(BookReader.prototype.buildMobileDrawerElement),BookReader.prototype.initNavbar=function(t){return function(){var e=this,n=t.call(this);if(this.options.enableTtsPlugin&&this.ttsEngine){this.refs.$BRReadAloudToolbar=J('\n        <ul class="read-aloud">\n          <li>\n            <select class="playback-speed" name="playback-speed" title="'.concat("Playback speed",'">\n              <option value="0.25">0.25x</option>\n              <option value="0.5">0.5x</option>\n              <option value="0.75">0.75x</option>\n              <option value="1.0" selected>1.0x</option>\n              <option value="1.25">1.25x</option>\n              <option value="1.5">1.5x</option>\n              <option value="1.75">1.75x</option>\n              <option value="2">2x</option>\n            </select>\n          </li>\n          <li>\n            <button type="button" name="review" title="').concat("Review 10 seconds",'">\n              <div class="icon icon-review"></div>\n            </button>\n          </li>\n          <li>\n            <button type="button" name="play" title="').concat("Play",'">\n              <div class="icon icon-play"></div>\n              <div class="icon icon-pause"></div>\n            </button>\n          </li>\n          <li>\n            <button type="button" name="advance" title="').concat("Advance 10 seconds",'">\n              <div class="icon icon-advance"></div>\n            </button>\n          </li>\n        </ul>\n      ')),n.find(".BRcontrols").prepend(this.refs.$BRReadAloudToolbar),this.ttsEngine.events.on("pause resume start",(function(){return e.ttsUpdateState()})),this.refs.$BRReadAloudToolbar.find("[name=play]").click(this.ttsPlayPause.bind(this)),this.refs.$BRReadAloudToolbar.find("[name=advance]").click(this.ttsJumpForward.bind(this)),this.refs.$BRReadAloudToolbar.find("[name=review]").click(this.ttsJumpBackward.bind(this));var i=this.refs.$BRReadAloudToolbar.find('select[name="playback-speed"]');i.change((function(t){return e.ttsEngine.setPlaybackRate(parseFloat(i.val()))})),J('<li>\n          <button class="BRicon read js-tooltip" title="'.concat(H,'">\n            <div class="icon icon-read-aloud"></div>\n            <span class="tooltip">').concat(H,"</span>\n          </button>\n        </li>")).insertBefore(n.find(".BRcontrols .BRicon.zoom_out").closest("li"))}return n}}(BookReader.prototype.initNavbar),BookReader.prototype.ttsToggle=function(){this.autoStop&&this.autoStop(),this.ttsEngine.playing?this.ttsStop():this.ttsStart()},BookReader.prototype.ttsStart=function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.constModeThumb==this.mode&&this.switchMode(this.constMode1up),this.refs.$BRReadAloudToolbar.addClass("visible"),this.$(".BRicon.read").addClass("unread active"),this.ttsSendAnalyticsEvent("Start"),t&&this.ttsEngine.start(this.currentIndex(),this.getNumLeafs())},BookReader.prototype.ttsJumpForward=function(){this.ttsEngine.paused&&this.ttsEngine.resume(),this.ttsEngine.jumpForward()},BookReader.prototype.ttsJumpBackward=function(){this.ttsEngine.paused&&this.ttsEngine.resume(),this.ttsEngine.jumpBackward()},BookReader.prototype.ttsUpdateState=function(){var t=!(this.ttsEngine.paused||!this.ttsEngine.playing);this.$(".read-aloud [name=play]").toggleClass("playing",t)},BookReader.prototype.ttsPlayPause=function(){this.ttsEngine.playing?(this.ttsEngine.togglePlayPause(),this.ttsUpdateState(this.ttsEngine.paused)):this.ttsToggle()},BookReader.prototype.ttsStop=function(){this.refs.$BRReadAloudToolbar.removeClass("visible"),this.$(".BRicon.read").removeClass("unread active"),this.ttsSendAnalyticsEvent("Stop"),this.ttsEngine.stop(),this.ttsRemoveHilites(),this.removeProgressPopup()},BookReader.prototype.ttsBeforeChunkPlay=function(t){var e=this;return this.ttsMaybeFlipToIndex(t.leafIndex).then((function(){e.ttsHighlightChunk(t),e.ttsScrollToChunk(t)}))},BookReader.prototype.ttsSendChunkFinishedAnalyticsEvent=function(t){var e;this.ttsSendAnalyticsEvent("ChunkFinished-Words",(e=t.text.match(/\S+/g))?e.length:0)},BookReader.prototype.ttsMaybeFlipToIndex=function(t){var e=this.constMode2up==this.mode,n=null,i=new Promise((function(t){return n=t}));return e?t==this.twoPage.currentIndexR||t==this.twoPage.currentIndexL?n():(this.animationFinishedCallback=n,t>Math.max(this.twoPage.currentIndexR,this.twoPage.currentIndexL)?this.next():this.prev(),i.then(this.ttsMaybeFlipToIndex.bind(this,t))):(this.jumpToIndex(t),n()),i},BookReader.prototype.ttsHighlightChunk=function(t){this.ttsRemoveHilites(),this.constMode2up==this.mode?this.ttsHilite2UP(t):this.ttsHilite1UP(t)},BookReader.prototype.ttsScrollToChunk=function(t){if(this.constMode1up==this.mode){var e,n=0;for(e=0;e<t.leafIndex;e++)n+=parseInt(this._getPageHeight(e)/this.reduce)+this.padding;var i=t.lineRects[0][3],r=t.lineRects[t.lineRects.length-1][1],o=n+i/this.reduce,a=n+r/this.reduce;soundManager.debugMode&&console.log("leafTop = "+n+" topOfFirstChunk = "+o+" botOfLastChunk = "+a);var s=this.refs.$brContainer.prop("scrollTop"),u=s+this.refs.$brContainer.height();soundManager.debugMode&&console.log("containerTop = "+s+" containerBot = "+u),(o<s||a>u)&&this.refs.$brContainer.stop(!0).animate({scrollTop:o},"fast")}},BookReader.prototype.ttsHilite1UP=function(t){for(var e=0;e<t.lineRects.length;e++){var n=t.lineRects[e][0],i=t.lineRects[e][1],r=t.lineRects[e][2],o=t.lineRects[e][3],a=document.createElement("div");this.ttsHilites.push(a),J(a).prop("className","BookReaderSearchHilite").appendTo(this.$(".pagediv"+t.leafIndex)),J(a).css({width:(r-n)/this.reduce+"px",height:(i-o)/this.reduce+"px",left:n/this.reduce+"px",top:o/this.reduce+"px"})}},BookReader.prototype.ttsHilite2UP=function(t){for(var e=0;e<t.lineRects.length;e++){var n=t.lineRects[e][0],i=t.lineRects[e][1],r=t.lineRects[e][2],o=t.lineRects[e][3],a=document.createElement("div");this.ttsHilites.push(a),J(a).prop("className","BookReaderSearchHilite BRReadAloudHilite Leaf-"+t.leafIndex).css("zIndex",3).appendTo(this.refs.$brTwoPageView),this.setHilightCss2UP(a,t.leafIndex,n,r,o,i)}},BookReader.prototype.ttsRemoveHilites=function(){J(this.ttsHilites).remove(),this.ttsHilites=[]},BookReader.prototype.ttsSendAnalyticsEvent=function(t,e){if(this.archiveAnalyticsSendEvent){var n={},i=this.ttsEngine.opts.bookLanguage;i&&(n.mediaLanguage=i),this.archiveAnalyticsSendEvent("BRReadAloud",t,e,n)}}},7775:function(t,e,n){"use strict";function i(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:navigator.userAgent,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:navigator.vendor;return/chrome/i.test(t)&&/google inc/i.test(e)}function r(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:navigator.userAgent;return/firefox/i.test(t)}function o(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:navigator.userAgent;return/safari/i.test(t)&&!/chrome|chromium/i.test(t)}n.d(e,{i7:function(){return i},vU:function(){return r},G6:function(){return o}})},7072:function(t,e,n){var i=n(5112)("iterator"),r=!1;try{var o=0,a={next:function(){return{done:!!o++}},return:function(){r=!0}};a[i]=function(){return this},Array.from(a,(function(){throw 2}))}catch(t){}t.exports=function(t,e){if(!e&&!r)return!1;var n=!1;try{var o={};o[i]=function(){return{next:function(){return{done:n=!0}}}},t(o)}catch(t){}return n}},6833:function(t,e,n){var i=n(8113);t.exports=/(iphone|ipod|ipad).*applewebkit/i.test(i)},7065:function(t,e,n){"use strict";var i=n(3099),r=n(111),o=[].slice,a={},s=function(t,e,n){if(!(e in a)){for(var i=[],r=0;r<e;r++)i[r]="a["+r+"]";a[e]=Function("C,a","return new C("+i.join(",")+")")}return a[e](t,n)};t.exports=Function.bind||function(t){var e=i(this),n=o.call(arguments,1),a=function(){var i=n.concat(o.call(arguments));return this instanceof a?s(e,i.length,i):e.apply(t,i)};return r(e.prototype)&&(a.prototype=e.prototype),a}},842:function(t,e,n){var i=n(7854);t.exports=function(t,e){var n=i.console;n&&n.error&&(1===arguments.length?n.error(t):n.error(t,e))}},408:function(t,e,n){var i=n(9670),r=n(7659),o=n(7466),a=n(9974),s=n(1246),u=n(9212),c=function(t,e){this.stopped=t,this.result=e};t.exports=function(t,e,n){var l,A,h,f,p,d,v,g=n&&n.that,V=!(!n||!n.AS_ENTRIES),m=!(!n||!n.IS_ITERATOR),y=!(!n||!n.INTERRUPTED),k=a(e,g,1+V+y),b=function(t){return l&&u(l),new c(!0,t)},S=function(t){return V?(i(t),y?k(t[0],t[1],b):k(t[0],t[1])):y?k(t,b):k(t)};if(m)l=t;else{if("function"!=typeof(A=s(t)))throw TypeError("Target is not iterable");if(r(A)){for(h=0,f=o(t.length);f>h;h++)if((p=S(t[h]))&&p instanceof c)return p;return new c(!1)}l=A.call(t)}for(d=l.next;!(v=d.call(l)).done;){try{p=S(v.value)}catch(t){throw u(l),t}if("object"==typeof p&&p&&p instanceof c)return p}return new c(!1)}},5948:function(t,e,n){var i,r,o,a,s,u,c,l,A=n(7854),h=n(1236).f,f=n(261).set,p=n(6833),d=n(5268),v=A.MutationObserver||A.WebKitMutationObserver,g=A.document,V=A.process,m=A.Promise,y=h(A,"queueMicrotask"),k=y&&y.value;k||(i=function(){var t,e;for(d&&(t=V.domain)&&t.exit();r;){e=r.fn,r=r.next;try{e()}catch(t){throw r?a():o=void 0,t}}o=void 0,t&&t.enter()},!p&&!d&&v&&g?(s=!0,u=g.createTextNode(""),new v(i).observe(u,{characterData:!0}),a=function(){u.data=s=!s}):m&&m.resolve?(c=m.resolve(void 0),l=c.then,a=function(){l.call(c,i)}):a=d?function(){V.nextTick(i)}:function(){f.call(A,i)}),t.exports=k||function(t){var e={fn:t,next:void 0};o&&(o.next=e),r||(r=e,a()),o=e}},3366:function(t,e,n){var i=n(7854);t.exports=i.Promise},8523:function(t,e,n){"use strict";var i=n(3099),r=function(t){var e,n;this.promise=new t((function(t,i){if(void 0!==e||void 0!==n)throw TypeError("Bad Promise constructor");e=t,n=i})),this.resolve=i(e),this.reject=i(n)};t.exports.f=function(t){return new r(t)}},2534:function(t){t.exports=function(t){try{return{error:!1,value:t()}}catch(t){return{error:!0,value:t}}}},9478:function(t,e,n){var i=n(9670),r=n(111),o=n(8523);t.exports=function(t,e){if(i(t),r(e)&&e.constructor===t)return e;var n=o.f(t);return(0,n.resolve)(e),n.promise}},6340:function(t,e,n){"use strict";var i=n(5005),r=n(3070),o=n(5112),a=n(9781),s=o("species");t.exports=function(t){var e=i(t),n=r.f;a&&e&&!e[s]&&n(e,s,{configurable:!0,get:function(){return this}})}},261:function(t,e,n){var i,r,o,a=n(7854),s=n(7293),u=n(9974),c=n(490),l=n(317),A=n(6833),h=n(5268),f=a.location,p=a.setImmediate,d=a.clearImmediate,v=a.process,g=a.MessageChannel,V=a.Dispatch,m=0,y={},k=function(t){if(y.hasOwnProperty(t)){var e=y[t];delete y[t],e()}},b=function(t){return function(){k(t)}},S=function(t){k(t.data)},q=function(t){a.postMessage(t+"",f.protocol+"//"+f.host)};p&&d||(p=function(t){for(var e=[],n=1;arguments.length>n;)e.push(arguments[n++]);return y[++m]=function(){("function"==typeof t?t:Function(t)).apply(void 0,e)},i(m),m},d=function(t){delete y[t]},h?i=function(t){v.nextTick(b(t))}:V&&V.now?i=function(t){V.now(b(t))}:g&&!A?(o=(r=new g).port2,r.port1.onmessage=S,i=u(o.postMessage,o,1)):a.addEventListener&&"function"==typeof postMessage&&!a.importScripts&&f&&"file:"!==f.protocol&&!s(q)?(i=q,a.addEventListener("message",S,!1)):i="onreadystatechange"in l("script")?function(t){c.appendChild(l("script")).onreadystatechange=function(){c.removeChild(this),k(t)}}:function(t){setTimeout(b(t),0)}),t.exports={set:p,clear:d}},489:function(t,e,n){var i=n(2109),r=n(7293),o=n(7908),a=n(9518),s=n(8544);i({target:"Object",stat:!0,forced:r((function(){a(1)})),sham:!s},{getPrototypeOf:function(t){return a(o(t))}})},8674:function(t,e,n){"use strict";var i,r,o,a,s=n(2109),u=n(1913),c=n(7854),l=n(5005),A=n(3366),h=n(1320),f=n(2248),p=n(8003),d=n(6340),v=n(111),g=n(3099),V=n(5787),m=n(2788),y=n(408),k=n(7072),b=n(6707),S=n(261).set,q=n(5948),I=n(9478),M=n(842),P=n(8523),x=n(2534),R=n(9909),E=n(4705),C=n(5112),w=n(5268),O=n(7392),B=C("species"),Y="Promise",j=R.get,Q=R.set,z=R.getterFor(Y),U=A,K=c.TypeError,T=c.document,L=c.process,F=l("fetch"),Z=P.f,G=Z,N=!!(T&&T.createEvent&&c.dispatchEvent),H="function"==typeof PromiseRejectionEvent,X="unhandledrejection",J=E(Y,(function(){if(m(U)===String(U)){if(66===O)return!0;if(!w&&!H)return!0}if(u&&!U.prototype.finally)return!0;if(O>=51&&/native code/.test(U))return!1;var t=U.resolve(1),e=function(t){t((function(){}),(function(){}))};return(t.constructor={})[B]=e,!(t.then((function(){}))instanceof e)})),W=J||!k((function(t){U.all(t).catch((function(){}))})),D=function(t){var e;return!(!v(t)||"function"!=typeof(e=t.then))&&e},_=function(t,e){if(!t.notified){t.notified=!0;var n=t.reactions;q((function(){for(var i=t.value,r=1==t.state,o=0;n.length>o;){var a,s,u,c=n[o++],l=r?c.ok:c.fail,A=c.resolve,h=c.reject,f=c.domain;try{l?(r||(2===t.rejection&&nt(t),t.rejection=1),!0===l?a=i:(f&&f.enter(),a=l(i),f&&(f.exit(),u=!0)),a===c.promise?h(K("Promise-chain cycle")):(s=D(a))?s.call(a,A,h):A(a)):h(i)}catch(t){f&&!u&&f.exit(),h(t)}}t.reactions=[],t.notified=!1,e&&!t.rejection&&tt(t)}))}},$=function(t,e,n){var i,r;N?((i=T.createEvent("Event")).promise=e,i.reason=n,i.initEvent(t,!1,!0),c.dispatchEvent(i)):i={promise:e,reason:n},!H&&(r=c["on"+t])?r(i):t===X&&M("Unhandled promise rejection",n)},tt=function(t){S.call(c,(function(){var e,n=t.facade,i=t.value;if(et(t)&&(e=x((function(){w?L.emit("unhandledRejection",i,n):$(X,n,i)})),t.rejection=w||et(t)?2:1,e.error))throw e.value}))},et=function(t){return 1!==t.rejection&&!t.parent},nt=function(t){S.call(c,(function(){var e=t.facade;w?L.emit("rejectionHandled",e):$("rejectionhandled",e,t.value)}))},it=function(t,e,n){return function(i){t(e,i,n)}},rt=function(t,e,n){t.done||(t.done=!0,n&&(t=n),t.value=e,t.state=2,_(t,!0))},ot=function(t,e,n){if(!t.done){t.done=!0,n&&(t=n);try{if(t.facade===e)throw K("Promise can't be resolved itself");var i=D(e);i?q((function(){var n={done:!1};try{i.call(e,it(ot,n,t),it(rt,n,t))}catch(e){rt(n,e,t)}})):(t.value=e,t.state=1,_(t,!1))}catch(e){rt({done:!1},e,t)}}};J&&(U=function(t){V(this,U,Y),g(t),i.call(this);var e=j(this);try{t(it(ot,e),it(rt,e))}catch(t){rt(e,t)}},(i=function(t){Q(this,{type:Y,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:0,value:void 0})}).prototype=f(U.prototype,{then:function(t,e){var n=z(this),i=Z(b(this,U));return i.ok="function"!=typeof t||t,i.fail="function"==typeof e&&e,i.domain=w?L.domain:void 0,n.parent=!0,n.reactions.push(i),0!=n.state&&_(n,!1),i.promise},catch:function(t){return this.then(void 0,t)}}),r=function(){var t=new i,e=j(t);this.promise=t,this.resolve=it(ot,e),this.reject=it(rt,e)},P.f=Z=function(t){return t===U||t===o?new r(t):G(t)},u||"function"!=typeof A||(a=A.prototype.then,h(A.prototype,"then",(function(t,e){var n=this;return new U((function(t,e){a.call(n,t,e)})).then(t,e)}),{unsafe:!0}),"function"==typeof F&&s({global:!0,enumerable:!0,forced:!0},{fetch:function(t){return I(U,F.apply(c,arguments))}}))),s({global:!0,wrap:!0,forced:J},{Promise:U}),p(U,Y,!1,!0),d(Y),o=l(Y),s({target:Y,stat:!0,forced:J},{reject:function(t){var e=Z(this);return e.reject.call(void 0,t),e.promise}}),s({target:Y,stat:!0,forced:u||J},{resolve:function(t){return I(u&&this===o?U:this,t)}}),s({target:Y,stat:!0,forced:W},{all:function(t){var e=this,n=Z(e),i=n.resolve,r=n.reject,o=x((function(){var n=g(e.resolve),o=[],a=0,s=1;y(t,(function(t){var u=a++,c=!1;o.push(void 0),s++,n.call(e,t).then((function(t){c||(c=!0,o[u]=t,--s||i(o))}),r)})),--s||i(o)}));return o.error&&r(o.value),n.promise},race:function(t){var e=this,n=Z(e),i=n.reject,r=x((function(){var r=g(e.resolve);y(t,(function(t){r.call(e,t).then(n.resolve,i)}))}));return r.error&&i(r.value),n.promise}})},2419:function(t,e,n){var i=n(2109),r=n(5005),o=n(3099),a=n(9670),s=n(111),u=n(30),c=n(7065),l=n(7293),A=r("Reflect","construct"),h=l((function(){function t(){}return!(A((function(){}),[],t)instanceof t)})),f=!l((function(){A((function(){}))})),p=h||f;i({target:"Reflect",stat:!0,forced:p,sham:p},{construct:function(t,e){o(t),a(e);var n=arguments.length<3?t:o(arguments[2]);if(f&&!h)return A(t,e,n);if(t==n){switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3])}var i=[null];return i.push.apply(i,e),new(c.apply(t,i))}var r=n.prototype,l=u(s(r)?r:Object.prototype),p=Function.apply.call(t,l,e);return s(p)?p:l}})},4723:function(t,e,n){"use strict";var i=n(7007),r=n(9670),o=n(7466),a=n(4488),s=n(1530),u=n(7651);i("match",1,(function(t,e,n){return[function(e){var n=a(this),i=null==e?void 0:e[t];return void 0!==i?i.call(e,n):new RegExp(e)[t](String(n))},function(t){var i=n(e,t,this);if(i.done)return i.value;var a=r(t),c=String(this);if(!a.global)return u(a,c);var l=a.unicode;a.lastIndex=0;for(var A,h=[],f=0;null!==(A=u(a,c));){var p=String(A[0]);h[f]=p,""===p&&(a.lastIndex=s(c,o(a.lastIndex),l)),f++}return 0===f?null:h}]}))},6755:function(t,e,n){"use strict";var i,r=n(2109),o=n(1236).f,a=n(7466),s=n(3929),u=n(4488),c=n(4964),l=n(1913),A="".startsWith,h=Math.min,f=c("startsWith");r({target:"String",proto:!0,forced:!(!l&&!f&&(i=o(String.prototype,"startsWith"),i&&!i.writable)||f)},{startsWith:function(t){var e=String(u(this));s(t);var n=a(h(arguments.length>1?arguments[1]:void 0,e.length)),i=String(t);return A?A.call(e,i,n):e.slice(n,n+i.length)===i}})},1030:function(t,e){"use strict";e.Z=void 0,e.Z=[["Serbian"," ","sr","srp","srp"],["Romanian, Moldavian, Moldovan","Romn","ro","ron","rum"],["Sichuan Yi, Nuosu"," Nuosuhxop","ii","iii","iii"],["Tahitian","Reo Tahiti","ty","tah","tah"],["Tagalog","Wikang Tagalog","tl","tgl","tgl"],["Yiddish","","yi","yid","yid"],["Akan","Akan","ak","aka","aka"],["Malay","Bahasa Melayu,  ","ms","msa","may"],["Arabic","","ar","ara","ara"],["Norwegian","Norsk","no","nor","nor"],["Ojibwa","","oj","oji","oji"],["Fulah","Fulfulde, Pulaar, Pular","ff","ful","ful"],["Persian","","fa","fas","per"],["Albanian","Shqip","sq","sqi","alb"],["Aymara","aymar aru","ay","aym","aym"],["Azerbaijani","azrbaycan dili","az","aze","aze"],["Chinese"," (Zhngwn), , ","zh","zho","chi"],["Cree","","cr","cre","cre"],["Estonian","eesti, eesti keel","et","est","est"],["Guaran","Avae'","gn","grn","grn"],["Inupiaq","Iupiaq, Iupiatun","ik","ipk","ipk"],["Inuktitut","","iu","iku","iku"],["Kanuri","Kanuri","kr","kau","kau"],["Komi"," ","kv","kom","kom"],["Kongo","Kikongo","kg","kon","kon"],["Kurdish","Kurd, ","ku","kur","kur"],["Latvian","latvieu valoda","lv","lav","lav"],["Malagasy","fiteny malagasy","mg","mlg","mlg"],["Mongolian"," ","mn","mon","mon"],["Oromo","Afaan Oromoo","om","orm","orm"],["Pashto, Pushto","","ps","pus","pus"],["Quechua","Runa Simi, Kichwa","qu","que","que"],["Sardinian","sardu","sc","srd","srd"],["Swahili","Kiswahili","sw","swa","swa"],["Uzbek","Ozbek, , ","uz","uzb","uzb"],["Zhuang, Chuang","Sa cue, Saw cuengh","za","zha","zha"],["Bislama","Bislama","bi","bis","bis"],["Norwegian Bokml","Norsk Bokml","nb","nob","nob"],["Norwegian Nynorsk","Norsk Nynorsk","nn","nno","nno"],["Indonesian","Bahasa Indonesia","id","ind","ind"],["Twi","Twi","tw","twi","twi"],["Esperanto","Esperanto","eo","epo","epo"],["Interlingua","Interlingua","ia","ina","ina"],["Interlingue","Originally called Occidental; then Interlingue after WWII","ie","ile","ile"],["Ido","Ido","io","ido","ido"],["Volapk","Volapk","vo","vol","vol"],["Bihari languages","","bh","bih","bih"],["Hebrew (modern)","","he","heb","heb"],["Sanskrit","","sa","san","san"],["Church Slavic, Church Slavonic, Old Church Slavonic, Old Slavonic, Old Bulgarian"," ","cu","chu","chu"],["Pali","","pi","pli","pli"],["Avestan","avesta","ae","ave","ave"],["Latin","latine, lingua latina","la","lat","lat"],["Armenian","","hy","hye","arm"],["Swati","SiSwati","ss","ssw","ssw"],["Tibetan","","bo","bod","tib"],["South Ndebele","isiNdebele","nr","nbl","nbl"],["Slovene","Slovenski Jezik, Slovenina","sl","slv","slv"],["Oriya","","or","ori","ori"],["North Ndebele","isiNdebele","nd","nde","nde"],["Nauru","Dorerin Naoero","na","nau","nau"],["Maori","te reo Mori","mi","mri","mao"],["Marathi","","mr","mar","mar"],["Luba-Katanga","Kiluba","lu","lub","lub"],["Rundi","Ikirundi","rn","run","run"],["Central Khmer",", , ","km","khm","khm"],["Western Frisian","Frysk","fy","fry","fry"],["Bengali","","bn","ben","ben"],["Avaric"," ,  ","av","ava","ava"],["Abkhazian"," , ","ab","abk","abk"],["Afar","Afaraf","aa","aar","aar"],["Afrikaans","Afrikaans","af","afr","afr"],["Amharic","","am","amh","amh"],["Aragonese","aragons","an","arg","arg"],["Assamese","","as","asm","asm"],["Bambara","bamanankan","bm","bam","bam"],["Bashkir"," ","ba","bak","bak"],["Basque","euskara, euskera","eu","eus","baq"],["Belarusian"," ","be","bel","bel"],["Bosnian","bosanski jezik","bs","bos","bos"],["Breton","brezhoneg","br","bre","bre"],["Bulgarian"," ","bg","bul","bul"],["Burmese","","my","mya","bur"],["Catalan, Valencian","catal, valenci","ca","cat","cat"],["Chamorro","Chamoru","ch","cha","cha"],["Chechen"," ","ce","che","che"],["Chichewa, Chewa, Nyanja","chiChea, chinyanja","ny","nya","nya"],["Chuvash"," ","cv","chv","chv"],["Cornish","Kernewek","kw","cor","cor"],["Corsican","corsu, lingua corsa","co","cos","cos"],["Croatian","hrvatski jezik","hr","hrv","hrv"],["Czech","etina, esk jazyk","cs","ces","cze"],["Danish","dansk","da","dan","dan"],["Divehi, Dhivehi, Maldivian","","dv","div","div"],["Dutch, Flemish","Nederlands, Vlaams","nl","nld","dut"],["Dzongkha","","dz","dzo","dzo"],["English","English","en","eng","eng"],["Ewe","Eegbe","ee","ewe","ewe"],["Faroese","froyskt","fo","fao","fao"],["Fijian","vosa Vakaviti","fj","fij","fij"],["Finnish","suomi, suomen kieli","fi","fin","fin"],["French","franais, langue franaise","fr","fra","fre"],["Galician","Galego","gl","glg","glg"],["Georgian","","ka","kat","geo"],["German","Deutsch","de","deu","ger"],["Greek (modern)","","el","ell","gre"],["Gujarati","","gu","guj","guj"],["Haitian, Haitian Creole","Kreyl ayisyen","ht","hat","hat"],["Hausa","(Hausa) ","ha","hau","hau"],["Herero","Otjiherero","hz","her","her"],["Hindi",", ","hi","hin","hin"],["Hiri Motu","Hiri Motu","ho","hmo","hmo"],["Hungarian","magyar","hu","hun","hun"],["Irish","Gaeilge","ga","gle","gle"],["Igbo","Ass Igbo","ig","ibo","ibo"],["Icelandic","slenska","is","isl","ice"],["Italian","Italiano","it","ita","ita"],["Japanese"," ()","ja","jpn","jpn"],["Javanese",", Basa Jawa","jv","jav","jav"],["Kalaallisut, Greenlandic","kalaallisut, kalaallit oqaasii","kl","kal","kal"],["Kannada","","kn","kan","kan"],["Kashmiri",", ","ks","kas","kas"],["Kazakh"," ","kk","kaz","kaz"],["Kikuyu, Gikuyu","Gky","ki","kik","kik"],["Kinyarwanda","Ikinyarwanda","rw","kin","kin"],["Kirghiz, Kyrgyz",",  ","ky","kir","kir"],["Korean","","ko","kor","kor"],["Kuanyama, Kwanyama","Kuanyama","kj","kua","kua"],["Luxembourgish, Letzeburgesch","Ltzebuergesch","lb","ltz","ltz"],["Ganda","Luganda","lg","lug","lug"],["Limburgan, Limburger, Limburgish","Limburgs","li","lim","lim"],["Lingala","Lingla","ln","lin","lin"],["Lao","","lo","lao","lao"],["Lithuanian","lietuvi kalba","lt","lit","lit"],["Manx","Gaelg, Gailck","gv","glv","glv"],["Macedonian"," ","mk","mkd","mac"],["Malayalam","","ml","mal","mal"],["Maltese","Malti","mt","mlt","mlt"],["Marshallese","Kajin Maje","mh","mah","mah"],["Navajo, Navaho","Din bizaad","nv","nav","nav"],["Nepali","","ne","nep","nep"],["Ndonga","Owambo","ng","ndo","ndo"],["Occitan","occitan, lenga d'c","oc","oci","oci"],["Ossetian, Ossetic"," ","os","oss","oss"],["Panjabi, Punjabi","","pa","pan","pan"],["Polish","jzyk polski, polszczyzna","pl","pol","pol"],["Portuguese","Portugus","pt","por","por"],["Romansh","Rumantsch Grischun","rm","roh","roh"],["Russian","","ru","rus","rus"],["Sindhi",",  ","sd","snd","snd"],["Northern Sami","Davvismegiella","se","sme","sme"],["Samoan","gagana fa'a Samoa","sm","smo","smo"],["Sango","yng t sng","sg","sag","sag"],["Gaelic, Scottish Gaelic","Gidhlig","gd","gla","gla"],["Shona","chiShona","sn","sna","sna"],["Sinhala, Sinhalese","","si","sin","sin"],["Slovak","Slovenina, Slovensk Jazyk","sk","slk","slo"],["Somali","Soomaaliga, af Soomaali","so","som","som"],["Southern Sotho","Sesotho","st","sot","sot"],["Spanish, Castilian","Espaol","es","spa","spa"],["Sundanese","Basa Sunda","su","sun","sun"],["Swedish","Svenska","sv","swe","swe"],["Tamil","","ta","tam","tam"],["Telugu","","te","tel","tel"],["Tajik",", toik, ","tg","tgk","tgk"],["Thai","","th","tha","tha"],["Tigrinya","","ti","tir","tir"],["Turkmen","Trkmen, ","tk","tuk","tuk"],["Tswana","Setswana","tn","tsn","tsn"],["Tongan (Tonga Islands)","Faka Tonga","to","ton","ton"],["Turkish","Trke","tr","tur","tur"],["Tsonga","Xitsonga","ts","tso","tso"],["Tatar"," , tatar tele","tt","tat","tat"],["Uighur, Uyghur",", Uyghurche","ug","uig","uig"],["Ukrainian","","uk","ukr","ukr"],["Urdu","","ur","urd","urd"],["Venda","Tshivena","ve","ven","ven"],["Vietnamese","Ting Vit","vi","vie","vie"],["Walloon","Walon","wa","wln","wln"],["Welsh","Cymraeg","cy","cym","wel"],["Wolof","Wollof","wo","wol","wol"],["Xhosa","isiXhosa","xh","xho","xho"],["Yoruba","Yorb","yo","yor","yor"],["Zulu","isiZulu","zu","zul","zul"]]}},0,[[8393,898]]]);
//# sourceMappingURL=plugin.tts.js.map