{"version":3,"sources":["webpack://@internetarchive/bookreader/./src/js/plugins/plugin.mobile_nav.js","webpack://@internetarchive/bookreader/./node_modules/jquery.mmenu/dist/addons/navbars/jquery.mmenu.navbars.min.js","webpack://@internetarchive/bookreader/./node_modules/jquery.mmenu/dist/js/jquery.mmenu.min.js"],"names":["super_","FILTERLIST","filter","label","jQuery","extend","BookReader","defaultOptions","enableMobileNav","mobileNavTitle","mobileNavFullscreenOnly","prototype","setup","options","call","this","refs","$mmenu","initToolbar","mode","ui","$mmenuEl","$drawerEl","buildMobileDrawerElement","$br","append","buildInfoDiv","$","buildShareDiv","mmenu","navbars","navbar","add","title","titleLink","extensions","offCanvas","wrapPageIfNeeded","zposition","pageSelector","el","$BRpageviewField","find","data","bind","length","val","window","location","href","click","applyFilters","switchMode","constMode1up","constMode2up","constModeThumb","document","body","addClass","apply","arguments","getInstance","vars","opened","close","open","trigger","closeMobileMenu","e","width","addEventListener","utils","buildToolbarElement","$el","escapedTitle","util","escapeHTML","bookTitle","toolbar","prepend","experimentalHtml","enableExperimentalControls","forEach","i","checkboxHtml","concat","settingsSection","imagesBaseURL","moreInfo","share","navMenu","arg","$results","drawerEl","br","filterStr","each","removeClass","is","attr","filtersSheet","createElement","id","innerHTML","appendChild","n","a","t","addons","r","s","opts","c","conf","glbl","Array","o","d","content","l","position","h","height","Math","min","max","f","u","v","p","b","ceil","children","not","btn","hasbtns","prependTo","$menu","hasnavbar","_c","_d","_e","clickAnchor","configuration","breadcrumbSeparator","classNames","breadcrumbs","appendTo","first","panel","closest","text","unshift","parent","join","separator","html","$pnls","current","$page","next","panelNext","hidden","prev","hasClass","vertical","panelPrev","search","searchfield","addTo","panelTitle","$wndw","$docu","$html","$body","split","mm","umm","slice","version","_api","cbck","___deprecated","_initMenu","_initAnchors","_initAddons","init","___debug","uniqueId","defaults","onClick","setSelected","slidingSubmenus","divider","inset","selected","spacer","clone","openingInterval","panelNodetype","transitionDuration","nopanel","_initPanels","update","listview","openPanel","parents","subopened","highest","support","csstransitions","nextAll","setTimeout","__transitionend","closePanel","closeAllPanels","togglePanel","push","shift","__getUniqueId","contents","nodeType","remove","panels","wrapper","menu","__findAddBack","__refactorClass","nolistview","wrap","removeAttr","sub","insertBefore","fullsubopen","last","parentsUntil","end","on","preventDefault","__valueOrFn","target","_getOriginalMenuId","__api","__filterListItems","one","transitionend","webkitTransitionEnd","fn","touch","navigator","msMaxTouchPoints","Modernizr","documentElement","style","charAt","toUpperCase","substr","merge","pageNodetype","$allMenus","offcanvas","setPage","_initBlocker","menuInjectMethod","menuWrapperSelector","hash","blockUI","moveBackground","noPageSelector","_openSetup","_openFinish","closeAllOthers","resize","blocking","modal","background","opening","wrapAll","page","slideout","off","keydown","keyCode","css","$blck","blocker","touchstart","touchmove","stopPropagation","mousedown","fix","scrollTop","currentTarget","scrollHeight","offsetHeight","innerHeight","orientationchange"],"mappings":"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","file":"plugins/plugin.mobile_nav.js","sourcesContent":["/* global BookReader */\n/**\n * Adds mobile navigation at responsive breakpoint\n */\n\nimport * as utils from '../BookReader/utils.js';\nimport 'jquery.mmenu/dist/js/jquery.mmenu.min.js';\nimport 'jquery.mmenu/dist/addons/navbars/jquery.mmenu.navbars.min.js';\n\n//contains all filters and labels for checkboxs\nconst FILTERLIST = [\n  {\n    filter: \"grayscale(100%)\",\n    label: \"Grayscale\"\n  },\n  {\n    filter: \"brightness(120%)\",\n    label: \"High brightness\"\n  },\n  {\n    filter: \"invert(100%)\",\n    label: \"Inverted (dark mode)\"\n  },\n  {\n    filter: \"contrast(120%)\",\n    label: \"High contrast\"\n  },\n]\n\njQuery.extend(BookReader.defaultOptions, {\n  enableMobileNav: true,\n  mobileNavTitle: 'Internet Archive',\n  mobileNavFullscreenOnly: false,\n});\n\nBookReader.prototype.setup = (function(super_) {\n  return function (options) {\n    super_.call(this, options);\n\n    this.enableMobileNav = options.enableMobileNav;\n    this.mobileNavTitle = options.mobileNavTitle;\n    this.mobileNavFullscreenOnly = options.mobileNavFullscreenOnly;\n\n    this.refs.$mmenu = null;\n  };\n})(BookReader.prototype.setup);\n\n\n// Extend initToolbar\nBookReader.prototype.initToolbar = (function (super_) {\n  return function (mode, ui) {\n    let $mmenuEl;\n    if (this.enableMobileNav) {\n      const $drawerEl = this.buildMobileDrawerElement();\n      this.refs.$br.append($drawerEl);\n\n      // Render info into mobile info before mmenu\n      this.buildInfoDiv(this.$('.BRmobileInfo'));\n      this.buildShareDiv(this.$('.BRmobileShare'));\n\n      $mmenuEl = $drawerEl;\n      $mmenuEl.mmenu({\n        navbars: [\n          { \"position\": \"top\" },\n        ],\n        navbar: {\n          add: true,\n          title: this.mobileNavTitle,\n          titleLink: 'panel'\n        },\n        extensions: [ \"panelshadow\" ],\n      }, {\n        offCanvas: {\n          wrapPageIfNeeded: false,\n          zposition: 'next',\n          pageSelector: this.el,\n        }\n      });\n\n      const $BRpageviewField = $mmenuEl.find('.BRpageviewValue');\n      $mmenuEl.data('mmenu').bind('opened', () => {\n        // Update \"Link to this page view\" link\n        if ($BRpageviewField.length) {\n          $BRpageviewField.val(window.location.href);\n        }\n      });\n\n      //apply filters when checkboxs clicked\n      $drawerEl.find('.BRcheckbox-filters').click(() => applyFilters($drawerEl, this));\n\n      // Bind mobile switch buttons\n      $drawerEl.find('.DrawerLayoutButton.one_page_mode').click(\n        () => this.switchMode(this.constMode1up));\n      $drawerEl.find('.DrawerLayoutButton.two_page_mode').click(\n        () => this.switchMode(this.constMode2up));\n      $drawerEl.find('.DrawerLayoutButton.thumbnail_mode').click(\n        () => this.switchMode(this.constModeThumb));\n\n      if (this.mobileNavFullscreenOnly) {\n        $(document.body).addClass('BRbodyMobileNavEnabledFullscreen');\n      } else {\n        $(document.body).addClass('BRbodyMobileNavEnabled');\n      }\n\n      this.refs.$mmenu = $mmenuEl;\n\n    }\n\n    // Call the parent method at the end, because it binds events to DOM\n    super_.apply(this, arguments);\n\n\n    if (this.enableMobileNav) {\n      // Need to bind more, console after toolbar is initialized\n      this.$('.BRmobileHamburger').click(() => {\n        if ($mmenuEl.data('mmenu').getInstance().vars.opened) {\n          $mmenuEl.data('mmenu').close();\n        } else {\n          $mmenuEl.data('mmenu').open();\n          this.trigger(\"mobileNavOpen\");\n        }\n      });\n\n\n      const closeMobileMenu = (e) => {\n        // Need to close the mobile menu to reset DOM & Style\n        // driven by menu plugin\n        const width = $( window ).width();\n        const mobileMenuIsOpen = $mmenuEl.data('mmenu').getInstance().vars.opened;\n        // $brBreakPointMobile: 800px;\n        if (mobileMenuIsOpen && (width >= 800)) {\n          $mmenuEl.data('mmenu').close ();\n        }\n      };\n\n      window.addEventListener('resize', utils.debounce(closeMobileMenu, 900));\n    }\n  };\n})(BookReader.prototype.initToolbar);\n\n\nBookReader.prototype.buildToolbarElement = (function (super_) {\n  return function () {\n    const $el = super_.call(this);\n    if (this.enableMobileNav) {\n      const escapedTitle = BookReader.util.escapeHTML(this.bookTitle);\n      const toolbar = `\n        <span class=\"BRmobileHamburgerWrapper\">\n          <button class=\"BRmobileHamburger\"></button>\n          <span class=\"BRtoolbarMobileTitle\" title=\"${escapedTitle}\">${escapedTitle}</span>\n        </span>\n      `;\n      $el\n        .addClass('responsive')\n        .prepend($(toolbar));\n    }\n    return $el;\n  };\n})(BookReader.prototype.buildToolbarElement);\n\n/**\n * This method builds the html for the mobile drawer. It can be decorated to\n * extend the default drawer.\n * @return {jqueryElement}\n */\nBookReader.prototype.buildMobileDrawerElement = function() {\n  let experimentalHtml = '';\n  //builds filters checkbox html\n  if (this.enableExperimentalControls) {\n    experimentalHtml = `\n        <p class=\"DrawerSettingsTitle\">Visual Adjustment</p>\n        <div class=\"BRcheckbox-group-filters\">\n        `;\n    FILTERLIST.forEach( (el, i) => {\n      const checkboxHtml = `\n          <input type=\"checkbox\" class=\"BRcheckbox-filters\" id=\"filter${i}\">\n          <label for=\"filter${i}\" class=\"BRcheckbox-label-filters\">${el.label}</label><br>\n        \n      `;\n      experimentalHtml = experimentalHtml.concat(checkboxHtml);\n    })\n    experimentalHtml = experimentalHtml.concat(\"</div>\");\n  }\n\n\n  const settingsSection = `\n    <span>\n        <span class=\"DrawerIconWrapper\">\n          <img class=\"DrawerIcon\" src=\"${`${this.imagesBaseURL}icon_gear.svg`}\" alt=\"settings-icon\"/>\n        </span>\n        Settings\n    </span>\n    <div class=DrawerSettingsWrapper>\n        <div class=\"DrawerSettingsLayoutWrapper\">\n          <button class=\"DrawerLayoutButton one_page_mode\">\n            <img src=\"${this.imagesBaseURL}icon_one_page.svg\" alt=\"Single Page\"/>\n            <br>\n            One Page\n          </button>\n          <button class=\"DrawerLayoutButton two_page_mode TwoPagesButton\">\n            <img src=\"${this.imagesBaseURL}icon_two_pages.svg\" alt=\"Two Pages\"/>\n            <br>\n            Two Pages\n          </button>\n          <button class=\"DrawerLayoutButton thumbnail_mode\">\n            <img src=\"${this.imagesBaseURL}icon_thumbnails.svg\" alt=\"Thumbnails\"/>\n            <br>\n            Thumbnails\n          </button>\n        </div>\n        <br>\n        <div class=\"DrawerSettingsTitle\">Zoom</div>\n        <button class='BRicon zoom_out'></button>\n        <button class='BRicon zoom_in'></button>\n        <br style=\"clear:both\"><br><br>\n        ${experimentalHtml}\n    </div>\n  `;\n  const moreInfo = `\n    <span>\n        <span class=\"DrawerIconWrapper \">\n            <img class=\"DrawerIcon\" src=\"${this.imagesBaseURL}icon_info.svg\" alt=\"info-icon\"/>\n        </span>\n        About This Book\n    </span>\n    <div class=\"BRmobileInfo\"></div>\n  `;\n  const share = `\n    <span>\n      <span class=\"DrawerIconWrapper\">\n        <img class=\"DrawerIcon\" src=\"${this.imagesBaseURL}icon_share.svg\" alt=\"info-share\"/>\n      </span>\n      Share This Book\n    </span>\n    <div class=\"BRmobileShare\"></div>\n  `;\n  const navMenu = `\n    <nav id=\"BRmobileMenu\" class=\"BRmobileMenu\">\n      <ul>\n        <li class=\"BRmobileMenu__settings\">${settingsSection}</li>\n        <li class=\"BRmobileMenu__moreInfoRow\">${moreInfo}</li>\n        <li class=\"BRmobileMenu__share\">${share}</li>\n      </ul>\n    </nav>\n  `;\n\n  const $el = $(navMenu);\n  return $el;\n};\n\n/**\n * Mmenu moves itself out side of the root BookReader element, so we need to\n * include it in the scoped $ function.\n */\nBookReader.prototype.$ = (function (super_) {\n  return function (arg) {\n    let $results = super_.call(this, arg);\n    if (this.refs.$mmenu) {\n      $results = $results.add(this.refs.$mmenu.find(arg));\n    }\n    return $results;\n  };\n})(BookReader.prototype.$);\n\n/**\n* Dynamically creates styles combining different filters for BookReaders imgs\n* based on filters checkbox\n*/\nconst applyFilters = (drawerEl, br) => {\n  let filterStr = \"\";\n\n  $('.BRcheckbox-filters').each(\n    (i, el) => {\n      br.refs.$br.removeClass(\"filter-applied\");\n      if ($(el).is(':checked')) {\n        br.refs.$br.addClass($(el).attr(\"filter-applied\"));\n        filterStr = filterStr + FILTERLIST[i].filter;\n      }\n    }\n  );\n  const filtersSheet = $(\"#filtersStyle\")[0] || document.createElement('style');\n  filtersSheet.id = \"filtersStyle\";\n  filtersSheet.innerHTML = `.BRpagecontainer  img {\n            filter: ${filterStr};\n            -webkit-filter: ${filterStr};}`;\n  document.body.appendChild(filtersSheet);\n}\n","/*\t\n * jQuery mmenu navbar addon\n * mmenu.frebsite.nl\n *\n * Copyright (c) Fred Heusschen\n */\n!function(n){var a=\"mmenu\",t=\"navbars\";n[a].addons[t]={setup:function(){var r=this,s=this.opts[t],c=this.conf[t];if(i=n[a].glbl,\"undefined\"!=typeof s){s instanceof Array||(s=[s]);var o={};n.each(s,function(i){var d=s[i];\"boolean\"==typeof d&&d&&(d={}),\"object\"!=typeof d&&(d={}),\"undefined\"==typeof d.content&&(d.content=[\"prev\",\"title\"]),d.content instanceof Array||(d.content=[d.content]),d=n.extend(!0,{},r.opts.navbar,d);var l=d.position,h=d.height;\"number\"!=typeof h&&(h=1),h=Math.min(4,Math.max(1,h)),\"bottom\"!=l&&(l=\"top\"),o[l]||(o[l]=0),o[l]++;var f=n(\"<div />\").addClass(e.navbar+\" \"+e.navbar+\"-\"+l+\" \"+e.navbar+\"-\"+l+\"-\"+o[l]+\" \"+e.navbar+\"-size-\"+h);o[l]+=h-1;for(var u=0,v=0,p=d.content.length;p>v;v++){var b=n[a].addons[t][d.content[v]]||!1;b?u+=b.call(r,f,d,c):(b=d.content[v],b instanceof n||(b=n(d.content[v])),f.append(b))}u+=Math.ceil(f.children().not(\".\"+e.btn).length/h),u>1&&f.addClass(e.navbar+\"-content-\"+u),f.children(\".\"+e.btn).length&&f.addClass(e.hasbtns),f.prependTo(r.$menu)});for(var d in o)r.$menu.addClass(e.hasnavbar+\"-\"+d+\"-\"+o[d])}},add:function(){e=n[a]._c,r=n[a]._d,s=n[a]._e,e.add(\"close hasbtns\")},clickAnchor:function(n,a){}},n[a].configuration[t]={breadcrumbSeparator:\"/\"},n[a].configuration.classNames[t]={};var e,r,s,i}(jQuery),/*\t\n * jQuery mmenu navbar addon breadcrumbs content\n * mmenu.frebsite.nl\n *\n * Copyright (c) Fred Heusschen\n */\nfunction(n){var a=\"mmenu\",t=\"navbars\",e=\"breadcrumbs\";n[a].addons[t][e]=function(t,e,r){var s=n[a]._c,i=n[a]._d;s.add(\"breadcrumbs separator\");var c=n('<span class=\"'+s.breadcrumbs+'\" />').appendTo(t);this.bind(\"init\",function(a){a.removeClass(s.hasnavbar).each(function(){for(var a=[],t=n(this),e=n('<span class=\"'+s.breadcrumbs+'\"></span>'),c=n(this).children().first(),o=!0;c&&c.length;){c.is(\".\"+s.panel)||(c=c.closest(\".\"+s.panel));var d=c.children(\".\"+s.navbar).children(\".\"+s.title).text();a.unshift(o?\"<span>\"+d+\"</span>\":'<a href=\"#'+c.attr(\"id\")+'\">'+d+\"</a>\"),o=!1,c=c.data(i.parent)}e.append(a.join('<span class=\"'+s.separator+'\">'+r.breadcrumbSeparator+\"</span>\")).appendTo(t.children(\".\"+s.navbar))})});var o=function(){c.html(this.$pnls.children(\".\"+s.current).children(\".\"+s.navbar).children(\".\"+s.breadcrumbs).html())};return this.bind(\"openPanel\",o),this.bind(\"init\",o),0}}(jQuery),/*\t\n * jQuery mmenu navbar addon close content\n * mmenu.frebsite.nl\n *\n * Copyright (c) Fred Heusschen\n */\nfunction(n){var a=\"mmenu\",t=\"navbars\",e=\"close\";n[a].addons[t][e]=function(t,e){var r=n[a]._c,s=n[a].glbl,i=n('<a class=\"'+r.close+\" \"+r.btn+'\" href=\"#\" />').appendTo(t),c=function(n){i.attr(\"href\",\"#\"+n.attr(\"id\"))};return c.call(this,s.$page),this.bind(\"setPage\",c),-1}}(jQuery),/*\t\n * jQuery mmenu navbar addon next content\n * mmenu.frebsite.nl\n *\n * Copyright (c) Fred Heusschen\n */\nfunction(n){var a=\"mmenu\",t=\"navbars\",e=\"next\";n[a].addons[t][e]=function(e,r){var s,i,c=n[a]._c,o=n('<a class=\"'+c.next+\" \"+c.btn+'\" href=\"#\" />').appendTo(e),d=function(n){n=n||this.$pnls.children(\".\"+c.current);var a=n.find(\".\"+this.conf.classNames[t].panelNext);s=a.attr(\"href\"),i=a.html(),o[s?\"attr\":\"removeAttr\"](\"href\",s),o[s||i?\"removeClass\":\"addClass\"](c.hidden),o.html(i)};return this.bind(\"openPanel\",d),this.bind(\"init\",function(){d.call(this)}),-1},n[a].configuration.classNames[t].panelNext=\"Next\"}(jQuery),/*\t\n * jQuery mmenu navbar addon prev content\n * mmenu.frebsite.nl\n *\n * Copyright (c) Fred Heusschen\n */\nfunction(n){var a=\"mmenu\",t=\"navbars\",e=\"prev\";n[a].addons[t][e]=function(e,r){var s=n[a]._c,i=n('<a class=\"'+s.prev+\" \"+s.btn+'\" href=\"#\" />').appendTo(e);this.bind(\"init\",function(n){n.removeClass(s.hasnavbar).children(\".\"+s.navbar).addClass(s.hidden)});var c,o,d=function(n){if(n=n||this.$pnls.children(\".\"+s.current),!n.hasClass(s.vertical)){var a=n.find(\".\"+this.conf.classNames[t].panelPrev);a.length||(a=n.children(\".\"+s.navbar).children(\".\"+s.prev)),c=a.attr(\"href\"),o=a.html(),i[c?\"attr\":\"removeAttr\"](\"href\",c),i[c||o?\"removeClass\":\"addClass\"](s.hidden),i.html(o)}};return this.bind(\"openPanel\",d),this.bind(\"init\",function(){d.call(this)}),-1},n[a].configuration.classNames[t].panelPrev=\"Prev\"}(jQuery),/*\t\n * jQuery mmenu navbar addon searchfield content\n * mmenu.frebsite.nl\n *\n * Copyright (c) Fred Heusschen\n */\nfunction(n){var a=\"mmenu\",t=\"navbars\",e=\"searchfield\";n[a].addons[t][e]=function(t,e){var r=n[a]._c,s=n('<div class=\"'+r.search+'\" />').appendTo(t);return\"object\"!=typeof this.opts.searchfield&&(this.opts.searchfield={}),this.opts.searchfield.add=!0,this.opts.searchfield.addTo=s,0}}(jQuery),/*\t\n * jQuery mmenu navbar addon title content\n * mmenu.frebsite.nl\n *\n * Copyright (c) Fred Heusschen\n */\nfunction(n){var a=\"mmenu\",t=\"navbars\",e=\"title\";n[a].addons[t][e]=function(e,r){var s,i,c=n[a]._c,o=n('<a class=\"'+c.title+'\" />').appendTo(e),d=function(n){if(n=n||this.$pnls.children(\".\"+c.current),!n.hasClass(c.vertical)){var a=n.find(\".\"+this.conf.classNames[t].panelTitle);a.length||(a=n.children(\".\"+c.navbar).children(\".\"+c.title)),s=a.attr(\"href\"),i=a.html()||r.title,o[s?\"attr\":\"removeAttr\"](\"href\",s),o[s||i?\"removeClass\":\"addClass\"](c.hidden),o.html(i)}};return this.bind(\"openPanel\",d),this.bind(\"init\",function(n){d.call(this)}),0},n[a].configuration.classNames[t].panelTitle=\"Title\"}(jQuery);","/*\n * jQuery mmenu v5.6.5\n * @requires jQuery 1.7.0 or later\n *\n * mmenu.frebsite.nl\n *\t\n * Copyright (c) Fred Heusschen\n * www.frebsite.nl\n *\n * License: CC-BY-NC-4.0\n * http://creativecommons.org/licenses/by-nc/4.0/\n */\n!function(e){function t(){e[n].glbl||(r={$wndw:e(window),$docu:e(document),$html:e(\"html\"),$body:e(\"body\")},i={},a={},o={},e.each([i,a,o],function(e,t){t.add=function(e){e=e.split(\" \");for(var n=0,s=e.length;s>n;n++)t[e[n]]=t.mm(e[n])}}),i.mm=function(e){return\"mm-\"+e},i.add(\"wrapper menu panels panel nopanel current highest opened subopened navbar hasnavbar title btn prev next listview nolistview inset vertical selected divider spacer hidden fullsubopen\"),i.umm=function(e){return\"mm-\"==e.slice(0,3)&&(e=e.slice(3)),e},a.mm=function(e){return\"mm-\"+e},a.add(\"parent sub\"),o.mm=function(e){return e+\".mm\"},o.add(\"transitionend webkitTransitionEnd click scroll keydown mousedown mouseup touchstart touchmove touchend orientationchange\"),e[n]._c=i,e[n]._d=a,e[n]._e=o,e[n].glbl=r)}var n=\"mmenu\",s=\"5.6.4\";if(!(e[n]&&e[n].version>s)){e[n]=function(e,t,n){this.$menu=e,this._api=[\"bind\",\"init\",\"update\",\"setSelected\",\"getInstance\",\"openPanel\",\"closePanel\",\"closeAllPanels\"],this.opts=t,this.conf=n,this.vars={},this.cbck={},\"function\"==typeof this.___deprecated&&this.___deprecated(),this._initMenu(),this._initAnchors();var s=this.$pnls.children();return this._initAddons(),this.init(s),\"function\"==typeof this.___debug&&this.___debug(),this},e[n].version=s,e[n].addons={},e[n].uniqueId=0,e[n].defaults={extensions:[],navbar:{add:!0,title:\"Menu\",titleLink:\"panel\"},onClick:{setSelected:!0},slidingSubmenus:!0},e[n].configuration={classNames:{divider:\"Divider\",inset:\"Inset\",panel:\"Panel\",selected:\"Selected\",spacer:\"Spacer\",vertical:\"Vertical\"},clone:!1,openingInterval:25,panelNodetype:\"ul, ol, div\",transitionDuration:400},e[n].prototype={init:function(e){e=e.not(\".\"+i.nopanel),e=this._initPanels(e),this.trigger(\"init\",e),this.trigger(\"update\")},update:function(){this.trigger(\"update\")},setSelected:function(e){this.$menu.find(\".\"+i.listview).children().removeClass(i.selected),e.addClass(i.selected),this.trigger(\"setSelected\",e)},openPanel:function(t){var s=t.parent(),a=this;if(s.hasClass(i.vertical)){var o=s.parents(\".\"+i.subopened);if(o.length)return void this.openPanel(o.first());s.addClass(i.opened),this.trigger(\"openPanel\",t),this.trigger(\"openingPanel\",t),this.trigger(\"openedPanel\",t)}else{if(t.hasClass(i.current))return;var r=this.$pnls.children(\".\"+i.panel),l=r.filter(\".\"+i.current);r.removeClass(i.highest).removeClass(i.current).not(t).not(l).not(\".\"+i.vertical).addClass(i.hidden),e[n].support.csstransitions||l.addClass(i.hidden),t.hasClass(i.opened)?t.nextAll(\".\"+i.opened).addClass(i.highest).removeClass(i.opened).removeClass(i.subopened):(t.addClass(i.highest),l.addClass(i.subopened)),t.removeClass(i.hidden).addClass(i.current),a.trigger(\"openPanel\",t),setTimeout(function(){t.removeClass(i.subopened).addClass(i.opened),a.trigger(\"openingPanel\",t),a.__transitionend(t,function(){a.trigger(\"openedPanel\",t)},a.conf.transitionDuration)},this.conf.openingInterval)}},closePanel:function(e){var t=e.parent();t.hasClass(i.vertical)&&(t.removeClass(i.opened),this.trigger(\"closePanel\",e),this.trigger(\"closingPanel\",e),this.trigger(\"closedPanel\",e))},closeAllPanels:function(){this.$menu.find(\".\"+i.listview).children().removeClass(i.selected).filter(\".\"+i.vertical).removeClass(i.opened);var e=this.$pnls.children(\".\"+i.panel),t=e.first();this.$pnls.children(\".\"+i.panel).not(t).removeClass(i.subopened).removeClass(i.opened).removeClass(i.current).removeClass(i.highest).addClass(i.hidden),this.openPanel(t)},togglePanel:function(e){var t=e.parent();t.hasClass(i.vertical)&&this[t.hasClass(i.opened)?\"closePanel\":\"openPanel\"](e)},getInstance:function(){return this},bind:function(e,t){this.cbck[e]=this.cbck[e]||[],this.cbck[e].push(t)},trigger:function(){var e=this,t=Array.prototype.slice.call(arguments),n=t.shift();if(this.cbck[n])for(var s=0,i=this.cbck[n].length;i>s;s++)this.cbck[n][s].apply(e,t)},_initMenu:function(){this.$menu.attr(\"id\",this.$menu.attr(\"id\")||this.__getUniqueId()),this.conf.clone&&(this.$menu=this.$menu.clone(!0),this.$menu.add(this.$menu.find(\"[id]\")).filter(\"[id]\").each(function(){e(this).attr(\"id\",i.mm(e(this).attr(\"id\")))})),this.$menu.contents().each(function(){3==e(this)[0].nodeType&&e(this).remove()}),this.$pnls=e('<div class=\"'+i.panels+'\" />').append(this.$menu.children(this.conf.panelNodetype)).prependTo(this.$menu),this.$menu.parent().addClass(i.wrapper);var t=[i.menu];this.opts.slidingSubmenus||t.push(i.vertical),this.opts.extensions=this.opts.extensions.length?\"mm-\"+this.opts.extensions.join(\" mm-\"):\"\",this.opts.extensions&&t.push(this.opts.extensions),this.$menu.addClass(t.join(\" \"))},_initPanels:function(t){var n=this,s=this.__findAddBack(t,\"ul, ol\");this.__refactorClass(s,this.conf.classNames.inset,\"inset\").addClass(i.nolistview+\" \"+i.nopanel),s.not(\".\"+i.nolistview).addClass(i.listview);var o=this.__findAddBack(t,\".\"+i.listview).children();this.__refactorClass(o,this.conf.classNames.selected,\"selected\"),this.__refactorClass(o,this.conf.classNames.divider,\"divider\"),this.__refactorClass(o,this.conf.classNames.spacer,\"spacer\"),this.__refactorClass(this.__findAddBack(t,\".\"+this.conf.classNames.panel),this.conf.classNames.panel,\"panel\");var r=e(),l=t.add(t.find(\".\"+i.panel)).add(this.__findAddBack(t,\".\"+i.listview).children().children(this.conf.panelNodetype)).not(\".\"+i.nopanel);this.__refactorClass(l,this.conf.classNames.vertical,\"vertical\"),this.opts.slidingSubmenus||l.addClass(i.vertical),l.each(function(){var t=e(this),s=t;t.is(\"ul, ol\")?(t.wrap('<div class=\"'+i.panel+'\" />'),s=t.parent()):s.addClass(i.panel);var a=t.attr(\"id\");t.removeAttr(\"id\"),s.attr(\"id\",a||n.__getUniqueId()),t.hasClass(i.vertical)&&(t.removeClass(n.conf.classNames.vertical),s.add(s.parent()).addClass(i.vertical)),r=r.add(s)});var d=e(\".\"+i.panel,this.$menu);r.each(function(t){var s,o,r=e(this),l=r.parent(),d=l.children(\"a, span\").first();if(l.is(\".\"+i.panels)||(l.data(a.sub,r),r.data(a.parent,l)),l.children(\".\"+i.next).length||l.parent().is(\".\"+i.listview)&&(s=r.attr(\"id\"),o=e('<a class=\"'+i.next+'\" href=\"#'+s+'\" data-target=\"#'+s+'\" />').insertBefore(d),d.is(\"span\")&&o.addClass(i.fullsubopen)),!r.children(\".\"+i.navbar).length&&!l.hasClass(i.vertical)){l.parent().is(\".\"+i.listview)?l=l.closest(\".\"+i.panel):(d=l.closest(\".\"+i.panel).find('a[href=\"#'+r.attr(\"id\")+'\"]').first(),l=d.closest(\".\"+i.panel));var c=!1,p=e('<div class=\"'+i.navbar+'\" />');if(n.opts.navbar.add&&r.addClass(i.hasnavbar),l.length){switch(s=l.attr(\"id\"),n.opts.navbar.titleLink){case\"anchor\":c=d.attr(\"href\");break;case\"panel\":case\"parent\":c=\"#\"+s;break;default:c=!1}p.append('<a class=\"'+i.btn+\" \"+i.prev+'\" href=\"#'+s+'\" data-target=\"#'+s+'\" />').append(e('<a class=\"'+i.title+'\"'+(c?' href=\"'+c+'\"':\"\")+\" />\").text(d.text())).prependTo(r)}else n.opts.navbar.title&&p.append('<a class=\"'+i.title+'\">'+n.opts.navbar.title+\"</a>\").prependTo(r)}});var c=this.__findAddBack(t,\".\"+i.listview).children(\".\"+i.selected).removeClass(i.selected).last().addClass(i.selected);c.add(c.parentsUntil(\".\"+i.menu,\"li\")).filter(\".\"+i.vertical).addClass(i.opened).end().each(function(){e(this).parentsUntil(\".\"+i.menu,\".\"+i.panel).not(\".\"+i.vertical).first().addClass(i.opened).parentsUntil(\".\"+i.menu,\".\"+i.panel).not(\".\"+i.vertical).first().addClass(i.opened).addClass(i.subopened)}),c.children(\".\"+i.panel).not(\".\"+i.vertical).addClass(i.opened).parentsUntil(\".\"+i.menu,\".\"+i.panel).not(\".\"+i.vertical).first().addClass(i.opened).addClass(i.subopened);var p=d.filter(\".\"+i.opened);return p.length||(p=r.first()),p.addClass(i.opened).last().addClass(i.current),r.not(\".\"+i.vertical).not(p.last()).addClass(i.hidden).end().filter(function(){return!e(this).parent().hasClass(i.panels)}).appendTo(this.$pnls),r},_initAnchors:function(){var t=this;r.$body.on(o.click+\"-oncanvas\",\"a[href]\",function(s){var a=e(this),o=!1,r=t.$menu.find(a).length;for(var l in e[n].addons)if(e[n].addons[l].clickAnchor.call(t,a,r)){o=!0;break}var d=a.attr(\"href\");if(!o&&r&&d.length>1&&\"#\"==d.slice(0,1))try{var c=e(d,t.$menu);c.is(\".\"+i.panel)&&(o=!0,t[a.parent().hasClass(i.vertical)?\"togglePanel\":\"openPanel\"](c))}catch(p){}if(o&&s.preventDefault(),!o&&r&&a.is(\".\"+i.listview+\" > li > a\")&&!a.is('[rel=\"external\"]')&&!a.is('[target=\"_blank\"]')){t.__valueOrFn(t.opts.onClick.setSelected,a)&&t.setSelected(e(s.target).parent());var h=t.__valueOrFn(t.opts.onClick.preventDefault,a,\"#\"==d.slice(0,1));h&&s.preventDefault(),t.__valueOrFn(t.opts.onClick.close,a,h)&&t.close()}})},_initAddons:function(){var t;for(t in e[n].addons)e[n].addons[t].add.call(this),e[n].addons[t].add=function(){};for(t in e[n].addons)e[n].addons[t].setup.call(this)},_getOriginalMenuId:function(){var e=this.$menu.attr(\"id\");return e&&e.length&&this.conf.clone&&(e=i.umm(e)),e},__api:function(){var t=this,n={};return e.each(this._api,function(e){var s=this;n[s]=function(){var e=t[s].apply(t,arguments);return\"undefined\"==typeof e?n:e}}),n},__valueOrFn:function(e,t,n){return\"function\"==typeof e?e.call(t[0]):\"undefined\"==typeof e&&\"undefined\"!=typeof n?n:e},__refactorClass:function(e,t,n){return e.filter(\".\"+t).removeClass(t).addClass(i[n])},__findAddBack:function(e,t){return e.find(t).add(e.filter(t))},__filterListItems:function(e){return e.not(\".\"+i.divider).not(\".\"+i.hidden)},__transitionend:function(e,t,n){var s=!1,i=function(){s||t.call(e[0]),s=!0};e.one(o.transitionend,i),e.one(o.webkitTransitionEnd,i),setTimeout(i,1.1*n)},__getUniqueId:function(){return i.mm(e[n].uniqueId++)}},e.fn[n]=function(s,i){return t(),s=e.extend(!0,{},e[n].defaults,s),i=e.extend(!0,{},e[n].configuration,i),this.each(function(){var t=e(this);if(!t.data(n)){var a=new e[n](t,s,i);a.$menu.data(n,a.__api())}})},e[n].support={touch:\"ontouchstart\"in window||navigator.msMaxTouchPoints||!1,csstransitions:function(){if(\"undefined\"!=typeof Modernizr&&\"undefined\"!=typeof Modernizr.csstransitions)return Modernizr.csstransitions;var e=document.body||document.documentElement,t=e.style,n=\"transition\";if(\"string\"==typeof t[n])return!0;var s=[\"Moz\",\"webkit\",\"Webkit\",\"Khtml\",\"O\",\"ms\"];n=n.charAt(0).toUpperCase()+n.substr(1);for(var i=0;i<s.length;i++)if(\"string\"==typeof t[s[i]+n])return!0;return!1}()};var i,a,o,r}}(jQuery),/*\t\n * jQuery mmenu offCanvas addon\n * mmenu.frebsite.nl\n *\n * Copyright (c) Fred Heusschen\n */\nfunction(e){var t=\"mmenu\",n=\"offCanvas\";e[t].addons[n]={setup:function(){if(this.opts[n]){var i=this.opts[n],a=this.conf[n];o=e[t].glbl,this._api=e.merge(this._api,[\"open\",\"close\",\"setPage\"]),(\"top\"==i.position||\"bottom\"==i.position)&&(i.zposition=\"front\"),\"string\"!=typeof a.pageSelector&&(a.pageSelector=\"> \"+a.pageNodetype),o.$allMenus=(o.$allMenus||e()).add(this.$menu),this.vars.opened=!1;var r=[s.offcanvas];\"left\"!=i.position&&r.push(s.mm(i.position)),\"back\"!=i.zposition&&r.push(s.mm(i.zposition)),this.$menu.addClass(r.join(\" \")).parent().removeClass(s.wrapper),this.setPage(o.$page),this._initBlocker(),this[\"_initWindow_\"+n](),this.$menu[a.menuInjectMethod+\"To\"](a.menuWrapperSelector);var l=window.location.hash;if(l){var d=this._getOriginalMenuId();d&&d==l.slice(1)&&this.open()}}},add:function(){s=e[t]._c,i=e[t]._d,a=e[t]._e,s.add(\"offcanvas slideout blocking modal background opening blocker page\"),i.add(\"style\"),a.add(\"resize\")},clickAnchor:function(e,t){if(!this.opts[n])return!1;var s=this._getOriginalMenuId();if(s&&e.is('[href=\"#'+s+'\"]'))return this.open(),!0;if(o.$page)return s=o.$page.first().attr(\"id\"),s&&e.is('[href=\"#'+s+'\"]')?(this.close(),!0):!1}},e[t].defaults[n]={position:\"left\",zposition:\"back\",blockUI:!0,moveBackground:!0},e[t].configuration[n]={pageNodetype:\"div\",pageSelector:null,noPageSelector:[],wrapPageIfNeeded:!0,menuWrapperSelector:\"body\",menuInjectMethod:\"prepend\"},e[t].prototype.open=function(){if(!this.vars.opened){var e=this;this._openSetup(),setTimeout(function(){e._openFinish()},this.conf.openingInterval),this.trigger(\"open\")}},e[t].prototype._openSetup=function(){var t=this,r=this.opts[n];this.closeAllOthers(),o.$page.each(function(){e(this).data(i.style,e(this).attr(\"style\")||\"\")}),o.$wndw.trigger(a.resize+\"-\"+n,[!0]);var l=[s.opened];r.blockUI&&l.push(s.blocking),\"modal\"==r.blockUI&&l.push(s.modal),r.moveBackground&&l.push(s.background),\"left\"!=r.position&&l.push(s.mm(this.opts[n].position)),\"back\"!=r.zposition&&l.push(s.mm(this.opts[n].zposition)),this.opts.extensions&&l.push(this.opts.extensions),o.$html.addClass(l.join(\" \")),setTimeout(function(){t.vars.opened=!0},this.conf.openingInterval),this.$menu.addClass(s.current+\" \"+s.opened)},e[t].prototype._openFinish=function(){var e=this;this.__transitionend(o.$page.first(),function(){e.trigger(\"opened\")},this.conf.transitionDuration),o.$html.addClass(s.opening),this.trigger(\"opening\")},e[t].prototype.close=function(){if(this.vars.opened){var t=this;this.__transitionend(o.$page.first(),function(){t.$menu.removeClass(s.current).removeClass(s.opened),o.$html.removeClass(s.opened).removeClass(s.blocking).removeClass(s.modal).removeClass(s.background).removeClass(s.mm(t.opts[n].position)).removeClass(s.mm(t.opts[n].zposition)),t.opts.extensions&&o.$html.removeClass(t.opts.extensions),o.$page.each(function(){e(this).attr(\"style\",e(this).data(i.style))}),t.vars.opened=!1,t.trigger(\"closed\")},this.conf.transitionDuration),o.$html.removeClass(s.opening),this.trigger(\"close\"),this.trigger(\"closing\")}},e[t].prototype.closeAllOthers=function(){o.$allMenus.not(this.$menu).each(function(){var n=e(this).data(t);n&&n.close&&n.close()})},e[t].prototype.setPage=function(t){var i=this,a=this.conf[n];t&&t.length||(t=o.$body.find(a.pageSelector),a.noPageSelector.length&&(t=t.not(a.noPageSelector.join(\", \"))),t.length>1&&a.wrapPageIfNeeded&&(t=t.wrapAll(\"<\"+this.conf[n].pageNodetype+\" />\").parent())),t.each(function(){e(this).attr(\"id\",e(this).attr(\"id\")||i.__getUniqueId())}),t.addClass(s.page+\" \"+s.slideout),o.$page=t,this.trigger(\"setPage\",t)},e[t].prototype[\"_initWindow_\"+n]=function(){o.$wndw.off(a.keydown+\"-\"+n).on(a.keydown+\"-\"+n,function(e){return o.$html.hasClass(s.opened)&&9==e.keyCode?(e.preventDefault(),!1):void 0});var e=0;o.$wndw.off(a.resize+\"-\"+n).on(a.resize+\"-\"+n,function(t,n){if(1==o.$page.length&&(n||o.$html.hasClass(s.opened))){var i=o.$wndw.height();(n||i!=e)&&(e=i,o.$page.css(\"minHeight\",i))}})},e[t].prototype._initBlocker=function(){var t=this;this.opts[n].blockUI&&(o.$blck||(o.$blck=e('<div id=\"'+s.blocker+'\" class=\"'+s.slideout+'\" />')),o.$blck.appendTo(o.$body).off(a.touchstart+\"-\"+n+\" \"+a.touchmove+\"-\"+n).on(a.touchstart+\"-\"+n+\" \"+a.touchmove+\"-\"+n,function(e){e.preventDefault(),e.stopPropagation(),o.$blck.trigger(a.mousedown+\"-\"+n)}).off(a.mousedown+\"-\"+n).on(a.mousedown+\"-\"+n,function(e){e.preventDefault(),o.$html.hasClass(s.modal)||(t.closeAllOthers(),t.close())}))};var s,i,a,o}(jQuery),/*\t\n * jQuery mmenu scrollBugFix addon\n * mmenu.frebsite.nl\n *\n * Copyright (c) Fred Heusschen\n */\nfunction(e){var t=\"mmenu\",n=\"scrollBugFix\";e[t].addons[n]={setup:function(){var i=this,r=this.opts[n];this.conf[n];if(o=e[t].glbl,e[t].support.touch&&this.opts.offCanvas&&this.opts.offCanvas.blockUI&&(\"boolean\"==typeof r&&(r={fix:r}),\"object\"!=typeof r&&(r={}),r=this.opts[n]=e.extend(!0,{},e[t].defaults[n],r),r.fix)){var l=this.$menu.attr(\"id\"),d=!1;this.bind(\"opening\",function(){this.$pnls.children(\".\"+s.current).scrollTop(0)}),o.$docu.on(a.touchmove,function(e){i.vars.opened&&e.preventDefault()}),o.$body.on(a.touchstart,\"#\"+l+\"> .\"+s.panels+\"> .\"+s.current,function(e){i.vars.opened&&(d||(d=!0,0===e.currentTarget.scrollTop?e.currentTarget.scrollTop=1:e.currentTarget.scrollHeight===e.currentTarget.scrollTop+e.currentTarget.offsetHeight&&(e.currentTarget.scrollTop-=1),d=!1))}).on(a.touchmove,\"#\"+l+\"> .\"+s.panels+\"> .\"+s.current,function(t){i.vars.opened&&e(this)[0].scrollHeight>e(this).innerHeight()&&t.stopPropagation()}),o.$wndw.on(a.orientationchange,function(){i.$pnls.children(\".\"+s.current).scrollTop(0).css({\"-webkit-overflow-scrolling\":\"auto\"}).css({\"-webkit-overflow-scrolling\":\"touch\"})})}},add:function(){s=e[t]._c,i=e[t]._d,a=e[t]._e},clickAnchor:function(e,t){}},e[t].defaults[n]={fix:!0};var s,i,a,o}(jQuery);"],"sourceRoot":""}