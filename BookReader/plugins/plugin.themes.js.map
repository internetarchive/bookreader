{"version":3,"sources":["webpack://@internetarchive/bookreader/./src/js/plugins/plugin.themes.js"],"names":["super_","jQuery","extend","BookReader","defaultOptions","enableThemesPlugin","prototype","setup","options","call","this","themes","ol","default_theme","theme","updateTheme","$","length","stylesheet","attr","append","main_href","index","indexOf","theme_href","substr","disabled","href"],"mappings":"iJAUuCA,E,QAJvCC,OAAOC,OAAOC,WAAWC,eAAgB,CACvCC,oBAAoB,IAGtBF,WAAWG,UAAUC,OAAkBP,EAWpCG,WAAWG,UAAUC,MAVf,SAAUC,GACfR,EAAOS,KAAKC,KAAMF,GAElBE,KAAKL,mBAAqBG,EAAQH,mBAGlCK,KAAKC,OAAS,CAAEC,GAAI,MACpBF,KAAKG,cAAgB,KACrBH,KAAKI,MAAQ,OAOjBX,WAAWG,UAAUS,YAAc,SAASD,GAC1C,GAAMA,KAASJ,KAAKC,QAEK,GADNK,EAAE,UACNC,QACXH,GAASJ,KAAKI,MAGlB,GAFAJ,KAAKI,MAAQA,EAETA,GAASJ,KAAKG,cAAlB,CAKA,IAAIK,EAAaF,EAAE,eACM,GAArBE,EAAWD,SACbC,EAAaF,EAAE,2CAA2CG,KAAK,KAAM,cACrEH,EAAE,QAAQI,OAAOF,IAGnB,IAAMG,EAAYL,EAAE,UAAUG,KAAK,QAC7BG,EAAQD,EAAUE,QAAQ,kBAE1BC,EADaH,EAAUI,OAAO,EAAGH,GACPZ,KAAKC,OAAOG,GAE5CI,EAAWC,KAAK,CAACO,UAAU,EAAOC,KAAMH,SAftCR,EAAE,eAAeG,KAAK,YAAY,M","file":"plugins/plugin.themes.js","sourcesContent":["/* global BookReader */\r\n/**\r\n * Deprecated theming functionality\r\n * @deprecated\r\n */\r\n\r\njQuery.extend(BookReader.defaultOptions, {\r\n  enableThemesPlugin: true,\r\n});\r\n\r\nBookReader.prototype.setup = (function(super_) {\r\n  return function (options) {\r\n    super_.call(this, options);\r\n\r\n    this.enableThemesPlugin = options.enableThemesPlugin;\r\n\r\n    // Themes\r\n    this.themes = { ol: null };\r\n    this.default_theme = 'ol';\r\n    this.theme = 'ol';\r\n  };\r\n})(BookReader.prototype.setup);\r\n\r\n\r\n// updateTheme\r\n//______________________________________________________________________________\r\nBookReader.prototype.updateTheme = function(theme) {\r\n  if (!(theme in this.themes)) return;\r\n  const main_style = $('#BRCSS');\r\n  if (main_style.length == 0) return;\r\n  if (theme == this.theme) return;\r\n  this.theme = theme;\r\n\r\n  if (theme == this.default_theme) {\r\n    $('#BRCSSTheme').attr('disabled', true);\r\n    return;\r\n  }\r\n\r\n  let stylesheet = $('#BRCSSTheme');\r\n  if (stylesheet.length == 0) {\r\n    stylesheet = $('<link rel=\"stylesheet\" type=\"text/css\">').attr('id', 'BRCSSTheme');\r\n    $('head').append(stylesheet);\r\n  }\r\n\r\n  const main_href = $('#BRCSS').attr('href');\r\n  const index = main_href.indexOf('BookReader.css');\r\n  const css_prefix = main_href.substr(0, index);\r\n  const theme_href = css_prefix + this.themes[theme];\r\n\r\n  stylesheet.attr({disabled: false, href: theme_href});\r\n};\r\n"],"sourceRoot":""}