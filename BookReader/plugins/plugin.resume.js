"use strict";(self.webpackChunk_internetarchive_bookreader=self.webpackChunk_internetarchive_bookreader||[]).push([[951],{5842:function(e,o,n){var t={};function r(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document;try{return e.cookie,!1}catch(e){return!0}}n.r(t),n.d(t,{areCookiesBlocked:function(){return r},getItem:function(){return u},removeItem:function(){return c},setItem:function(){return i}}),n(1058),n(4916),n(4723),n(5306),n(4603),n(9714);var a=r();function u(e){return a||!e?null:decodeURIComponent(document.cookie.replace(new RegExp("(?:(?:^|.*;)\\s*"+encodeURIComponent(e).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=\\s*([^;]*).*$)|^.*$"),"$1"))||null}function i(e,o,n,t,r,u){return!a&&(document.cookie=encodeURIComponent(e)+"="+encodeURIComponent(o)+(n?"; expires=".concat(n.toUTCString()):"")+(r?"; domain=".concat(r):"")+(t?"; path=".concat(t):"")+(u?"; secure":""),!0)}function c(e,o,n){return!a&&!!hasItem(e)&&(document.cookie=encodeURIComponent(e)+"=; expires=Thu, 01 Jan 1970 00:00:00 GMT"+(n?"; domain=".concat(n):"")+(o?"; path=".concat(o):""),!0)}var s,d=n(3609);BookReader.docCookies=t,d.extend(BookReader.defaultOptions,{enablePageResume:!0,resumeCookiePath:null}),BookReader.prototype.init=(s=BookReader.prototype.init,function(){var e=this;s.call(this),this.options.enablePageResume&&this.bind(BookReader.eventNames.fragmentChange,(function(){var o=e.paramsFromCurrent();e.updateResumeValue(o.index)}))}),BookReader.prototype.getResumeValue=function(){var e=BookReader.docCookies.getItem("br-resume");return null!==e?parseInt(e):null},BookReader.prototype.getCookiePath=function(e){return e.match(".+?(?=/page/|/mode/|$)")[0]},BookReader.prototype.updateResumeValue=function(e,o){var n=new Date(+new Date+12096e5),t=this.options.resumeCookiePath||this.getCookiePath(window.location.pathname);BookReader.docCookies.setItem(o||"br-resume",e,n,t,null,!1)}},4723:function(e,o,n){var t=n(6916),r=n(7007),a=n(9670),u=n(7466),i=n(1340),c=n(4488),s=n(8173),d=n(1530),l=n(7651);r("match",(function(e,o,n){return[function(o){var n=c(this),r=null==o?void 0:s(o,e);return r?t(r,o,n):new RegExp(o)[e](i(n))},function(e){var t=a(this),r=i(e),c=n(o,t,r);if(c.done)return c.value;if(!t.global)return l(t,r);var s=t.unicode;t.lastIndex=0;for(var m,p=[],k=0;null!==(m=l(t,r));){var h=i(m[0]);p[k]=h,""===h&&(t.lastIndex=d(r,u(t.lastIndex),s)),k++}return 0===k?null:p}]}))}},function(e){e(e.s=5842)}]);
//# sourceMappingURL=plugin.resume.js.map