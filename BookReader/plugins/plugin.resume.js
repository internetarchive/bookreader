(self.webpackChunk_internetarchive_bookreader=self.webpackChunk_internetarchive_bookreader||[]).push([[951],{930:function(e,t,n){"use strict";var o={};function r(e){return e&&decodeURIComponent(document.cookie.replace(new RegExp("(?:(?:^|.*;)\\s*"+encodeURIComponent(e).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=\\s*([^;]*).*$)|^.*$"),"$1"))||null}function a(e,t,n,o,r,a){return document.cookie=encodeURIComponent(e)+"="+encodeURIComponent(t)+(n?"; expires=".concat(n.toUTCString()):"")+(r?"; domain=".concat(r):"")+(o?"; path=".concat(o):"")+(a?"; secure":""),!0}function i(e,t,n){return!!hasItem(e)&&(document.cookie=encodeURIComponent(e)+"=; expires=Thu, 01 Jan 1970 00:00:00 GMT"+(n?"; domain=".concat(n):"")+(t?"; path=".concat(t):""),!0)}n.r(o),n.d(o,{getItem:function(){return r},removeItem:function(){return i},setItem:function(){return a}}),n(4916),n(4723),n(4603),n(9714),n(5306);var u,c=n(3609);BookReader.docCookies=o,c.extend(BookReader.defaultOptions,{enablePageResume:!0,resumeCookiePath:null}),BookReader.prototype.init=(u=BookReader.prototype.init,function(){var e=this;u.call(this),this.options.enablePageResume&&this.bind(BookReader.eventNames.fragmentChange,(function(){var t=e.paramsFromCurrent();e.updateResumeValue(t.index)}))}),BookReader.prototype.getResumeValue=function(){var e=BookReader.docCookies.getItem("br-resume");return null!==e?parseInt(e):null},BookReader.prototype.getCookiePath=function(e){return e.match(".+?(?=/page/|/mode/|$)")[0]},BookReader.prototype.updateResumeValue=function(e,t){var n=new Date(+new Date+12096e5),o=this.options.resumeCookiePath||this.getCookiePath(window.location.pathname);BookReader.docCookies.setItem(t||"br-resume",e,n,o,null,!1)}},9587:function(e,t,n){var o=n(111),r=n(7674);e.exports=function(e,t,n){var a,i;return r&&"function"==typeof(a=t.constructor)&&a!==n&&o(i=a.prototype)&&i!==n.prototype&&r(e,i),e}},4603:function(e,t,n){var o=n(9781),r=n(7854),a=n(4705),i=n(9587),u=n(3070).f,c=n(8006).f,s=n(7850),p=n(7066),d=n(2999),f=n(1320),l=n(7293),m=n(9909).set,h=n(6340),g=n(5112)("match"),k=r.RegExp,v=k.prototype,R=/a/g,C=/a/g,x=new k(R)!==R,I=d.UNSUPPORTED_Y;if(o&&a("RegExp",!x||I||l((function(){return C[g]=!1,k(R)!=R||k(C)==C||"/a/i"!=k(R,"i")})))){for(var y=function(e,t){var n,o=this instanceof y,r=s(e),a=void 0===t;if(!o&&r&&e.constructor===y&&a)return e;x?r&&!a&&(e=e.source):e instanceof y&&(a&&(t=p.call(e)),e=e.source),I&&(n=!!t&&t.indexOf("y")>-1)&&(t=t.replace(/y/g,""));var u=i(x?new k(e,t):k(e,t),o?this:v,y);return I&&n&&m(u,{sticky:n}),u},b=function(e){e in y||u(y,e,{configurable:!0,get:function(){return k[e]},set:function(t){k[e]=t}})},w=c(k),B=0;w.length>B;)b(w[B++]);v.constructor=y,y.prototype=v,f(r,"RegExp",y)}h("RegExp")},4723:function(e,t,n){"use strict";var o=n(7007),r=n(9670),a=n(7466),i=n(4488),u=n(1530),c=n(7651);o("match",1,(function(e,t,n){return[function(t){var n=i(this),o=null==t?void 0:t[e];return void 0!==o?o.call(t,n):new RegExp(t)[e](String(n))},function(e){var o=n(t,e,this);if(o.done)return o.value;var i=r(e),s=String(this);if(!i.global)return c(i,s);var p=i.unicode;i.lastIndex=0;for(var d,f=[],l=0;null!==(d=c(i,s));){var m=String(d[0]);f[l]=m,""===m&&(i.lastIndex=u(s,a(i.lastIndex),p)),l++}return 0===l?null:f}]}))}},0,[[930,898]]]);
//# sourceMappingURL=plugin.resume.js.map