{"version":3,"sources":["webpack://@internetarchive/bookreader/./src/js/plugins/plugin.text_selection.js","webpack://@internetarchive/bookreader/./src/js/plugins/tts/utils.js","webpack://@internetarchive/bookreader/./node_modules/core-js/internals/engine-is-ios.js","webpack://@internetarchive/bookreader/./node_modules/core-js/internals/function-bind.js","webpack://@internetarchive/bookreader/./node_modules/core-js/internals/host-report-errors.js","webpack://@internetarchive/bookreader/./node_modules/core-js/internals/iterate.js","webpack://@internetarchive/bookreader/./node_modules/core-js/internals/microtask.js","webpack://@internetarchive/bookreader/./node_modules/core-js/internals/native-promise-constructor.js","webpack://@internetarchive/bookreader/./node_modules/core-js/internals/new-promise-capability.js","webpack://@internetarchive/bookreader/./node_modules/core-js/internals/perform.js","webpack://@internetarchive/bookreader/./node_modules/core-js/internals/promise-resolve.js","webpack://@internetarchive/bookreader/./node_modules/core-js/internals/set-species.js","webpack://@internetarchive/bookreader/./node_modules/core-js/internals/task.js","webpack://@internetarchive/bookreader/./node_modules/core-js/modules/es.object.get-own-property-descriptor.js","webpack://@internetarchive/bookreader/./node_modules/core-js/modules/es.object.get-prototype-of.js","webpack://@internetarchive/bookreader/./node_modules/core-js/modules/es.promise.js","webpack://@internetarchive/bookreader/./node_modules/core-js/modules/es.reflect.construct.js","webpack://@internetarchive/bookreader/./node_modules/core-js/modules/es.reflect.get.js","webpack://@internetarchive/bookreader/./node_modules/core-js/modules/es.string.match.js","webpack://@internetarchive/bookreader/./node_modules/iso-language-codes/js/data.js"],"names":["BookReader","window","TextSelectionPlugin","avoidTspans","isFirefox","this","djvuPagesPromise","svgParagraphElement","svgWordElement","insertNewlines","ocaid","$","ajax","type","url","dataType","error","e","then","xmlMap","find","index","XMLpagesArr","$container","addEventListener","event","selection","document","getSelection","clipboardData","setData","toString","preventDefault","svg","classList","remove","on","target","is","stopPropagation","add","one","off","textSelectingMode","removeAllRanges","defaultMode","$svg","length","each","i","s","interceptCopy","pageIndex","getPageText","XMLpage","XMLwidth","attr","XMLheight","createElementNS","setAttribute","append","css","paragraph","words","paragSvg","wordHeightArr","currWord","split","map","parseFloat","left","bottom","right","wordHeight","push","wordTspan","textContent","appendChild","nextWord","leftNext","spaceTspan","createTextNode","sort","paragWordHeight","Math","floor","stopPageFlip","BookreaderWithTextSelection","enableTextSelection","textSelectionPlugin","init","bookId","styles","createTextLayer","promisifyEvent","eventType","Promise","res","resolver","ev","removeEventListener","approximateWordCount","text","m","match","sleep","ms","setTimeout","isChrome","userAgent","navigator","vendor","test","isAndroid","COLUMN_TO_LANG_INDEX","toISO6391","language","searchForISO6391","toLowerCase","columnsToSearch","langs","colI","column","x","indexOf","module","exports","aFunction","isObject","slice","factories","construct","C","argsLength","args","list","Function","join","bind","that","fn","partArgs","call","arguments","boundFunction","concat","apply","prototype","global","a","b","console","anObject","isArrayIteratorMethod","toLength","getIteratorMethod","callWithSafeIterationClosing","Result","stopped","result","iterable","AS_ENTRIES","IS_ITERATOR","iterator","iterFn","next","step","TypeError","done","value","stop","flush","head","last","notify","toggle","node","promise","getOwnPropertyDescriptor","classof","macrotask","IS_IOS","MutationObserver","WebKitMutationObserver","process","IS_NODE","queueMicrotaskDescriptor","queueMicrotask","parent","domain","exit","undefined","enter","nextTick","observe","characterData","data","resolve","task","PromiseCapability","reject","$$resolve","$$reject","f","exec","newPromiseCapability","constructor","promiseCapability","getBuiltIn","definePropertyModule","wellKnownSymbol","DESCRIPTORS","SPECIES","CONSTRUCTOR_NAME","Constructor","defineProperty","configurable","get","defer","channel","port","fails","html","createElement","location","set","setImmediate","clear","clearImmediate","MessageChannel","Dispatch","counter","queue","run","id","hasOwnProperty","runner","listener","post","postMessage","protocol","host","now","port2","port1","onmessage","importScripts","removeChild","toIndexedObject","nativeGetOwnPropertyDescriptor","FAILS_ON_PRIMITIVES","stat","forced","sham","it","key","toObject","nativeGetPrototypeOf","CORRECT_PROTOTYPE_GETTER","getPrototypeOf","Internal","OwnPromiseCapability","PromiseWrapper","nativeThen","IS_PURE","NativePromise","redefine","redefineAll","setToStringTag","setSpecies","anInstance","inspectSource","iterate","checkCorrectnessOfIteration","speciesConstructor","microtask","promiseResolve","hostReportErrors","newPromiseCapabilityModule","perform","InternalStateModule","isForced","V8_VERSION","PROMISE","getInternalState","setInternalState","getInternalPromiseState","getterFor","PromiseConstructor","$fetch","newGenericPromiseCapability","DISPATCH_EVENT","createEvent","dispatchEvent","UNHANDLED_REJECTION","FORCED","String","PromiseRejectionEvent","FakePromise","INCORRECT_ITERATION","all","isThenable","state","isReject","notified","chain","reactions","ok","exited","reaction","handler","fail","rejection","onHandleUnhandled","onUnhandled","name","reason","initEvent","isUnhandled","emit","unwrap","internalReject","internalResolve","wrapper","executor","onFulfilled","onRejected","unsafe","enumerable","fetch","input","wrap","r","capability","$promiseResolve","values","remaining","alreadyCalled","race","create","nativeConstruct","NEW_TARGET_BUG","F","ARGS_BUG","Target","newTarget","$args","proto","instance","Object","has","getOwnPropertyDescriptorModule","propertyKey","descriptor","receiver","fixRegExpWellKnownSymbolLogic","requireObjectCoercible","advanceStringIndex","regExpExec","MATCH","nativeMatch","maybeCallNative","regexp","O","matcher","RegExp","rx","S","fullUnicode","unicode","lastIndex","A","n","matchStr"],"mappings":"+xFAGA,IAAMA,EAAmEC,OAAOD,WAEnEE,EAAb,WAEE,aAAuC,IAA3BC,EAA2B,wDAAbC,UAAa,UAErCC,KAAKC,iBAAmB,KAGxBD,KAAKE,oBAAsB,OAC3BF,KAAKG,eAAiB,QACtBH,KAAKI,eAAiBN,EACnBA,IACDE,KAAKE,oBAAsB,IAC3BF,KAAKG,eAAiB,QAZ5B,+CAmBOE,GACHL,KAAKC,iBAAmBK,EAAEC,KAAK,CAC7BC,KAAM,MACNC,IAAK,iCAAF,OAAmCJ,EAAnC,YAA4CA,EAA5C,aACHK,SAAU,MAEVC,MAAO,SAAUC,OAGhBC,MAAK,SAAAC,GAAM,OAAKA,GAAUR,EAAEQ,GAAQC,KAAK,eA5BhD,kEAmCoBC,GAnCpB,sGAoC8BhB,KAAKC,iBApCnC,YAoCUgB,EApCV,iDAqC4BA,EAAYD,IArCxC,kIA4CgBE,GACZA,EAAW,GAAGC,iBAAiB,QAAQ,SAACC,GACtC,IAAMC,EAAYC,SAASC,eAC3BH,EAAMI,cAAcC,QAAQ,aAAcJ,EAAUK,YACpDN,EAAMO,sBAhDZ,kCAwDcC,GAAK,WACfA,EAAIC,UAAUC,OAAO,gBACrBxB,EAAEsB,GAAKG,GAAG,qCAAqC,SAACX,GACzCd,EAAEc,EAAMY,QAAQC,GAAG,oBACxBb,EAAMc,kBACNN,EAAIC,UAAUM,IAAI,gBAClB7B,EAAEsB,GAAKQ,IAAI,mCAAmC,SAAChB,GACL,IAApCxB,OAAO2B,eAAeG,YACxBN,EAAMc,kBACN5B,EAAEsB,GAAKS,IAAI,4BACX,EAAKC,kBAAkBV,IAEpBA,EAAIC,UAAUC,OAAO,yBApElC,wCA6EoBF,GAAK,WACrBtB,EAAEsB,GAAKG,GAAG,qCAAqC,SAACX,GACzCd,EAAEc,EAAMY,QAAQC,GAAG,mBACiB,IAApCrC,OAAO2B,eAAeG,YAAkB9B,OAAO2B,eAAegB,kBAEnEnB,EAAMc,qBAER5B,EAAEsB,GAAKG,GAAG,mCAAmC,SAACX,GAC5CA,EAAMc,kBACiC,IAApCtC,OAAO2B,eAAeG,aACvBpB,EAAEsB,GAAKS,IAAI,4BACX,EAAKG,YAAYZ,SAxFzB,mCAgGeV,GAAY,WAEjBuB,EAAOvB,EAAWH,KAAK,wBACzB0B,EAAKC,SACTD,EAAKE,MAAK,SAACC,EAAGC,GAAJ,OAAU,EAAKL,YAAYK,MACrC7C,KAAK8C,cAAc5B,MArGvB,sEA4GwB6B,EAAW7B,GA5GnC,uGA6GuBA,EAAWH,KAAK,qBACpB2B,OA9GnB,iEA+G0B1C,KAAKgD,YAAYD,GA/G3C,UA+GUE,EA/GV,wDAiHUC,EAAW5C,EAAE2C,GAASE,KAAK,SAC3BC,EAAY9C,EAAE2C,GAASE,KAAK,WAE5BvB,EAAMN,SAAS+B,gBAAgB,6BAA8B,QAC/DC,aAAa,QAAS,8BAC1B1B,EAAI0B,aAAa,UAAjB,cAAmCJ,EAAnC,YAA+CE,IAC/ClC,EAAWqC,OAAO3B,GAClBA,EAAI0B,aAAa,QAAS,oBAC1B1B,EAAI0B,aAAa,sBAAuB,QACxChD,EAAEsB,GAAK4B,IAAI,CACT,MAAS,OACT,SAAY,WACZ,OAAU,OACV,IAAO,IACP,KAAQ,MAGVlD,EAAE2C,GAASlC,KAAK,aAAa4B,MAAK,SAACC,EAAGa,GAEpC,IAAMC,EAAQpD,EAAEmD,GAAW1C,KAAK,QAChC,GAAK2C,EAAMhB,OAAX,CACA,IAAMiB,EAAWrC,SAAS+B,gBAAgB,6BAA8B,EAAKnD,qBAC7EyD,EAASL,aAAa,QAAS,kBAI/B,IAFA,IAAMM,EAAgB,GAEdhB,EAAI,EAAGA,EAAIc,EAAMhB,OAAQE,IAAK,CAEpC,IAAMiB,EAAWH,EAAMd,GAFa,IAIDtC,EAAEuD,GAAUV,KAAK,UAAUW,MAAM,KAAKC,IAAIC,YAJzC,GAI7BC,EAJ6B,KAIvBC,EAJuB,KAIfC,EAJe,KAK9BC,EAAaF,EALiB,KAMpCN,EAAcS,KAAKD,GAEnB,IAAME,EAAYhD,SAAS+B,gBAAgB,6BAA8B,EAAKlD,gBAW9E,GAVAmE,EAAUhB,aAAa,QAAS,iBAChCgB,EAAUhB,aAAa,IAAKW,EAAKvC,YACjC4C,EAAUhB,aAAa,IAAKY,EAAOxC,YACnC4C,EAAUhB,aAAa,cAAea,EAAQF,GAAMvC,YACpD4C,EAAUhB,aAAa,eAAgB,oBACvCgB,EAAUC,YAAcV,EAASU,YACjCZ,EAASa,YAAYF,GAIlB1B,EAAIc,EAAMhB,OAAS,EAAE,CACtB,IAAM+B,EAAWf,EAAMd,EAAI,GADL,IAG6BtC,EAAEmE,GAAUtB,KAAK,UAAUW,MAAM,KAAKC,IAAIC,YAHvE,GAGfU,EAHe,KAIhBC,GAJgB,eAIHrD,SAAS+B,gBAAgB,6BAA8B,EAAKlD,iBAC/EwE,EAAWrB,aAAa,QAAS,iBACjCqB,EAAWrB,aAAa,IAAKa,EAAMzC,YACnCiD,EAAWrB,aAAa,IAAKY,EAAOxC,YAChCgD,EAAWP,EAAS,GAAGQ,EAAWrB,aAAa,cAAeoB,EAAWP,GAAOzC,YACpFiD,EAAWrB,aAAa,eAAgB,oBACxCqB,EAAWJ,YAAc,IACzBZ,EAASa,YAAYG,GAInB/B,GAAMc,EAAMhB,OAAS,GAAM,EAAKtC,gBAClCuD,EAASa,YAAYlD,SAASsD,eAAe,OAIjDhB,EAAciB,OACd,IAAMC,EAAkBlB,EAAcmB,KAAKC,MAA6B,IAAvBpB,EAAclB,SAC/DiB,EAASL,aAAa,YAAawB,EAAgBpD,YACnDE,EAAI4C,YAAYb,OAElB3D,KAAKiF,aAAa/D,GAvLtB,wGA2LagE,EAAb,a,kOAAA,U,IAAA,G,EAAA,E,0YAAA,+FAEOlF,KAAKmF,sBACNnF,KAAKoF,oBAAsB,IAAIvF,EAC/BG,KAAKoF,oBAAoBC,KAAKrF,KAAKsF,SAErC,2CANJ,2CAYuBtE,GAAoB,IAAbuE,EAAa,uDAAJ,GAC7BrE,EAAa,EAAH,sDAA8BF,EAAOuE,GAIrD,OAHGvF,KAAKmF,qBACNnF,KAAKoF,oBAAoBI,gBAAgBxE,EAAOE,GAE3CA,MAjBX,GAAiDvB,GAoBjDC,OAAOD,WAAauF,G,yRC5Mb,SAASO,EAAezD,EAAQ0D,GACrC,OAAO,IAAIC,SAAQ,SAAAC,GAKjB5D,EAAOb,iBAAiBuE,GAJP,SAAXG,EAAWC,GACf9D,EAAO+D,oBAAoBL,EAAWG,GACtCD,EAAIE,SAWH,SAASE,EAAqBC,GACnC,IAAMC,EAAID,EAAKE,MAAM,QACrB,OAAOD,EAAIA,EAAExD,OAAS,EAQjB,SAAS0D,EAAMC,GACpB,OAAO,IAAIV,SAAQ,SAAAC,GAAG,OAAIU,WAAWV,EAAKS,MAUrC,SAASE,IAAqE,IAA5DC,EAA4D,uDAAhDC,UAAUD,UAAWE,EAA2B,uDAAlBD,UAAUC,OAC3E,MAAO,UAAUC,KAAKH,IAAc,cAAcG,KAAKD,GAQlD,SAAS3G,IAA2C,IAAjCyG,EAAiC,uDAArBC,UAAUD,UAC9C,MAAO,WAAWG,KAAKH,GAQlB,SAASI,IAA2C,IAAjCJ,EAAiC,uDAArBC,UAAUD,UAC9C,MAAO,WAAWG,KAAKH,GASzB,IAAMK,EAAuB,CAC3B,KAAQ,EACR,QAAW,EACX,YAAa,EACb,cAAe,EACf,cAAe,GAOV,SAASC,EAAUC,GACxB,OAAKA,EAGEC,EAFPD,EAAWA,EAASE,cAEc,CAAC,eACjCD,EAAiBD,EAAU,CAAC,iBAC5BC,EAAiBD,EAAU,CAAC,cAAe,UAAW,SALlC,KAcxB,SAASC,EAAiBD,EAAUG,GAClC,IAAK,IAAItE,EAAI,EAAGA,EAAIuE,WAAcvE,IAChC,IAAK,IAAIwE,EAAO,EAAGA,EAAOF,EAAgBxE,OAAQ0E,IAAQ,CACxD,IAAMC,EAASH,EAAgBE,GAE/B,IAA4E,GADxDD,IAAMvE,GAAGiE,EAAqBQ,IAClCvD,MAAM,MAAMC,KAAI,SAAAuD,GAAC,OAAIA,EAAEL,iBAAeM,QAAQR,GAC5D,OAAOI,IAAMvE,GAAGiE,EAAqB,cAI3C,OAAO,O,qBC7GT,IAAIL,EAAY,EAAQ,MAExBgB,EAAOC,QAAU,mCAAmCd,KAAKH,I,kCCDzD,IAAIkB,EAAY,EAAQ,MACpBC,EAAW,EAAQ,KAEnBC,EAAQ,GAAGA,MACXC,EAAY,GAEZC,EAAY,SAAUC,EAAGC,EAAYC,GACvC,KAAMD,KAAcH,GAAY,CAC9B,IAAK,IAAIK,EAAO,GAAItF,EAAI,EAAGA,EAAIoF,EAAYpF,IAAKsF,EAAKtF,GAAK,KAAOA,EAAI,IAErEiF,EAAUG,GAAcG,SAAS,MAAO,gBAAkBD,EAAKE,KAAK,KAAO,KAC3E,OAAOP,EAAUG,GAAYD,EAAGE,IAKpCT,EAAOC,QAAUU,SAASE,MAAQ,SAAcC,GAC9C,IAAIC,EAAKb,EAAU1H,MACfwI,EAAWZ,EAAMa,KAAKC,UAAW,GACjCC,EAAgB,WAClB,IAAIV,EAAOO,EAASI,OAAOhB,EAAMa,KAAKC,YACtC,OAAO1I,gBAAgB2I,EAAgBb,EAAUS,EAAIN,EAAKvF,OAAQuF,GAAQM,EAAGM,MAAMP,EAAML,IAG3F,OADIN,EAASY,EAAGO,aAAYH,EAAcG,UAAYP,EAAGO,WAClDH,I,oBCzBT,IAAII,EAAS,EAAQ,MAErBvB,EAAOC,QAAU,SAAUuB,EAAGC,GAC5B,IAAIC,EAAUH,EAAOG,QACjBA,GAAWA,EAAQvI,QACA,IAArB+H,UAAUhG,OAAewG,EAAQvI,MAAMqI,GAAKE,EAAQvI,MAAMqI,EAAGC,M,oBCLjE,IAAIE,EAAW,EAAQ,MACnBC,EAAwB,EAAQ,MAChCC,EAAW,EAAQ,MACnBhB,EAAO,EAAQ,MACfiB,EAAoB,EAAQ,MAC5BC,EAA+B,EAAQ,MAEvCC,EAAS,SAAUC,EAASC,GAC9B1J,KAAKyJ,QAAUA,EACfzJ,KAAK0J,OAASA,IAGFlC,EAAOC,QAAU,SAAUkC,EAAUpB,EAAID,EAAMsB,EAAYC,GACvE,IACIC,EAAUC,EAAQ/I,EAAO0B,EAAQgH,EAAQM,EAAMC,EAD/CtB,EAAgBN,EAAKE,EAAID,EAAMsB,EAAa,EAAI,GAGpD,GAAIC,EACFC,EAAWH,MACN,CAEL,GAAqB,mBADrBI,EAAST,EAAkBK,IACM,MAAMO,UAAU,0BAEjD,GAAId,EAAsBW,GAAS,CACjC,IAAK/I,EAAQ,EAAG0B,EAAS2G,EAASM,EAASjH,QAASA,EAAS1B,EAAOA,IAIlE,IAHA0I,EAASE,EACLjB,EAAcQ,EAASc,EAAON,EAAS3I,IAAQ,GAAIiJ,EAAK,IACxDtB,EAAcgB,EAAS3I,MACb0I,aAAkBF,EAAQ,OAAOE,EAC/C,OAAO,IAAIF,GAAO,GAEtBM,EAAWC,EAAOtB,KAAKkB,GAIzB,IADAK,EAAOF,EAASE,OACPC,EAAOD,EAAKvB,KAAKqB,IAAWK,MAEnC,GAAqB,iBADrBT,EAASH,EAA6BO,EAAUnB,EAAesB,EAAKG,MAAOR,KAC1CF,GAAUA,aAAkBF,EAAQ,OAAOE,EAC5E,OAAO,IAAIF,GAAO,KAGda,KAAO,SAAUX,GACvB,OAAO,IAAIF,GAAO,EAAME,K,qBCzC1B,IAcIY,EAAOC,EAAMC,EAAMC,EAAQC,EAAQC,EAAMC,EAAS/J,EAdlDkI,EAAS,EAAQ,MACjB8B,EAA2B,UAC3BC,EAAU,EAAQ,MAClBC,EAAY,WACZC,EAAS,EAAQ,MAEjBC,EAAmBlC,EAAOkC,kBAAoBlC,EAAOmC,uBACrDC,EAAUpC,EAAOoC,QACjBxF,EAAUoD,EAAOpD,QACjByF,EAA8B,WAApBN,EAAQK,GAElBE,EAA2BR,EAAyB9B,EAAQ,kBAC5DuC,EAAiBD,GAA4BA,EAAyBjB,MAKrEkB,IACHhB,EAAQ,WACN,IAAIiB,EAAQhD,EAEZ,IADI6C,IAAYG,EAASJ,EAAQK,SAASD,EAAOE,OAC1ClB,GAAM,CACXhC,EAAKgC,EAAKhC,GACVgC,EAAOA,EAAKP,KACZ,IACEzB,IACA,MAAO5H,GAGP,MAFI4J,EAAME,IACLD,OAAOkB,EACN/K,GAER6J,OAAOkB,EACLH,GAAQA,EAAOI,SAIjBP,EACFX,EAAS,WACPU,EAAQS,SAAStB,IAGVW,IAAqBD,GAC9BN,GAAS,EACTC,EAAOrJ,SAASsD,eAAe,IAC/B,IAAIqG,EAAiBX,GAAOuB,QAAQlB,EAAM,CAAEmB,eAAe,IAC3DrB,EAAS,WACPE,EAAKoB,KAAOrB,GAAUA,IAGf/E,GAAWA,EAAQqG,SAE5BpB,EAAUjF,EAAQqG,aAAQN,GAC1B7K,EAAO+J,EAAQ/J,KACf4J,EAAS,WACP5J,EAAK4H,KAAKmC,EAASN,KASrBG,EAAS,WAEPM,EAAUtC,KAAKM,EAAQuB,KAK7B9C,EAAOC,QAAU6D,GAAkB,SAAU/C,GAC3C,IAAI0D,EAAO,CAAE1D,GAAIA,EAAIyB,UAAM0B,GACvBlB,IAAMA,EAAKR,KAAOiC,GACjB1B,IACHA,EAAO0B,EACPxB,KACAD,EAAOyB,I,qBC5EX,IAAIlD,EAAS,EAAQ,MAErBvB,EAAOC,QAAUsB,EAAOpD,S,kCCDxB,IAAI+B,EAAY,EAAQ,MAEpBwE,EAAoB,SAAUnE,GAChC,IAAIiE,EAASG,EACbnM,KAAK4K,QAAU,IAAI7C,GAAE,SAAUqE,EAAWC,GACxC,QAAgBX,IAAZM,QAAoCN,IAAXS,EAAsB,MAAMjC,UAAU,2BACnE8B,EAAUI,EACVD,EAASE,KAEXrM,KAAKgM,QAAUtE,EAAUsE,GACzBhM,KAAKmM,OAASzE,EAAUyE,IAI1B3E,EAAOC,QAAQ6E,EAAI,SAAUvE,GAC3B,OAAO,IAAImE,EAAkBnE,K,iBChB/BP,EAAOC,QAAU,SAAU8E,GACzB,IACE,MAAO,CAAE5L,OAAO,EAAOyJ,MAAOmC,KAC9B,MAAO5L,GACP,MAAO,CAAEA,OAAO,EAAMyJ,MAAOzJ,M,qBCJjC,IAAIwI,EAAW,EAAQ,MACnBxB,EAAW,EAAQ,KACnB6E,EAAuB,EAAQ,MAEnChF,EAAOC,QAAU,SAAUM,EAAGT,GAE5B,GADA6B,EAASpB,GACLJ,EAASL,IAAMA,EAAEmF,cAAgB1E,EAAG,OAAOT,EAC/C,IAAIoF,EAAoBF,EAAqBF,EAAEvE,GAG/C,OADAiE,EADcU,EAAkBV,SACxB1E,GACDoF,EAAkB9B,U,kCCT3B,IAAI+B,EAAa,EAAQ,MACrBC,EAAuB,EAAQ,MAC/BC,EAAkB,EAAQ,MAC1BC,EAAc,EAAQ,MAEtBC,EAAUF,EAAgB,WAE9BrF,EAAOC,QAAU,SAAUuF,GACzB,IAAIC,EAAcN,EAAWK,GACzBE,EAAiBN,EAAqBN,EAEtCQ,GAAeG,IAAgBA,EAAYF,IAC7CG,EAAeD,EAAaF,EAAS,CACnCI,cAAc,EACdC,IAAK,WAAc,OAAOpN,U,oBCfhC,IAiBIqN,EAAOC,EAASC,EAjBhBxE,EAAS,EAAQ,MACjByE,EAAQ,EAAQ,MAChB1C,EAAU,EAAQ,MAClBzC,EAAO,EAAQ,MACfoF,EAAO,EAAQ,KACfC,EAAgB,EAAQ,KACxB1C,EAAS,EAAQ,MAEjB2C,EAAW5E,EAAO4E,SAClBC,EAAM7E,EAAO8E,aACbC,EAAQ/E,EAAOgF,eACf5C,EAAUpC,EAAOoC,QACjB6C,EAAiBjF,EAAOiF,eACxBC,EAAWlF,EAAOkF,SAClBC,EAAU,EACVC,EAAQ,GAIRC,EAAM,SAAUC,GAElB,GAAIF,EAAMG,eAAeD,GAAK,CAC5B,IAAI9F,EAAK4F,EAAME,UACRF,EAAME,GACb9F,MAIAgG,EAAS,SAAUF,GACrB,OAAO,WACLD,EAAIC,KAIJG,EAAW,SAAUpN,GACvBgN,EAAIhN,EAAM2K,OAGR0C,EAAO,SAAUJ,GAEnBtF,EAAO2F,YAAYL,EAAK,GAAIV,EAASgB,SAAW,KAAOhB,EAASiB,OAI7DhB,GAAQE,IACXF,EAAM,SAAsBrF,GAG1B,IAFA,IAAIN,EAAO,GACPrF,EAAI,EACD8F,UAAUhG,OAASE,GAAGqF,EAAK5D,KAAKqE,UAAU9F,MAMjD,OALAuL,IAAQD,GAAW,YAEH,mBAAN3F,EAAmBA,EAAKJ,SAASI,IAAKM,WAAM6C,EAAWzD,IAEjEoF,EAAMa,GACCA,GAETJ,EAAQ,SAAwBO,UACvBF,EAAME,IAGS,WAApBvD,EAAQK,GACVkC,EAAQ,SAAUgB,GAChBlD,EAAQS,SAAS2C,EAAOF,KAGjBJ,GAAYA,EAASY,IAC9BxB,EAAQ,SAAUgB,GAChBJ,EAASY,IAAIN,EAAOF,KAIbL,IAAmBhD,GAE5BuC,GADAD,EAAU,IAAIU,GACCc,MACfxB,EAAQyB,MAAMC,UAAYR,EAC1BnB,EAAQhF,EAAKkF,EAAKmB,YAAanB,EAAM,KAIrCxE,EAAO5H,kBACe,mBAAfuN,aACN3F,EAAOkG,eACPzB,EAAMiB,IACe,UAAtBd,EAASgB,SAMTtB,EAzEqB,uBAwEUK,EAAc,UACrC,SAAUW,GAChBZ,EAAKjJ,YAAYkJ,EAAc,WAA6B,mBAAI,WAC9DD,EAAKyB,YAAYlP,MACjBoO,EAAIC,KAKA,SAAUA,GAChB/H,WAAWiI,EAAOF,GAAK,KAbzBhB,EAAQoB,EACR1F,EAAO5H,iBAAiB,UAAWqN,GAAU,KAiBjDhH,EAAOC,QAAU,CACfmG,IAAKA,EACLE,MAAOA,I,qBCzGT,IAAIxN,EAAI,EAAQ,MACZkN,EAAQ,EAAQ,MAChB2B,EAAkB,EAAQ,MAC1BC,EAAiC,UACjCtC,EAAc,EAAQ,MAEtBuC,EAAsB7B,GAAM,WAAc4B,EAA+B,MAK7E9O,EAAE,CAAE0B,OAAQ,SAAUsN,MAAM,EAAMC,QAJpBzC,GAAeuC,EAIqBG,MAAO1C,GAAe,CACtEjC,yBAA0B,SAAkC4E,EAAIC,GAC9D,OAAON,EAA+BD,EAAgBM,GAAKC,O,oBCb/D,IAAIpP,EAAI,EAAQ,MACZkN,EAAQ,EAAQ,MAChBmC,EAAW,EAAQ,MACnBC,EAAuB,EAAQ,MAC/BC,EAA2B,EAAQ,MAMvCvP,EAAE,CAAE0B,OAAQ,SAAUsN,MAAM,EAAMC,OAJR/B,GAAM,WAAcoC,EAAqB,MAIJJ,MAAOK,GAA4B,CAChGC,eAAgB,SAAwBL,GACtC,OAAOG,EAAqBD,EAASF,Q,kCCXzC,IAiDIM,EAAUC,EAAsBC,EAAgBC,EAjDhD5P,EAAI,EAAQ,MACZ6P,EAAU,EAAQ,MAClBpH,EAAS,EAAQ,MACjB4D,EAAa,EAAQ,MACrByD,EAAgB,EAAQ,MACxBC,EAAW,EAAQ,MACnBC,EAAc,EAAQ,MACtBC,EAAiB,EAAQ,MACzBC,EAAa,EAAQ,MACrB7I,EAAW,EAAQ,KACnBD,EAAY,EAAQ,MACpB+I,EAAa,EAAQ,MACrB3F,EAAU,EAAQ,MAClB4F,EAAgB,EAAQ,MACxBC,EAAU,EAAQ,KAClBC,EAA8B,EAAQ,MACtCC,EAAqB,EAAQ,MAC7B5E,EAAO,WACP6E,EAAY,EAAQ,MACpBC,EAAiB,EAAQ,MACzBC,EAAmB,EAAQ,KAC3BC,EAA6B,EAAQ,MACrCC,EAAU,EAAQ,MAClBC,EAAsB,EAAQ,MAC9BC,EAAW,EAAQ,MACnBvE,EAAkB,EAAQ,MAC1BwE,EAAa,EAAQ,MAErBtE,EAAUF,EAAgB,WAC1ByE,EAAU,UACVC,EAAmBJ,EAAoB/D,IACvCoE,EAAmBL,EAAoBvD,IACvC6D,EAA0BN,EAAoBO,UAAUJ,GACxDK,EAAqBvB,EACrBlG,EAAYnB,EAAOmB,UACnB5I,EAAWyH,EAAOzH,SAClB6J,EAAUpC,EAAOoC,QACjByG,EAASjF,EAAW,SACpBH,EAAuByE,EAA2B3E,EAClDuF,EAA8BrF,EAC9BpB,EAA8B,WAApBN,EAAQK,GAClB2G,KAAoBxQ,GAAYA,EAASyQ,aAAehJ,EAAOiJ,eAC/DC,EAAsB,qBAStBC,EAASd,EAASE,GAAS,WAE7B,GAD6BZ,EAAciB,KAAwBQ,OAAOR,GAC7C,CAI3B,GAAmB,KAAfN,EAAmB,OAAO,EAE9B,IAAKjG,GAA2C,mBAAzBgH,sBAAqC,OAAO,EAGrE,GAAIjC,IAAYwB,EAAmB7I,UAAmB,QAAG,OAAO,EAIhE,GAAIuI,GAAc,IAAM,cAAc1K,KAAKgL,GAAqB,OAAO,EAEvE,IAAI/G,EAAU+G,EAAmB3F,QAAQ,GACrCqG,EAAc,SAAU9F,GAC1BA,GAAK,eAA6B,gBAIpC,OAFkB3B,EAAQ6B,YAAc,IAC5BM,GAAWsF,IACdzH,EAAQ/J,MAAK,yBAAwCwR,MAG5DC,EAAsBJ,IAAWtB,GAA4B,SAAUjH,GACzEgI,EAAmBY,IAAI5I,GAAiB,OAAE,kBAIxC6I,EAAa,SAAU/C,GACzB,IAAI5O,EACJ,SAAO8G,EAAS8H,IAAkC,mBAAnB5O,EAAO4O,EAAG5O,QAAsBA,GAG7D4J,EAAS,SAAUG,EAAS6H,EAAOC,GACrC,IAAID,EAAME,SAAV,CACAF,EAAME,UAAW,EACjB,IAAIC,EAAQH,EAAMI,UAClB/B,GAAU,WAKR,IAJA,IAAI1G,EAAQqI,EAAMrI,MACd0I,EAhDQ,GAgDHL,EAAMA,MACXzR,EAAQ,EAEL4R,EAAMlQ,OAAS1B,GAAO,CAC3B,IAKI0I,EAAQ7I,EAAMkS,EALdC,EAAWJ,EAAM5R,KACjBiS,EAAUH,EAAKE,EAASF,GAAKE,EAASE,KACtClH,EAAUgH,EAAShH,QACnBG,EAAS6G,EAAS7G,OAClBX,EAASwH,EAASxH,OAEtB,IACMyH,GACGH,IAzDC,IA0DAL,EAAMU,WAAyBC,GAAkBxI,EAAS6H,GAC9DA,EAAMU,UA5DJ,IA8DY,IAAZF,EAAkBvJ,EAASU,GAEzBoB,GAAQA,EAAOG,QACnBjC,EAASuJ,EAAQ7I,GACboB,IACFA,EAAOC,OACPsH,GAAS,IAGTrJ,IAAWsJ,EAASpI,QACtBuB,EAAOjC,EAAU,yBACRrJ,EAAO2R,EAAW9I,IAC3B7I,EAAK4H,KAAKiB,EAAQsC,EAASG,GACtBH,EAAQtC,IACVyC,EAAO/B,GACd,MAAOzJ,GACH6K,IAAWuH,GAAQvH,EAAOC,OAC9BU,EAAOxL,IAGX8R,EAAMI,UAAY,GAClBJ,EAAME,UAAW,EACbD,IAAaD,EAAMU,WAAWE,GAAYzI,EAAS6H,QAIvDT,EAAgB,SAAUsB,EAAM1I,EAAS2I,GAC3C,IAAInS,EAAO6R,EACPnB,IACF1Q,EAAQE,EAASyQ,YAAY,UACvBnH,QAAUA,EAChBxJ,EAAMmS,OAASA,EACfnS,EAAMoS,UAAUF,GAAM,GAAO,GAC7BvK,EAAOiJ,cAAc5Q,IAChBA,EAAQ,CAAEwJ,QAASA,EAAS2I,OAAQA,IACvCN,EAAUlK,EAAO,KAAOuK,IAAOL,EAAQ7R,GAClCkS,IAASrB,GAAqBjB,EAAiB,8BAA+BuC,IAGrFF,GAAc,SAAUzI,EAAS6H,GACnCxG,EAAKxD,KAAKM,GAAQ,WAChB,IAEIW,EAFAU,EAAQqI,EAAMrI,MAGlB,GAFmBqJ,GAAYhB,KAG7B/I,EAASwH,GAAQ,WACX9F,EACFD,EAAQuI,KAAK,qBAAsBtJ,EAAOQ,GACrCoH,EAAcC,EAAqBrH,EAASR,MAGrDqI,EAAMU,UAAY/H,GAAWqI,GAAYhB,GAhH/B,EADF,EAkHJ/I,EAAO/I,OAAO,MAAM+I,EAAOU,UAKjCqJ,GAAc,SAAUhB,GAC1B,OAxHY,IAwHLA,EAAMU,YAA0BV,EAAMlH,QAG3C6H,GAAoB,SAAUxI,EAAS6H,GACzCxG,EAAKxD,KAAKM,GAAQ,WACZqC,EACFD,EAAQuI,KAAK,mBAAoB9I,GAC5BoH,EAnIa,mBAmIoBpH,EAAS6H,EAAMrI,WAIvD/B,GAAO,SAAUE,EAAIqC,EAAS6H,EAAOkB,GACvC,OAAO,SAAUvJ,GACf7B,EAAGqC,EAAS6H,EAAOrI,EAAOuJ,KAI1BC,GAAiB,SAAUhJ,EAAS6H,EAAOrI,EAAOuJ,GAChDlB,EAAMtI,OACVsI,EAAMtI,MAAO,EACTwJ,IAAQlB,EAAQkB,GACpBlB,EAAMrI,MAAQA,EACdqI,EAAMA,MA/IO,EAgJbhI,EAAOG,EAAS6H,GAAO,KAGrBoB,GAAkB,SAAUjJ,EAAS6H,EAAOrI,EAAOuJ,GACrD,IAAIlB,EAAMtI,KAAV,CACAsI,EAAMtI,MAAO,EACTwJ,IAAQlB,EAAQkB,GACpB,IACE,GAAI/I,IAAYR,EAAO,MAAMF,EAAU,oCACvC,IAAIrJ,EAAO2R,EAAWpI,GAClBvJ,EACFiQ,GAAU,WACR,IAAIgD,EAAU,CAAE3J,MAAM,GACtB,IACEtJ,EAAK4H,KAAK2B,EACR/B,GAAKwL,GAAiBjJ,EAASkJ,EAASrB,GACxCpK,GAAKuL,GAAgBhJ,EAASkJ,EAASrB,IAEzC,MAAO9R,GACPiT,GAAehJ,EAASkJ,EAASnT,EAAO8R,QAI5CA,EAAMrI,MAAQA,EACdqI,EAAMA,MAzKI,EA0KVhI,EAAOG,EAAS6H,GAAO,IAEzB,MAAO9R,GACPiT,GAAehJ,EAAS,CAAET,MAAM,GAASxJ,EAAO8R,MAKhDP,IAEFP,EAAqB,SAAiBoC,GACpCtD,EAAWzQ,KAAM2R,EAAoBL,GACrC5J,EAAUqM,GACVhE,EAAStH,KAAKzI,MACd,IAAIyS,EAAQlB,EAAiBvR,MAC7B,IACE+T,EAAS1L,GAAKwL,GAAiB7T,KAAMyS,GAAQpK,GAAKuL,GAAgB5T,KAAMyS,IACxE,MAAO9R,GACPiT,GAAe5T,KAAMyS,EAAO9R,MAIhCoP,EAAW,SAAiBgE,GAC1BvC,EAAiBxR,KAAM,CACrBQ,KAAM8Q,EACNnH,MAAM,EACNwI,UAAU,EACVpH,QAAQ,EACRsH,UAAW,GACXM,WAAW,EACXV,MAzMQ,EA0MRrI,WAAOsB,MAGF5C,UAAYwH,EAAYqB,EAAmB7I,UAAW,CAG7DjI,KAAM,SAAcmT,EAAaC,GAC/B,IAAIxB,EAAQhB,EAAwBzR,MAChCgT,EAAWxG,EAAqBqE,EAAmB7Q,KAAM2R,IAO7D,OANAqB,EAASF,GAA2B,mBAAfkB,GAA4BA,EACjDhB,EAASE,KAA4B,mBAAde,GAA4BA,EACnDjB,EAASxH,OAASJ,EAAUD,EAAQK,YAASE,EAC7C+G,EAAMlH,QAAS,EACfkH,EAAMI,UAAUxO,KAAK2O,GAvNb,GAwNJP,EAAMA,OAAkBhI,EAAOzK,KAAMyS,GAAO,GACzCO,EAASpI,SAIlB,MAAS,SAAUqJ,GACjB,OAAOjU,KAAKa,UAAK6K,EAAWuI,MAGhCjE,EAAuB,WACrB,IAAIpF,EAAU,IAAImF,EACd0C,EAAQlB,EAAiB3G,GAC7B5K,KAAK4K,QAAUA,EACf5K,KAAKgM,QAAU3D,GAAKwL,GAAiBjJ,EAAS6H,GAC9CzS,KAAKmM,OAAS9D,GAAKuL,GAAgBhJ,EAAS6H,IAE9CxB,EAA2B3E,EAAIE,EAAuB,SAAUzE,GAC9D,OAAOA,IAAM4J,GAAsB5J,IAAMkI,EACrC,IAAID,EAAqBjI,GACzB8J,EAA4B9J,IAG7BoI,GAAmC,mBAAjBC,IACrBF,EAAaE,EAActH,UAAUjI,KAGrCwP,EAASD,EAActH,UAAW,QAAQ,SAAckL,EAAaC,GACnE,IAAI3L,EAAOtI,KACX,OAAO,IAAI2R,GAAmB,SAAU3F,EAASG,GAC/C+D,EAAWzH,KAAKH,EAAM0D,EAASG,MAC9BtL,KAAKmT,EAAaC,KAEpB,CAAEC,QAAQ,IAGQ,mBAAVtC,GAAsBtR,EAAE,CAAEyI,QAAQ,EAAMoL,YAAY,EAAM5E,QAAQ,GAAQ,CAEnF6E,MAAO,SAAeC,GACpB,OAAOtD,EAAeY,EAAoBC,EAAO/I,MAAME,EAAQL,iBAMvEpI,EAAE,CAAEyI,QAAQ,EAAMuL,MAAM,EAAM/E,OAAQ2C,GAAU,CAC9CvM,QAASgM,IAGXpB,EAAeoB,EAAoBL,GAAS,GAAO,GACnDd,EAAWc,GAEXrB,EAAiBtD,EAAW2E,GAG5BhR,EAAE,CAAE0B,OAAQsP,EAAShC,MAAM,EAAMC,OAAQ2C,GAAU,CAGjD/F,OAAQ,SAAgBoI,GACtB,IAAIC,EAAahI,EAAqBxM,MAEtC,OADAwU,EAAWrI,OAAO1D,UAAKiD,EAAW6I,GAC3BC,EAAW5J,WAItBtK,EAAE,CAAE0B,OAAQsP,EAAShC,MAAM,EAAMC,OAAQY,GAAW+B,GAAU,CAG5DlG,QAAS,SAAiB1E,GACxB,OAAOyJ,EAAeZ,GAAWnQ,OAASiQ,EAAiB0B,EAAqB3R,KAAMsH,MAI1FhH,EAAE,CAAE0B,OAAQsP,EAAShC,MAAM,EAAMC,OAAQ+C,GAAuB,CAG9DC,IAAK,SAAa5I,GAChB,IAAI5B,EAAI/H,KACJwU,EAAahI,EAAqBzE,GAClCiE,EAAUwI,EAAWxI,QACrBG,EAASqI,EAAWrI,OACpBzC,EAASwH,GAAQ,WACnB,IAAIuD,EAAkB/M,EAAUK,EAAEiE,SAC9B0I,EAAS,GACTxG,EAAU,EACVyG,EAAY,EAChBhE,EAAQhH,GAAU,SAAUiB,GAC1B,IAAI5J,EAAQkN,IACR0G,GAAgB,EACpBF,EAAOrQ,UAAKqH,GACZiJ,IACAF,EAAgBhM,KAAKV,EAAG6C,GAAS/J,MAAK,SAAUuJ,GAC1CwK,IACJA,GAAgB,EAChBF,EAAO1T,GAASoJ,IACduK,GAAa3I,EAAQ0I,MACtBvI,QAEHwI,GAAa3I,EAAQ0I,MAGzB,OADIhL,EAAO/I,OAAOwL,EAAOzC,EAAOU,OACzBoK,EAAW5J,SAIpBiK,KAAM,SAAclL,GAClB,IAAI5B,EAAI/H,KACJwU,EAAahI,EAAqBzE,GAClCoE,EAASqI,EAAWrI,OACpBzC,EAASwH,GAAQ,WACnB,IAAIuD,EAAkB/M,EAAUK,EAAEiE,SAClC2E,EAAQhH,GAAU,SAAUiB,GAC1B6J,EAAgBhM,KAAKV,EAAG6C,GAAS/J,KAAK2T,EAAWxI,QAASG,SAI9D,OADIzC,EAAO/I,OAAOwL,EAAOzC,EAAOU,OACzBoK,EAAW5J,Y,qBCxXtB,IAAItK,EAAI,EAAQ,MACZqM,EAAa,EAAQ,MACrBjF,EAAY,EAAQ,MACpByB,EAAW,EAAQ,MACnBxB,EAAW,EAAQ,KACnBmN,EAAS,EAAQ,IACjBzM,EAAO,EAAQ,MACfmF,EAAQ,EAAQ,MAEhBuH,EAAkBpI,EAAW,UAAW,aAMxCqI,EAAiBxH,GAAM,WACzB,SAASyH,KACT,QAASF,GAAgB,cAA6B,GAAIE,aAAcA,MAEtEC,GAAY1H,GAAM,WACpBuH,GAAgB,kBAEd7C,EAAS8C,GAAkBE,EAE/B5U,EAAE,CAAE0B,OAAQ,UAAWsN,MAAM,EAAMC,OAAQ2C,EAAQ1C,KAAM0C,GAAU,CACjEpK,UAAW,SAAmBqN,EAAQlN,GACpCP,EAAUyN,GACVhM,EAASlB,GACT,IAAImN,EAAY1M,UAAUhG,OAAS,EAAIyS,EAASzN,EAAUgB,UAAU,IACpE,GAAIwM,IAAaF,EAAgB,OAAOD,EAAgBI,EAAQlN,EAAMmN,GACtE,GAAID,GAAUC,EAAW,CAEvB,OAAQnN,EAAKvF,QACX,KAAK,EAAG,OAAO,IAAIyS,EACnB,KAAK,EAAG,OAAO,IAAIA,EAAOlN,EAAK,IAC/B,KAAK,EAAG,OAAO,IAAIkN,EAAOlN,EAAK,GAAIA,EAAK,IACxC,KAAK,EAAG,OAAO,IAAIkN,EAAOlN,EAAK,GAAIA,EAAK,GAAIA,EAAK,IACjD,KAAK,EAAG,OAAO,IAAIkN,EAAOlN,EAAK,GAAIA,EAAK,GAAIA,EAAK,GAAIA,EAAK,IAG5D,IAAIoN,EAAQ,CAAC,MAEb,OADAA,EAAMhR,KAAKwE,MAAMwM,EAAOpN,GACjB,IAAKI,EAAKQ,MAAMsM,EAAQE,IAGjC,IAAIC,EAAQF,EAAUtM,UAClByM,EAAWT,EAAOnN,EAAS2N,GAASA,EAAQE,OAAO1M,WACnDY,EAASvB,SAASU,MAAMJ,KAAK0M,EAAQI,EAAUtN,GACnD,OAAON,EAAS+B,GAAUA,EAAS6L,M,qBChDvC,IAAIjV,EAAI,EAAQ,MACZqH,EAAW,EAAQ,KACnBwB,EAAW,EAAQ,MACnBsM,EAAM,EAAQ,MACdC,EAAiC,EAAQ,MACzC5F,EAAiB,EAAQ,MAgB7BxP,EAAE,CAAE0B,OAAQ,UAAWsN,MAAM,GAAQ,CACnClC,IAbF,SAASA,EAAIpL,EAAQ2T,GACnB,IACIC,EAAY9M,EADZ+M,EAAWnN,UAAUhG,OAAS,EAAIV,EAAS0G,UAAU,GAEzD,OAAIS,EAASnH,KAAY6T,EAAiB7T,EAAO2T,IAC7CC,EAAaF,EAA+BpJ,EAAEtK,EAAQ2T,IAAqBF,EAAIG,EAAY,SAC3FA,EAAWxL,WACQsB,IAAnBkK,EAAWxI,SACT1B,EACAkK,EAAWxI,IAAI3E,KAAKoN,GACtBlO,EAASmB,EAAYgH,EAAe9N,IAAiBoL,EAAItE,EAAW6M,EAAaE,QAArF,M,kCCjBF,IAAIC,EAAgC,EAAQ,MACxC3M,EAAW,EAAQ,MACnBE,EAAW,EAAQ,MACnB0M,EAAyB,EAAQ,MACjCC,EAAqB,EAAQ,MAC7BC,EAAa,EAAQ,MAGzBH,EAA8B,QAAS,GAAG,SAAUI,EAAOC,EAAaC,GACtE,MAAO,CAGL,SAAeC,GACb,IAAIC,EAAIP,EAAuB/V,MAC3BuW,EAAoB7K,MAAV2K,OAAsB3K,EAAY2K,EAAOH,GACvD,YAAmBxK,IAAZ6K,EAAwBA,EAAQ9N,KAAK4N,EAAQC,GAAK,IAAIE,OAAOH,GAAQH,GAAO/D,OAAOmE,KAI5F,SAAUD,GACR,IAAIzQ,EAAMwQ,EAAgBD,EAAaE,EAAQrW,MAC/C,GAAI4F,EAAIuE,KAAM,OAAOvE,EAAIwE,MAEzB,IAAIqM,EAAKtN,EAASkN,GACdK,EAAIvE,OAAOnS,MAEf,IAAKyW,EAAG1N,OAAQ,OAAOkN,EAAWQ,EAAIC,GAEtC,IAAIC,EAAcF,EAAGG,QACrBH,EAAGI,UAAY,EAIf,IAHA,IAEInN,EAFAoN,EAAI,GACJC,EAAI,EAEgC,QAAhCrN,EAASuM,EAAWQ,EAAIC,KAAc,CAC5C,IAAIM,EAAW7E,OAAOzI,EAAO,IAC7BoN,EAAEC,GAAKC,EACU,KAAbA,IAAiBP,EAAGI,UAAYb,EAAmBU,EAAGrN,EAASoN,EAAGI,WAAYF,IAClFI,IAEF,OAAa,IAANA,EAAU,KAAOD,Q,gCCnC9BrP,EAAA,OAAqB,EAErBA,EAAA,EADe,CAAC,CAAC,UAAW,eAAgB,KAAM,MAAO,OAAQ,CAAC,gCAAiC,SAAU,KAAM,MAAO,OAAQ,CAAC,oBAAqB,gBAAiB,KAAM,MAAO,OAAQ,CAAC,WAAY,aAAc,KAAM,MAAO,OAAQ,CAAC,UAAW,iBAAkB,KAAM,MAAO,OAAQ,CAAC,UAAW,SAAU,KAAM,MAAO,OAAQ,CAAC,OAAQ,OAAQ,KAAM,MAAO,OAAQ,CAAC,QAAS,6BAA8B,KAAM,MAAO,OAAQ,CAAC,SAAU,UAAW,KAAM,MAAO,OAAQ,CAAC,YAAa,QAAS,KAAM,MAAO,OAAQ,CAAC,SAAU,WAAY,KAAM,MAAO,OAAQ,CAAC,QAAS,0BAA2B,KAAM,MAAO,OAAQ,CAAC,UAAW,QAAS,KAAM,MAAO,OAAQ,CAAC,WAAY,QAAS,KAAM,MAAO,OAAQ,CAAC,SAAU,YAAa,KAAM,MAAO,OAAQ,CAAC,cAAe,kBAAmB,KAAM,MAAO,OAAQ,CAAC,UAAW,wBAAyB,KAAM,MAAO,OAAQ,CAAC,OAAQ,UAAW,KAAM,MAAO,OAAQ,CAAC,WAAY,oBAAqB,KAAM,MAAO,OAAQ,CAAC,UAAW,UAAY,KAAM,MAAO,OAAQ,CAAC,UAAW,qBAAsB,KAAM,MAAO,OAAQ,CAAC,YAAa,SAAU,KAAM,MAAO,OAAQ,CAAC,SAAU,SAAU,KAAM,MAAO,OAAQ,CAAC,OAAQ,WAAY,KAAM,MAAO,OAAQ,CAAC,QAAS,UAAW,KAAM,MAAO,OAAQ,CAAC,UAAW,gBAAiB,KAAM,MAAO,OAAQ,CAAC,UAAW,kBAAmB,KAAM,MAAO,OAAQ,CAAC,WAAY,kBAAmB,KAAM,MAAO,OAAQ,CAAC,YAAa,aAAc,KAAM,MAAO,OAAQ,CAAC,QAAS,eAAgB,KAAM,MAAO,OAAQ,CAAC,iBAAkB,OAAQ,KAAM,MAAO,OAAQ,CAAC,UAAW,oBAAqB,KAAM,MAAO,OAAQ,CAAC,YAAa,QAAS,KAAM,MAAO,OAAQ,CAAC,UAAW,YAAa,KAAM,MAAO,OAAQ,CAAC,QAAS,yBAA0B,KAAM,MAAO,OAAQ,CAAC,iBAAkB,wBAAyB,KAAM,MAAO,OAAQ,CAAC,UAAW,UAAW,KAAM,MAAO,OAAQ,CAAC,mBAAoB,eAAgB,KAAM,MAAO,OAAQ,CAAC,oBAAqB,gBAAiB,KAAM,MAAO,OAAQ,CAAC,aAAc,mBAAoB,KAAM,MAAO,OAAQ,CAAC,MAAO,MAAO,KAAM,MAAO,OAAQ,CAAC,YAAa,YAAa,KAAM,MAAO,OAAQ,CAAC,cAAe,cAAe,KAAM,MAAO,OAAQ,CAAC,cAAe,4DAA6D,KAAM,MAAO,OAAQ,CAAC,MAAO,MAAO,KAAM,MAAO,OAAQ,CAAC,UAAW,UAAW,KAAM,MAAO,OAAQ,CAAC,mBAAoB,UAAW,KAAM,MAAO,OAAQ,CAAC,kBAAmB,QAAS,KAAM,MAAO,OAAQ,CAAC,WAAY,YAAa,KAAM,MAAO,OAAQ,CAAC,mFAAoF,mBAAoB,KAAM,MAAO,OAAQ,CAAC,OAAQ,OAAQ,KAAM,MAAO,OAAQ,CAAC,UAAW,SAAU,KAAM,MAAO,OAAQ,CAAC,QAAS,wBAAyB,KAAM,MAAO,OAAQ,CAAC,WAAY,UAAW,KAAM,MAAO,OAAQ,CAAC,QAAS,UAAW,KAAM,MAAO,OAAQ,CAAC,UAAW,UAAW,KAAM,MAAO,OAAQ,CAAC,gBAAiB,aAAc,KAAM,MAAO,OAAQ,CAAC,UAAW,+BAAgC,KAAM,MAAO,OAAQ,CAAC,QAAS,QAAS,KAAM,MAAO,OAAQ,CAAC,gBAAiB,aAAc,KAAM,MAAO,OAAQ,CAAC,QAAS,iBAAkB,KAAM,MAAO,OAAQ,CAAC,QAAS,eAAgB,KAAM,MAAO,OAAQ,CAAC,UAAW,QAAS,KAAM,MAAO,OAAQ,CAAC,eAAgB,SAAU,KAAM,MAAO,OAAQ,CAAC,QAAS,WAAY,KAAM,MAAO,OAAQ,CAAC,gBAAiB,6BAA8B,KAAM,MAAO,OAAQ,CAAC,kBAAmB,QAAS,KAAM,MAAO,OAAQ,CAAC,UAAW,QAAS,KAAM,MAAO,OAAQ,CAAC,SAAU,2BAA4B,KAAM,MAAO,OAAQ,CAAC,YAAa,uBAAwB,KAAM,MAAO,OAAQ,CAAC,OAAQ,SAAU,KAAM,MAAO,OAAQ,CAAC,YAAa,YAAa,KAAM,MAAO,OAAQ,CAAC,UAAW,OAAQ,KAAM,MAAO,OAAQ,CAAC,YAAa,WAAY,KAAM,MAAO,OAAQ,CAAC,WAAY,UAAW,KAAM,MAAO,OAAQ,CAAC,UAAW,aAAc,KAAM,MAAO,OAAQ,CAAC,UAAW,eAAgB,KAAM,MAAO,OAAQ,CAAC,SAAU,mBAAoB,KAAM,MAAO,OAAQ,CAAC,aAAc,kBAAmB,KAAM,MAAO,OAAQ,CAAC,UAAW,iBAAkB,KAAM,MAAO,OAAQ,CAAC,SAAU,YAAa,KAAM,MAAO,OAAQ,CAAC,YAAa,iBAAkB,KAAM,MAAO,OAAQ,CAAC,UAAW,QAAS,KAAM,MAAO,OAAQ,CAAC,qBAAsB,mBAAoB,KAAM,MAAO,OAAQ,CAAC,WAAY,UAAW,KAAM,MAAO,OAAQ,CAAC,UAAW,eAAgB,KAAM,MAAO,OAAQ,CAAC,0BAA2B,sBAAuB,KAAM,MAAO,OAAQ,CAAC,UAAW,cAAe,KAAM,MAAO,OAAQ,CAAC,UAAW,WAAY,KAAM,MAAO,OAAQ,CAAC,WAAY,sBAAuB,KAAM,MAAO,OAAQ,CAAC,WAAY,iBAAkB,KAAM,MAAO,OAAQ,CAAC,QAAS,uBAAwB,KAAM,MAAO,OAAQ,CAAC,SAAU,QAAS,KAAM,MAAO,OAAQ,CAAC,6BAA8B,SAAU,KAAM,MAAO,OAAQ,CAAC,iBAAkB,qBAAsB,KAAM,MAAO,OAAQ,CAAC,WAAY,SAAU,KAAM,MAAO,OAAQ,CAAC,UAAW,UAAW,KAAM,MAAO,OAAQ,CAAC,MAAO,SAAU,KAAM,MAAO,OAAQ,CAAC,UAAW,WAAY,KAAM,MAAO,OAAQ,CAAC,SAAU,gBAAiB,KAAM,MAAO,OAAQ,CAAC,UAAW,sBAAuB,KAAM,MAAO,OAAQ,CAAC,SAAU,6BAA8B,KAAM,MAAO,OAAQ,CAAC,WAAY,SAAU,KAAM,MAAO,OAAQ,CAAC,WAAY,UAAW,KAAM,MAAO,OAAQ,CAAC,SAAU,UAAW,KAAM,MAAO,OAAQ,CAAC,iBAAkB,WAAY,KAAM,MAAO,OAAQ,CAAC,WAAY,UAAW,KAAM,MAAO,OAAQ,CAAC,0BAA2B,iBAAkB,KAAM,MAAO,OAAQ,CAAC,QAAS,iBAAkB,KAAM,MAAO,OAAQ,CAAC,SAAU,aAAc,KAAM,MAAO,OAAQ,CAAC,QAAS,gBAAiB,KAAM,MAAO,OAAQ,CAAC,YAAa,YAAa,KAAM,MAAO,OAAQ,CAAC,YAAa,SAAU,KAAM,MAAO,OAAQ,CAAC,QAAS,UAAW,KAAM,MAAO,OAAQ,CAAC,OAAQ,aAAc,KAAM,MAAO,OAAQ,CAAC,YAAa,WAAY,KAAM,MAAO,OAAQ,CAAC,UAAW,WAAY,KAAM,MAAO,OAAQ,CAAC,WAAY,aAAc,KAAM,MAAO,OAAQ,CAAC,WAAY,kBAAmB,KAAM,MAAO,OAAQ,CAAC,2BAA4B,iCAAkC,KAAM,MAAO,OAAQ,CAAC,UAAW,QAAS,KAAM,MAAO,OAAQ,CAAC,WAAY,mBAAoB,KAAM,MAAO,OAAQ,CAAC,SAAU,aAAc,KAAM,MAAO,OAAQ,CAAC,iBAAkB,SAAU,KAAM,MAAO,OAAQ,CAAC,cAAe,eAAgB,KAAM,MAAO,OAAQ,CAAC,kBAAmB,wBAAyB,KAAM,MAAO,OAAQ,CAAC,SAAU,MAAO,KAAM,MAAO,OAAQ,CAAC,qBAAsB,WAAY,KAAM,MAAO,OAAQ,CAAC,+BAAgC,iBAAkB,KAAM,MAAO,OAAQ,CAAC,QAAS,UAAW,KAAM,MAAO,OAAQ,CAAC,mCAAoC,WAAY,KAAM,MAAO,OAAQ,CAAC,UAAW,UAAW,KAAM,MAAO,OAAQ,CAAC,MAAO,UAAW,KAAM,MAAO,OAAQ,CAAC,aAAc,iBAAkB,KAAM,MAAO,OAAQ,CAAC,OAAQ,gBAAiB,KAAM,MAAO,OAAQ,CAAC,aAAc,mBAAoB,KAAM,MAAO,OAAQ,CAAC,YAAa,SAAU,KAAM,MAAO,OAAQ,CAAC,UAAW,QAAS,KAAM,MAAO,OAAQ,CAAC,cAAe,eAAgB,KAAM,MAAO,OAAQ,CAAC,iBAAkB,cAAe,KAAM,MAAO,OAAQ,CAAC,SAAU,SAAU,KAAM,MAAO,OAAQ,CAAC,SAAU,SAAU,KAAM,MAAO,OAAQ,CAAC,UAAW,sBAAwB,KAAM,MAAO,OAAQ,CAAC,oBAAqB,aAAc,KAAM,MAAO,OAAQ,CAAC,mBAAoB,SAAU,KAAM,MAAO,OAAQ,CAAC,SAAU,4BAA6B,KAAM,MAAO,OAAQ,CAAC,aAAc,YAAa,KAAM,MAAO,OAAQ,CAAC,UAAW,qBAAsB,KAAM,MAAO,OAAQ,CAAC,UAAW,UAAW,KAAM,MAAO,OAAQ,CAAC,SAAU,uBAAwB,KAAM,MAAO,OAAQ,CAAC,gBAAiB,kBAAmB,KAAM,MAAO,OAAQ,CAAC,SAAU,oBAAsB,KAAM,MAAO,OAAQ,CAAC,QAAS,iBAAkB,KAAM,MAAO,OAAQ,CAAC,0BAA2B,WAAY,KAAM,MAAO,OAAQ,CAAC,QAAS,WAAY,KAAM,MAAO,OAAQ,CAAC,qBAAsB,QAAS,KAAM,MAAO,OAAQ,CAAC,SAAU,8BAA+B,KAAM,MAAO,OAAQ,CAAC,SAAU,0BAA2B,KAAM,MAAO,OAAQ,CAAC,iBAAkB,UAAW,KAAM,MAAO,OAAQ,CAAC,qBAAsB,UAAW,KAAM,MAAO,OAAQ,CAAC,YAAa,aAAc,KAAM,MAAO,OAAQ,CAAC,UAAW,UAAW,KAAM,MAAO,OAAQ,CAAC,QAAS,QAAS,KAAM,MAAO,OAAQ,CAAC,SAAU,SAAU,KAAM,MAAO,OAAQ,CAAC,QAAS,0BAA2B,KAAM,MAAO,OAAQ,CAAC,OAAQ,MAAO,KAAM,MAAO,OAAQ,CAAC,WAAY,OAAQ,KAAM,MAAO,OAAQ,CAAC,UAAW,mBAAoB,KAAM,MAAO,OAAQ,CAAC,SAAU,WAAY,KAAM,MAAO,OAAQ,CAAC,yBAA0B,aAAc,KAAM,MAAO,OAAQ,CAAC,UAAW,SAAU,KAAM,MAAO,OAAQ,CAAC,SAAU,WAAY,KAAM,MAAO,OAAQ,CAAC,QAAS,yBAA0B,KAAM,MAAO,OAAQ,CAAC,iBAAkB,uBAAwB,KAAM,MAAO,OAAQ,CAAC,YAAa,aAAc,KAAM,MAAO,OAAQ,CAAC,OAAQ,OAAQ,KAAM,MAAO,OAAQ,CAAC,QAAS,YAAa,KAAM,MAAO,OAAQ,CAAC,aAAc,aAAc,KAAM,MAAO,OAAQ,CAAC,UAAW,QAAS,KAAM,MAAO,OAAQ,CAAC,QAAS,UAAW,KAAM,MAAO,OAAQ,CAAC,QAAS,SAAU,KAAM,MAAO,OAAQ,CAAC,QAAS,WAAY,KAAM,MAAO,OAAQ,CAAC,SAAU,SAAU,KAAM,MAAO,OAAQ,CAAC,OAAQ,UAAW,KAAM,MAAO,U","file":"plugins/plugin.text_selection.js","sourcesContent":["//@ts-check\nimport { isFirefox } from './tts/utils';\n\nconst BookReader = /** @type {typeof import('../BookReader').default} */(window.BookReader);\n\nexport class TextSelectionPlugin {\n\n  constructor(avoidTspans = isFirefox()) {\n    /**@type {PromiseLike<JQuery<HTMLElement>|undefined>} */\n    this.djvuPagesPromise = null;\n    // Using text elements insted of tspans for words because Firefox does not allow svg tspan strech.\n    // Tspans are necessary on Chrome because they prevent newline character after every word when copying\n    this.svgParagraphElement = \"text\";\n    this.svgWordElement = \"tspan\";\n    this.insertNewlines = avoidTspans;\n    if(avoidTspans) {\n      this.svgParagraphElement = \"g\";\n      this.svgWordElement = \"text\";\n    }\n  }\n\n  /**\n   * @param {string} ocaid\n   */\n  init(ocaid) {\n    this.djvuPagesPromise = $.ajax({\n      type: \"GET\",\n      url: `https://cors.archive.org/cors/${ocaid}/${ocaid}_djvu.xml`,\n      dataType: \"xml\",\n\n      error: function (e) {\n        return undefined;\n      }\n    }).then(xmlMap  => xmlMap && $(xmlMap).find(\"OBJECT\"));\n  }\n\n  /**\n   * @param {number} index\n   * @returns {Promise<HTMLElement|undefined>}\n   */\n  async getPageText(index) {\n    const XMLpagesArr = await this.djvuPagesPromise;\n    if (XMLpagesArr) return XMLpagesArr[index];\n  }\n\n  /**\n   * Intercept copied text to remove any styling applied to it\n   * @param {JQuery} $container\n   */\n  interceptCopy($container) {\n    $container[0].addEventListener('copy', (event) => {\n      const selection = document.getSelection();\n      event.clipboardData.setData('text/plain', selection.toString());\n      event.preventDefault();\n    });\n  }\n\n  /**\n   * Applies mouse events when in default mode\n   * @param {SVGElement} svg\n   */\n  defaultMode(svg) {\n    svg.classList.remove(\"selectingSVG\");\n    $(svg).on(\"mousedown.textSelectPluginHandler\", (event) => {\n      if (!$(event.target).is(\".BRwordElement\")) return;\n      event.stopPropagation();\n      svg.classList.add(\"selectingSVG\");\n      $(svg).one(\"mouseup.textSelectPluginHandler\", (event) => {\n        if (window.getSelection().toString() != \"\") {\n          event.stopPropagation();\n          $(svg).off(\".textSelectPluginHandler\");\n          this.textSelectingMode(svg);\n        }\n        else svg.classList.remove(\"selectingSVG\");\n      });\n    });\n  }\n\n  /**\n   * Applies mouse events when in textSelecting mode\n   * @param {SVGElement} svg\n   */\n  textSelectingMode(svg) {\n    $(svg).on('mousedown.textSelectPluginHandler', (event) => {\n      if (!$(event.target).is(\".BRwordElement\")) {\n        if(window.getSelection().toString() != \"\") window.getSelection().removeAllRanges();\n      }\n      event.stopPropagation();\n    });\n    $(svg).on('mouseup.textSelectPluginHandler', (event) => {\n      event.stopPropagation();\n      if(window.getSelection().toString() == \"\") {\n        $(svg).off(\".textSelectPluginHandler\");\n        this.defaultMode(svg);      }\n    });\n  }\n\n  /**\n   * Initializes text selection modes if there is an svg on the page\n   * @param {JQuery} $container\n   */\n  stopPageFlip($container) {\n    /** @type {JQuery<SVGElement>} */\n    const $svg = $container.find('svg.textSelectionSVG');\n    if(!$svg.length) return;\n    $svg.each((i, s) => this.defaultMode(s));\n    this.interceptCopy($container);\n  }\n\n  /**\n   * @param {number} pageIndex\n   * @param {JQuery} $container\n   */\n  async createTextLayer(pageIndex, $container) {\n    const $svgLayers = $container.find('.textSelectionSVG');\n    if ($svgLayers.length) return;\n    const XMLpage = await this.getPageText(pageIndex);\n    if(!XMLpage) return;\n    const XMLwidth = $(XMLpage).attr(\"width\");\n    const XMLheight = $(XMLpage).attr(\"height\");\n\n    const svg = document.createElementNS(\"http://www.w3.org/2000/svg\", \"svg\");\n    svg.setAttribute(\"xmlns\", \"http://www.w3.org/2000/svg\");\n    svg.setAttribute(\"viewBox\", `0 0 ${XMLwidth} ${XMLheight}`);\n    $container.append(svg);\n    svg.setAttribute('class', 'textSelectionSVG');\n    svg.setAttribute('preserveAspectRatio', 'none');\n    $(svg).css({\n      \"width\": \"100%\",\n      \"position\": \"absolute\",\n      \"height\": \"100%\",\n      \"top\": \"0\",\n      \"left\": \"0\",\n    });\n\n    $(XMLpage).find(\"PARAGRAPH\").each((i, paragraph) => {\n      // Adding text element for each paragraph in the page\n      const words = $(paragraph).find(\"WORD\");\n      if (!words.length) return;\n      const paragSvg = document.createElementNS(\"http://www.w3.org/2000/svg\", this.svgParagraphElement);\n      paragSvg.setAttribute(\"class\", \"BRparagElement\");\n\n      const wordHeightArr = [];\n\n      for(let i = 0; i < words.length; i++) {\n        // Adding tspan for each word in paragraph\n        const currWord = words[i];\n        // eslint-disable-next-line no-unused-vars\n        const [left, bottom, right, top] = $(currWord).attr(\"coords\").split(',').map(parseFloat);\n        const wordHeight = bottom - top;\n        wordHeightArr.push(wordHeight);\n\n        const wordTspan = document.createElementNS(\"http://www.w3.org/2000/svg\", this.svgWordElement);\n        wordTspan.setAttribute(\"class\", \"BRwordElement\");\n        wordTspan.setAttribute(\"x\", left.toString());\n        wordTspan.setAttribute(\"y\", bottom.toString());\n        wordTspan.setAttribute(\"textLength\", (right - left).toString());\n        wordTspan.setAttribute(\"lengthAdjust\", \"spacingAndGlyphs\");\n        wordTspan.textContent = currWord.textContent;\n        paragSvg.appendChild(wordTspan);\n\n        // Adding spaces after words except at the end of the paragraph\n        // TODO: assumes left-to-right text\n        if(i < words.length - 1){\n          const nextWord = words[i + 1];\n          // eslint-disable-next-line no-unused-vars\n          const [leftNext, bottomNext, rightNext, topNext] = $(nextWord).attr(\"coords\").split(',').map(parseFloat);\n          const spaceTspan = document.createElementNS(\"http://www.w3.org/2000/svg\", this.svgWordElement);\n          spaceTspan.setAttribute(\"class\", \"BRwordElement\");\n          spaceTspan.setAttribute(\"x\", right.toString());\n          spaceTspan.setAttribute(\"y\", bottom.toString());\n          if((leftNext - right) > 0) spaceTspan.setAttribute(\"textLength\", (leftNext - right).toString());\n          spaceTspan.setAttribute(\"lengthAdjust\", \"spacingAndGlyphs\");\n          spaceTspan.textContent = \" \";\n          paragSvg.appendChild(spaceTspan);\n        }\n\n        // Adds newline at the end of paragraph on Firefox\n        if((i ==  words.length - 1 && (this.insertNewlines))) {\n          paragSvg.appendChild(document.createTextNode(\"\\n\"));\n        }\n      }\n\n      wordHeightArr.sort();\n      const paragWordHeight = wordHeightArr[Math.floor(wordHeightArr.length * 0.85)];\n      paragSvg.setAttribute(\"font-size\", paragWordHeight.toString());\n      svg.appendChild(paragSvg);\n    });\n    this.stopPageFlip($container);\n  }\n}\n\nexport class BookreaderWithTextSelection extends BookReader {\n  init() {\n    if(this.enableTextSelection){\n      this.textSelectionPlugin = new TextSelectionPlugin();\n      this.textSelectionPlugin.init(this.bookId);\n    }\n    super.init();\n  }\n\n  /**\n   * @param {number} index\n   */\n  _createPageContainer(index, styles = {}) {\n    const $container = super._createPageContainer(index, styles);\n    if(this.enableTextSelection){\n      this.textSelectionPlugin.createTextLayer(index, $container);\n    }\n    return $container;\n  }\n}\nwindow.BookReader = BookreaderWithTextSelection;\nexport default BookreaderWithTextSelection;\n","import langs from 'iso-language-codes/js/data.js';\n\n/**\n * Convert a EventTarget style event into a promise\n * @param {EventTarget} target\n * @param {string} eventType\n * @return {Promise<Event>}\n */\nexport function promisifyEvent(target, eventType) {\n  return new Promise(res => {\n    const resolver = ev => {\n      target.removeEventListener(eventType, resolver);\n      res(ev);\n    };\n    target.addEventListener(eventType, resolver);\n  });\n}\n\n/**\n * Use regex to approximate word count in a string\n * @param {string} text\n * @return {number}\n */\nexport function approximateWordCount(text) {\n  const m = text.match(/\\S+/g);\n  return m ? m.length : 0;\n}\n\n/**\n * Waits the provided number of ms and then resolves with a promise\n * @param {number} ms\n * @return {Promise}\n */\nexport function sleep(ms) {\n  return new Promise(res => setTimeout(res, ms));\n}\n\n/**\n * Checks whether the current browser is a Chrome/Chromium browser\n * Code from https://stackoverflow.com/a/4565120/2317712\n * @param {string} [userAgent]\n * @param {string} [vendor]\n * @return {boolean}\n */\nexport function isChrome(userAgent = navigator.userAgent, vendor = navigator.vendor) {\n  return /chrome/i.test(userAgent) && /google inc/i.test(vendor);\n}\n\n/**\n * Checks whether the current browser is firefox\n * @param {string} [userAgent]\n * @return {boolean}\n */\nexport function isFirefox(userAgent = navigator.userAgent) {\n  return /firefox/i.test(userAgent);\n}\n\n/**\n * Checks whether the current browser is on android\n * @param {string} [userAgent]\n * @return {boolean}\n */\nexport function isAndroid(userAgent = navigator.userAgent) {\n  return /android/i.test(userAgent);\n}\n\n/**\n * @typedef {string} ISO6391\n * Language code in ISO 639-1 format. e.g. en, fr, zh\n **/\n\n/** Each lang is an array, with each index mapping to a different property */\nconst COLUMN_TO_LANG_INDEX = {\n  'Name': 0,\n  'Endonym': 1,\n  'ISO 639-1': 2,\n  'ISO 639-2/T': 3,\n  'ISO 639-2/B': 4\n};\n\n/**\n * @param {string} language in some format\n * @return {ISO6391?}\n */\nexport function toISO6391(language) {\n  if (!language) return null;\n  language = language.toLowerCase();\n\n  return searchForISO6391(language, ['ISO 639-1']) ||\n    searchForISO6391(language, ['ISO 639-2/B']) ||\n    searchForISO6391(language, ['ISO 639-2/T', 'Endonym', 'Name']);\n}\n\n/**\n * Searches for the given long in the given columns.\n * @param {string} language\n * @param {Array<keyof COLUMN_TO_LANG_INDEX>} columnsToSearch\n * @return {ISO6391?}\n */\nfunction searchForISO6391(language, columnsToSearch) {\n  for (let i = 0; i < langs.length; i++) {\n    for (let colI = 0; colI < columnsToSearch.length; colI++) {\n      const column = columnsToSearch[colI];\n      const columnValue = langs[i][COLUMN_TO_LANG_INDEX[column]];\n      if (columnValue.split(', ').map(x => x.toLowerCase()).indexOf(language) != -1) {\n        return langs[i][COLUMN_TO_LANG_INDEX['ISO 639-1']];\n      }\n    }\n  }\n  return null;\n}\n","var userAgent = require('../internals/engine-user-agent');\n\nmodule.exports = /(iphone|ipod|ipad).*applewebkit/i.test(userAgent);\n","'use strict';\nvar aFunction = require('../internals/a-function');\nvar isObject = require('../internals/is-object');\n\nvar slice = [].slice;\nvar factories = {};\n\nvar construct = function (C, argsLength, args) {\n  if (!(argsLength in factories)) {\n    for (var list = [], i = 0; i < argsLength; i++) list[i] = 'a[' + i + ']';\n    // eslint-disable-next-line no-new-func\n    factories[argsLength] = Function('C,a', 'return new C(' + list.join(',') + ')');\n  } return factories[argsLength](C, args);\n};\n\n// `Function.prototype.bind` method implementation\n// https://tc39.github.io/ecma262/#sec-function.prototype.bind\nmodule.exports = Function.bind || function bind(that /* , ...args */) {\n  var fn = aFunction(this);\n  var partArgs = slice.call(arguments, 1);\n  var boundFunction = function bound(/* args... */) {\n    var args = partArgs.concat(slice.call(arguments));\n    return this instanceof boundFunction ? construct(fn, args.length, args) : fn.apply(that, args);\n  };\n  if (isObject(fn.prototype)) boundFunction.prototype = fn.prototype;\n  return boundFunction;\n};\n","var global = require('../internals/global');\n\nmodule.exports = function (a, b) {\n  var console = global.console;\n  if (console && console.error) {\n    arguments.length === 1 ? console.error(a) : console.error(a, b);\n  }\n};\n","var anObject = require('../internals/an-object');\nvar isArrayIteratorMethod = require('../internals/is-array-iterator-method');\nvar toLength = require('../internals/to-length');\nvar bind = require('../internals/function-bind-context');\nvar getIteratorMethod = require('../internals/get-iterator-method');\nvar callWithSafeIterationClosing = require('../internals/call-with-safe-iteration-closing');\n\nvar Result = function (stopped, result) {\n  this.stopped = stopped;\n  this.result = result;\n};\n\nvar iterate = module.exports = function (iterable, fn, that, AS_ENTRIES, IS_ITERATOR) {\n  var boundFunction = bind(fn, that, AS_ENTRIES ? 2 : 1);\n  var iterator, iterFn, index, length, result, next, step;\n\n  if (IS_ITERATOR) {\n    iterator = iterable;\n  } else {\n    iterFn = getIteratorMethod(iterable);\n    if (typeof iterFn != 'function') throw TypeError('Target is not iterable');\n    // optimisation for array iterators\n    if (isArrayIteratorMethod(iterFn)) {\n      for (index = 0, length = toLength(iterable.length); length > index; index++) {\n        result = AS_ENTRIES\n          ? boundFunction(anObject(step = iterable[index])[0], step[1])\n          : boundFunction(iterable[index]);\n        if (result && result instanceof Result) return result;\n      } return new Result(false);\n    }\n    iterator = iterFn.call(iterable);\n  }\n\n  next = iterator.next;\n  while (!(step = next.call(iterator)).done) {\n    result = callWithSafeIterationClosing(iterator, boundFunction, step.value, AS_ENTRIES);\n    if (typeof result == 'object' && result && result instanceof Result) return result;\n  } return new Result(false);\n};\n\niterate.stop = function (result) {\n  return new Result(true, result);\n};\n","var global = require('../internals/global');\nvar getOwnPropertyDescriptor = require('../internals/object-get-own-property-descriptor').f;\nvar classof = require('../internals/classof-raw');\nvar macrotask = require('../internals/task').set;\nvar IS_IOS = require('../internals/engine-is-ios');\n\nvar MutationObserver = global.MutationObserver || global.WebKitMutationObserver;\nvar process = global.process;\nvar Promise = global.Promise;\nvar IS_NODE = classof(process) == 'process';\n// Node.js 11 shows ExperimentalWarning on getting `queueMicrotask`\nvar queueMicrotaskDescriptor = getOwnPropertyDescriptor(global, 'queueMicrotask');\nvar queueMicrotask = queueMicrotaskDescriptor && queueMicrotaskDescriptor.value;\n\nvar flush, head, last, notify, toggle, node, promise, then;\n\n// modern engines have queueMicrotask method\nif (!queueMicrotask) {\n  flush = function () {\n    var parent, fn;\n    if (IS_NODE && (parent = process.domain)) parent.exit();\n    while (head) {\n      fn = head.fn;\n      head = head.next;\n      try {\n        fn();\n      } catch (error) {\n        if (head) notify();\n        else last = undefined;\n        throw error;\n      }\n    } last = undefined;\n    if (parent) parent.enter();\n  };\n\n  // Node.js\n  if (IS_NODE) {\n    notify = function () {\n      process.nextTick(flush);\n    };\n  // browsers with MutationObserver, except iOS - https://github.com/zloirock/core-js/issues/339\n  } else if (MutationObserver && !IS_IOS) {\n    toggle = true;\n    node = document.createTextNode('');\n    new MutationObserver(flush).observe(node, { characterData: true });\n    notify = function () {\n      node.data = toggle = !toggle;\n    };\n  // environments with maybe non-completely correct, but existent Promise\n  } else if (Promise && Promise.resolve) {\n    // Promise.resolve without an argument throws an error in LG WebOS 2\n    promise = Promise.resolve(undefined);\n    then = promise.then;\n    notify = function () {\n      then.call(promise, flush);\n    };\n  // for other environments - macrotask based on:\n  // - setImmediate\n  // - MessageChannel\n  // - window.postMessag\n  // - onreadystatechange\n  // - setTimeout\n  } else {\n    notify = function () {\n      // strange IE + webpack dev server bug - use .call(global)\n      macrotask.call(global, flush);\n    };\n  }\n}\n\nmodule.exports = queueMicrotask || function (fn) {\n  var task = { fn: fn, next: undefined };\n  if (last) last.next = task;\n  if (!head) {\n    head = task;\n    notify();\n  } last = task;\n};\n","var global = require('../internals/global');\n\nmodule.exports = global.Promise;\n","'use strict';\nvar aFunction = require('../internals/a-function');\n\nvar PromiseCapability = function (C) {\n  var resolve, reject;\n  this.promise = new C(function ($$resolve, $$reject) {\n    if (resolve !== undefined || reject !== undefined) throw TypeError('Bad Promise constructor');\n    resolve = $$resolve;\n    reject = $$reject;\n  });\n  this.resolve = aFunction(resolve);\n  this.reject = aFunction(reject);\n};\n\n// 25.4.1.5 NewPromiseCapability(C)\nmodule.exports.f = function (C) {\n  return new PromiseCapability(C);\n};\n","module.exports = function (exec) {\n  try {\n    return { error: false, value: exec() };\n  } catch (error) {\n    return { error: true, value: error };\n  }\n};\n","var anObject = require('../internals/an-object');\nvar isObject = require('../internals/is-object');\nvar newPromiseCapability = require('../internals/new-promise-capability');\n\nmodule.exports = function (C, x) {\n  anObject(C);\n  if (isObject(x) && x.constructor === C) return x;\n  var promiseCapability = newPromiseCapability.f(C);\n  var resolve = promiseCapability.resolve;\n  resolve(x);\n  return promiseCapability.promise;\n};\n","'use strict';\nvar getBuiltIn = require('../internals/get-built-in');\nvar definePropertyModule = require('../internals/object-define-property');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\nvar DESCRIPTORS = require('../internals/descriptors');\n\nvar SPECIES = wellKnownSymbol('species');\n\nmodule.exports = function (CONSTRUCTOR_NAME) {\n  var Constructor = getBuiltIn(CONSTRUCTOR_NAME);\n  var defineProperty = definePropertyModule.f;\n\n  if (DESCRIPTORS && Constructor && !Constructor[SPECIES]) {\n    defineProperty(Constructor, SPECIES, {\n      configurable: true,\n      get: function () { return this; }\n    });\n  }\n};\n","var global = require('../internals/global');\nvar fails = require('../internals/fails');\nvar classof = require('../internals/classof-raw');\nvar bind = require('../internals/function-bind-context');\nvar html = require('../internals/html');\nvar createElement = require('../internals/document-create-element');\nvar IS_IOS = require('../internals/engine-is-ios');\n\nvar location = global.location;\nvar set = global.setImmediate;\nvar clear = global.clearImmediate;\nvar process = global.process;\nvar MessageChannel = global.MessageChannel;\nvar Dispatch = global.Dispatch;\nvar counter = 0;\nvar queue = {};\nvar ONREADYSTATECHANGE = 'onreadystatechange';\nvar defer, channel, port;\n\nvar run = function (id) {\n  // eslint-disable-next-line no-prototype-builtins\n  if (queue.hasOwnProperty(id)) {\n    var fn = queue[id];\n    delete queue[id];\n    fn();\n  }\n};\n\nvar runner = function (id) {\n  return function () {\n    run(id);\n  };\n};\n\nvar listener = function (event) {\n  run(event.data);\n};\n\nvar post = function (id) {\n  // old engines have not location.origin\n  global.postMessage(id + '', location.protocol + '//' + location.host);\n};\n\n// Node.js 0.9+ & IE10+ has setImmediate, otherwise:\nif (!set || !clear) {\n  set = function setImmediate(fn) {\n    var args = [];\n    var i = 1;\n    while (arguments.length > i) args.push(arguments[i++]);\n    queue[++counter] = function () {\n      // eslint-disable-next-line no-new-func\n      (typeof fn == 'function' ? fn : Function(fn)).apply(undefined, args);\n    };\n    defer(counter);\n    return counter;\n  };\n  clear = function clearImmediate(id) {\n    delete queue[id];\n  };\n  // Node.js 0.8-\n  if (classof(process) == 'process') {\n    defer = function (id) {\n      process.nextTick(runner(id));\n    };\n  // Sphere (JS game engine) Dispatch API\n  } else if (Dispatch && Dispatch.now) {\n    defer = function (id) {\n      Dispatch.now(runner(id));\n    };\n  // Browsers with MessageChannel, includes WebWorkers\n  // except iOS - https://github.com/zloirock/core-js/issues/624\n  } else if (MessageChannel && !IS_IOS) {\n    channel = new MessageChannel();\n    port = channel.port2;\n    channel.port1.onmessage = listener;\n    defer = bind(port.postMessage, port, 1);\n  // Browsers with postMessage, skip WebWorkers\n  // IE8 has postMessage, but it's sync & typeof its postMessage is 'object'\n  } else if (\n    global.addEventListener &&\n    typeof postMessage == 'function' &&\n    !global.importScripts &&\n    !fails(post) &&\n    location.protocol !== 'file:'\n  ) {\n    defer = post;\n    global.addEventListener('message', listener, false);\n  // IE8-\n  } else if (ONREADYSTATECHANGE in createElement('script')) {\n    defer = function (id) {\n      html.appendChild(createElement('script'))[ONREADYSTATECHANGE] = function () {\n        html.removeChild(this);\n        run(id);\n      };\n    };\n  // Rest old browsers\n  } else {\n    defer = function (id) {\n      setTimeout(runner(id), 0);\n    };\n  }\n}\n\nmodule.exports = {\n  set: set,\n  clear: clear\n};\n","var $ = require('../internals/export');\nvar fails = require('../internals/fails');\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar nativeGetOwnPropertyDescriptor = require('../internals/object-get-own-property-descriptor').f;\nvar DESCRIPTORS = require('../internals/descriptors');\n\nvar FAILS_ON_PRIMITIVES = fails(function () { nativeGetOwnPropertyDescriptor(1); });\nvar FORCED = !DESCRIPTORS || FAILS_ON_PRIMITIVES;\n\n// `Object.getOwnPropertyDescriptor` method\n// https://tc39.github.io/ecma262/#sec-object.getownpropertydescriptor\n$({ target: 'Object', stat: true, forced: FORCED, sham: !DESCRIPTORS }, {\n  getOwnPropertyDescriptor: function getOwnPropertyDescriptor(it, key) {\n    return nativeGetOwnPropertyDescriptor(toIndexedObject(it), key);\n  }\n});\n","var $ = require('../internals/export');\nvar fails = require('../internals/fails');\nvar toObject = require('../internals/to-object');\nvar nativeGetPrototypeOf = require('../internals/object-get-prototype-of');\nvar CORRECT_PROTOTYPE_GETTER = require('../internals/correct-prototype-getter');\n\nvar FAILS_ON_PRIMITIVES = fails(function () { nativeGetPrototypeOf(1); });\n\n// `Object.getPrototypeOf` method\n// https://tc39.github.io/ecma262/#sec-object.getprototypeof\n$({ target: 'Object', stat: true, forced: FAILS_ON_PRIMITIVES, sham: !CORRECT_PROTOTYPE_GETTER }, {\n  getPrototypeOf: function getPrototypeOf(it) {\n    return nativeGetPrototypeOf(toObject(it));\n  }\n});\n\n","'use strict';\nvar $ = require('../internals/export');\nvar IS_PURE = require('../internals/is-pure');\nvar global = require('../internals/global');\nvar getBuiltIn = require('../internals/get-built-in');\nvar NativePromise = require('../internals/native-promise-constructor');\nvar redefine = require('../internals/redefine');\nvar redefineAll = require('../internals/redefine-all');\nvar setToStringTag = require('../internals/set-to-string-tag');\nvar setSpecies = require('../internals/set-species');\nvar isObject = require('../internals/is-object');\nvar aFunction = require('../internals/a-function');\nvar anInstance = require('../internals/an-instance');\nvar classof = require('../internals/classof-raw');\nvar inspectSource = require('../internals/inspect-source');\nvar iterate = require('../internals/iterate');\nvar checkCorrectnessOfIteration = require('../internals/check-correctness-of-iteration');\nvar speciesConstructor = require('../internals/species-constructor');\nvar task = require('../internals/task').set;\nvar microtask = require('../internals/microtask');\nvar promiseResolve = require('../internals/promise-resolve');\nvar hostReportErrors = require('../internals/host-report-errors');\nvar newPromiseCapabilityModule = require('../internals/new-promise-capability');\nvar perform = require('../internals/perform');\nvar InternalStateModule = require('../internals/internal-state');\nvar isForced = require('../internals/is-forced');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\nvar V8_VERSION = require('../internals/engine-v8-version');\n\nvar SPECIES = wellKnownSymbol('species');\nvar PROMISE = 'Promise';\nvar getInternalState = InternalStateModule.get;\nvar setInternalState = InternalStateModule.set;\nvar getInternalPromiseState = InternalStateModule.getterFor(PROMISE);\nvar PromiseConstructor = NativePromise;\nvar TypeError = global.TypeError;\nvar document = global.document;\nvar process = global.process;\nvar $fetch = getBuiltIn('fetch');\nvar newPromiseCapability = newPromiseCapabilityModule.f;\nvar newGenericPromiseCapability = newPromiseCapability;\nvar IS_NODE = classof(process) == 'process';\nvar DISPATCH_EVENT = !!(document && document.createEvent && global.dispatchEvent);\nvar UNHANDLED_REJECTION = 'unhandledrejection';\nvar REJECTION_HANDLED = 'rejectionhandled';\nvar PENDING = 0;\nvar FULFILLED = 1;\nvar REJECTED = 2;\nvar HANDLED = 1;\nvar UNHANDLED = 2;\nvar Internal, OwnPromiseCapability, PromiseWrapper, nativeThen;\n\nvar FORCED = isForced(PROMISE, function () {\n  var GLOBAL_CORE_JS_PROMISE = inspectSource(PromiseConstructor) !== String(PromiseConstructor);\n  if (!GLOBAL_CORE_JS_PROMISE) {\n    // V8 6.6 (Node 10 and Chrome 66) have a bug with resolving custom thenables\n    // https://bugs.chromium.org/p/chromium/issues/detail?id=830565\n    // We can't detect it synchronously, so just check versions\n    if (V8_VERSION === 66) return true;\n    // Unhandled rejections tracking support, NodeJS Promise without it fails @@species test\n    if (!IS_NODE && typeof PromiseRejectionEvent != 'function') return true;\n  }\n  // We need Promise#finally in the pure version for preventing prototype pollution\n  if (IS_PURE && !PromiseConstructor.prototype['finally']) return true;\n  // We can't use @@species feature detection in V8 since it causes\n  // deoptimization and performance degradation\n  // https://github.com/zloirock/core-js/issues/679\n  if (V8_VERSION >= 51 && /native code/.test(PromiseConstructor)) return false;\n  // Detect correctness of subclassing with @@species support\n  var promise = PromiseConstructor.resolve(1);\n  var FakePromise = function (exec) {\n    exec(function () { /* empty */ }, function () { /* empty */ });\n  };\n  var constructor = promise.constructor = {};\n  constructor[SPECIES] = FakePromise;\n  return !(promise.then(function () { /* empty */ }) instanceof FakePromise);\n});\n\nvar INCORRECT_ITERATION = FORCED || !checkCorrectnessOfIteration(function (iterable) {\n  PromiseConstructor.all(iterable)['catch'](function () { /* empty */ });\n});\n\n// helpers\nvar isThenable = function (it) {\n  var then;\n  return isObject(it) && typeof (then = it.then) == 'function' ? then : false;\n};\n\nvar notify = function (promise, state, isReject) {\n  if (state.notified) return;\n  state.notified = true;\n  var chain = state.reactions;\n  microtask(function () {\n    var value = state.value;\n    var ok = state.state == FULFILLED;\n    var index = 0;\n    // variable length - can't use forEach\n    while (chain.length > index) {\n      var reaction = chain[index++];\n      var handler = ok ? reaction.ok : reaction.fail;\n      var resolve = reaction.resolve;\n      var reject = reaction.reject;\n      var domain = reaction.domain;\n      var result, then, exited;\n      try {\n        if (handler) {\n          if (!ok) {\n            if (state.rejection === UNHANDLED) onHandleUnhandled(promise, state);\n            state.rejection = HANDLED;\n          }\n          if (handler === true) result = value;\n          else {\n            if (domain) domain.enter();\n            result = handler(value); // can throw\n            if (domain) {\n              domain.exit();\n              exited = true;\n            }\n          }\n          if (result === reaction.promise) {\n            reject(TypeError('Promise-chain cycle'));\n          } else if (then = isThenable(result)) {\n            then.call(result, resolve, reject);\n          } else resolve(result);\n        } else reject(value);\n      } catch (error) {\n        if (domain && !exited) domain.exit();\n        reject(error);\n      }\n    }\n    state.reactions = [];\n    state.notified = false;\n    if (isReject && !state.rejection) onUnhandled(promise, state);\n  });\n};\n\nvar dispatchEvent = function (name, promise, reason) {\n  var event, handler;\n  if (DISPATCH_EVENT) {\n    event = document.createEvent('Event');\n    event.promise = promise;\n    event.reason = reason;\n    event.initEvent(name, false, true);\n    global.dispatchEvent(event);\n  } else event = { promise: promise, reason: reason };\n  if (handler = global['on' + name]) handler(event);\n  else if (name === UNHANDLED_REJECTION) hostReportErrors('Unhandled promise rejection', reason);\n};\n\nvar onUnhandled = function (promise, state) {\n  task.call(global, function () {\n    var value = state.value;\n    var IS_UNHANDLED = isUnhandled(state);\n    var result;\n    if (IS_UNHANDLED) {\n      result = perform(function () {\n        if (IS_NODE) {\n          process.emit('unhandledRejection', value, promise);\n        } else dispatchEvent(UNHANDLED_REJECTION, promise, value);\n      });\n      // Browsers should not trigger `rejectionHandled` event if it was handled here, NodeJS - should\n      state.rejection = IS_NODE || isUnhandled(state) ? UNHANDLED : HANDLED;\n      if (result.error) throw result.value;\n    }\n  });\n};\n\nvar isUnhandled = function (state) {\n  return state.rejection !== HANDLED && !state.parent;\n};\n\nvar onHandleUnhandled = function (promise, state) {\n  task.call(global, function () {\n    if (IS_NODE) {\n      process.emit('rejectionHandled', promise);\n    } else dispatchEvent(REJECTION_HANDLED, promise, state.value);\n  });\n};\n\nvar bind = function (fn, promise, state, unwrap) {\n  return function (value) {\n    fn(promise, state, value, unwrap);\n  };\n};\n\nvar internalReject = function (promise, state, value, unwrap) {\n  if (state.done) return;\n  state.done = true;\n  if (unwrap) state = unwrap;\n  state.value = value;\n  state.state = REJECTED;\n  notify(promise, state, true);\n};\n\nvar internalResolve = function (promise, state, value, unwrap) {\n  if (state.done) return;\n  state.done = true;\n  if (unwrap) state = unwrap;\n  try {\n    if (promise === value) throw TypeError(\"Promise can't be resolved itself\");\n    var then = isThenable(value);\n    if (then) {\n      microtask(function () {\n        var wrapper = { done: false };\n        try {\n          then.call(value,\n            bind(internalResolve, promise, wrapper, state),\n            bind(internalReject, promise, wrapper, state)\n          );\n        } catch (error) {\n          internalReject(promise, wrapper, error, state);\n        }\n      });\n    } else {\n      state.value = value;\n      state.state = FULFILLED;\n      notify(promise, state, false);\n    }\n  } catch (error) {\n    internalReject(promise, { done: false }, error, state);\n  }\n};\n\n// constructor polyfill\nif (FORCED) {\n  // 25.4.3.1 Promise(executor)\n  PromiseConstructor = function Promise(executor) {\n    anInstance(this, PromiseConstructor, PROMISE);\n    aFunction(executor);\n    Internal.call(this);\n    var state = getInternalState(this);\n    try {\n      executor(bind(internalResolve, this, state), bind(internalReject, this, state));\n    } catch (error) {\n      internalReject(this, state, error);\n    }\n  };\n  // eslint-disable-next-line no-unused-vars\n  Internal = function Promise(executor) {\n    setInternalState(this, {\n      type: PROMISE,\n      done: false,\n      notified: false,\n      parent: false,\n      reactions: [],\n      rejection: false,\n      state: PENDING,\n      value: undefined\n    });\n  };\n  Internal.prototype = redefineAll(PromiseConstructor.prototype, {\n    // `Promise.prototype.then` method\n    // https://tc39.github.io/ecma262/#sec-promise.prototype.then\n    then: function then(onFulfilled, onRejected) {\n      var state = getInternalPromiseState(this);\n      var reaction = newPromiseCapability(speciesConstructor(this, PromiseConstructor));\n      reaction.ok = typeof onFulfilled == 'function' ? onFulfilled : true;\n      reaction.fail = typeof onRejected == 'function' && onRejected;\n      reaction.domain = IS_NODE ? process.domain : undefined;\n      state.parent = true;\n      state.reactions.push(reaction);\n      if (state.state != PENDING) notify(this, state, false);\n      return reaction.promise;\n    },\n    // `Promise.prototype.catch` method\n    // https://tc39.github.io/ecma262/#sec-promise.prototype.catch\n    'catch': function (onRejected) {\n      return this.then(undefined, onRejected);\n    }\n  });\n  OwnPromiseCapability = function () {\n    var promise = new Internal();\n    var state = getInternalState(promise);\n    this.promise = promise;\n    this.resolve = bind(internalResolve, promise, state);\n    this.reject = bind(internalReject, promise, state);\n  };\n  newPromiseCapabilityModule.f = newPromiseCapability = function (C) {\n    return C === PromiseConstructor || C === PromiseWrapper\n      ? new OwnPromiseCapability(C)\n      : newGenericPromiseCapability(C);\n  };\n\n  if (!IS_PURE && typeof NativePromise == 'function') {\n    nativeThen = NativePromise.prototype.then;\n\n    // wrap native Promise#then for native async functions\n    redefine(NativePromise.prototype, 'then', function then(onFulfilled, onRejected) {\n      var that = this;\n      return new PromiseConstructor(function (resolve, reject) {\n        nativeThen.call(that, resolve, reject);\n      }).then(onFulfilled, onRejected);\n    // https://github.com/zloirock/core-js/issues/640\n    }, { unsafe: true });\n\n    // wrap fetch result\n    if (typeof $fetch == 'function') $({ global: true, enumerable: true, forced: true }, {\n      // eslint-disable-next-line no-unused-vars\n      fetch: function fetch(input /* , init */) {\n        return promiseResolve(PromiseConstructor, $fetch.apply(global, arguments));\n      }\n    });\n  }\n}\n\n$({ global: true, wrap: true, forced: FORCED }, {\n  Promise: PromiseConstructor\n});\n\nsetToStringTag(PromiseConstructor, PROMISE, false, true);\nsetSpecies(PROMISE);\n\nPromiseWrapper = getBuiltIn(PROMISE);\n\n// statics\n$({ target: PROMISE, stat: true, forced: FORCED }, {\n  // `Promise.reject` method\n  // https://tc39.github.io/ecma262/#sec-promise.reject\n  reject: function reject(r) {\n    var capability = newPromiseCapability(this);\n    capability.reject.call(undefined, r);\n    return capability.promise;\n  }\n});\n\n$({ target: PROMISE, stat: true, forced: IS_PURE || FORCED }, {\n  // `Promise.resolve` method\n  // https://tc39.github.io/ecma262/#sec-promise.resolve\n  resolve: function resolve(x) {\n    return promiseResolve(IS_PURE && this === PromiseWrapper ? PromiseConstructor : this, x);\n  }\n});\n\n$({ target: PROMISE, stat: true, forced: INCORRECT_ITERATION }, {\n  // `Promise.all` method\n  // https://tc39.github.io/ecma262/#sec-promise.all\n  all: function all(iterable) {\n    var C = this;\n    var capability = newPromiseCapability(C);\n    var resolve = capability.resolve;\n    var reject = capability.reject;\n    var result = perform(function () {\n      var $promiseResolve = aFunction(C.resolve);\n      var values = [];\n      var counter = 0;\n      var remaining = 1;\n      iterate(iterable, function (promise) {\n        var index = counter++;\n        var alreadyCalled = false;\n        values.push(undefined);\n        remaining++;\n        $promiseResolve.call(C, promise).then(function (value) {\n          if (alreadyCalled) return;\n          alreadyCalled = true;\n          values[index] = value;\n          --remaining || resolve(values);\n        }, reject);\n      });\n      --remaining || resolve(values);\n    });\n    if (result.error) reject(result.value);\n    return capability.promise;\n  },\n  // `Promise.race` method\n  // https://tc39.github.io/ecma262/#sec-promise.race\n  race: function race(iterable) {\n    var C = this;\n    var capability = newPromiseCapability(C);\n    var reject = capability.reject;\n    var result = perform(function () {\n      var $promiseResolve = aFunction(C.resolve);\n      iterate(iterable, function (promise) {\n        $promiseResolve.call(C, promise).then(capability.resolve, reject);\n      });\n    });\n    if (result.error) reject(result.value);\n    return capability.promise;\n  }\n});\n","var $ = require('../internals/export');\nvar getBuiltIn = require('../internals/get-built-in');\nvar aFunction = require('../internals/a-function');\nvar anObject = require('../internals/an-object');\nvar isObject = require('../internals/is-object');\nvar create = require('../internals/object-create');\nvar bind = require('../internals/function-bind');\nvar fails = require('../internals/fails');\n\nvar nativeConstruct = getBuiltIn('Reflect', 'construct');\n\n// `Reflect.construct` method\n// https://tc39.github.io/ecma262/#sec-reflect.construct\n// MS Edge supports only 2 arguments and argumentsList argument is optional\n// FF Nightly sets third argument as `new.target`, but does not create `this` from it\nvar NEW_TARGET_BUG = fails(function () {\n  function F() { /* empty */ }\n  return !(nativeConstruct(function () { /* empty */ }, [], F) instanceof F);\n});\nvar ARGS_BUG = !fails(function () {\n  nativeConstruct(function () { /* empty */ });\n});\nvar FORCED = NEW_TARGET_BUG || ARGS_BUG;\n\n$({ target: 'Reflect', stat: true, forced: FORCED, sham: FORCED }, {\n  construct: function construct(Target, args /* , newTarget */) {\n    aFunction(Target);\n    anObject(args);\n    var newTarget = arguments.length < 3 ? Target : aFunction(arguments[2]);\n    if (ARGS_BUG && !NEW_TARGET_BUG) return nativeConstruct(Target, args, newTarget);\n    if (Target == newTarget) {\n      // w/o altered newTarget, optimization for 0-4 arguments\n      switch (args.length) {\n        case 0: return new Target();\n        case 1: return new Target(args[0]);\n        case 2: return new Target(args[0], args[1]);\n        case 3: return new Target(args[0], args[1], args[2]);\n        case 4: return new Target(args[0], args[1], args[2], args[3]);\n      }\n      // w/o altered newTarget, lot of arguments case\n      var $args = [null];\n      $args.push.apply($args, args);\n      return new (bind.apply(Target, $args))();\n    }\n    // with altered newTarget, not support built-in constructors\n    var proto = newTarget.prototype;\n    var instance = create(isObject(proto) ? proto : Object.prototype);\n    var result = Function.apply.call(Target, instance, args);\n    return isObject(result) ? result : instance;\n  }\n});\n","var $ = require('../internals/export');\nvar isObject = require('../internals/is-object');\nvar anObject = require('../internals/an-object');\nvar has = require('../internals/has');\nvar getOwnPropertyDescriptorModule = require('../internals/object-get-own-property-descriptor');\nvar getPrototypeOf = require('../internals/object-get-prototype-of');\n\n// `Reflect.get` method\n// https://tc39.github.io/ecma262/#sec-reflect.get\nfunction get(target, propertyKey /* , receiver */) {\n  var receiver = arguments.length < 3 ? target : arguments[2];\n  var descriptor, prototype;\n  if (anObject(target) === receiver) return target[propertyKey];\n  if (descriptor = getOwnPropertyDescriptorModule.f(target, propertyKey)) return has(descriptor, 'value')\n    ? descriptor.value\n    : descriptor.get === undefined\n      ? undefined\n      : descriptor.get.call(receiver);\n  if (isObject(prototype = getPrototypeOf(target))) return get(prototype, propertyKey, receiver);\n}\n\n$({ target: 'Reflect', stat: true }, {\n  get: get\n});\n","'use strict';\nvar fixRegExpWellKnownSymbolLogic = require('../internals/fix-regexp-well-known-symbol-logic');\nvar anObject = require('../internals/an-object');\nvar toLength = require('../internals/to-length');\nvar requireObjectCoercible = require('../internals/require-object-coercible');\nvar advanceStringIndex = require('../internals/advance-string-index');\nvar regExpExec = require('../internals/regexp-exec-abstract');\n\n// @@match logic\nfixRegExpWellKnownSymbolLogic('match', 1, function (MATCH, nativeMatch, maybeCallNative) {\n  return [\n    // `String.prototype.match` method\n    // https://tc39.github.io/ecma262/#sec-string.prototype.match\n    function match(regexp) {\n      var O = requireObjectCoercible(this);\n      var matcher = regexp == undefined ? undefined : regexp[MATCH];\n      return matcher !== undefined ? matcher.call(regexp, O) : new RegExp(regexp)[MATCH](String(O));\n    },\n    // `RegExp.prototype[@@match]` method\n    // https://tc39.github.io/ecma262/#sec-regexp.prototype-@@match\n    function (regexp) {\n      var res = maybeCallNative(nativeMatch, regexp, this);\n      if (res.done) return res.value;\n\n      var rx = anObject(regexp);\n      var S = String(this);\n\n      if (!rx.global) return regExpExec(rx, S);\n\n      var fullUnicode = rx.unicode;\n      rx.lastIndex = 0;\n      var A = [];\n      var n = 0;\n      var result;\n      while ((result = regExpExec(rx, S)) !== null) {\n        var matchStr = String(result[0]);\n        A[n] = matchStr;\n        if (matchStr === '') rx.lastIndex = advanceStringIndex(S, toLength(rx.lastIndex), fullUnicode);\n        n++;\n      }\n      return n === 0 ? null : A;\n    }\n  ];\n});\n","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\nvar _default = [['Serbian', ' ', 'sr', 'srp', 'srp'], ['Romanian, Moldavian, Moldovan', 'Romn', 'ro', 'ron', 'rum'], ['Sichuan Yi, Nuosu', ' Nuosuhxop', 'ii', 'iii', 'iii'], ['Tahitian', 'Reo Tahiti', 'ty', 'tah', 'tah'], ['Tagalog', 'Wikang Tagalog', 'tl', 'tgl', 'tgl'], ['Yiddish', '', 'yi', 'yid', 'yid'], ['Akan', 'Akan', 'ak', 'aka', 'aka'], ['Malay', 'Bahasa Melayu,  ', 'ms', 'msa', 'may'], ['Arabic', '', 'ar', 'ara', 'ara'], ['Norwegian', 'Norsk', 'no', 'nor', 'nor'], ['Ojibwa', '', 'oj', 'oji', 'oji'], ['Fulah', 'Fulfulde, Pulaar, Pular', 'ff', 'ful', 'ful'], ['Persian', '', 'fa', 'fas', 'per'], ['Albanian', 'Shqip', 'sq', 'sqi', 'alb'], ['Aymara', 'aymar aru', 'ay', 'aym', 'aym'], ['Azerbaijani', 'azrbaycan dili', 'az', 'aze', 'aze'], ['Chinese', ' (Zhngwn), , ', 'zh', 'zho', 'chi'], ['Cree', '', 'cr', 'cre', 'cre'], ['Estonian', 'eesti, eesti keel', 'et', 'est', 'est'], ['Guaran', 'Avae\\'', 'gn', 'grn', 'grn'], ['Inupiaq', 'Iupiaq, Iupiatun', 'ik', 'ipk', 'ipk'], ['Inuktitut', '', 'iu', 'iku', 'iku'], ['Kanuri', 'Kanuri', 'kr', 'kau', 'kau'], ['Komi', ' ', 'kv', 'kom', 'kom'], ['Kongo', 'Kikongo', 'kg', 'kon', 'kon'], ['Kurdish', 'Kurd, ', 'ku', 'kur', 'kur'], ['Latvian', 'latvieu valoda', 'lv', 'lav', 'lav'], ['Malagasy', 'fiteny malagasy', 'mg', 'mlg', 'mlg'], ['Mongolian', ' ', 'mn', 'mon', 'mon'], ['Oromo', 'Afaan Oromoo', 'om', 'orm', 'orm'], ['Pashto, Pushto', '', 'ps', 'pus', 'pus'], ['Quechua', 'Runa Simi, Kichwa', 'qu', 'que', 'que'], ['Sardinian', 'sardu', 'sc', 'srd', 'srd'], ['Swahili', 'Kiswahili', 'sw', 'swa', 'swa'], ['Uzbek', 'Ozbek, , ', 'uz', 'uzb', 'uzb'], ['Zhuang, Chuang', 'Sa cue, Saw cuengh', 'za', 'zha', 'zha'], ['Bislama', 'Bislama', 'bi', 'bis', 'bis'], ['Norwegian Bokml', 'Norsk Bokml', 'nb', 'nob', 'nob'], ['Norwegian Nynorsk', 'Norsk Nynorsk', 'nn', 'nno', 'nno'], ['Indonesian', 'Bahasa Indonesia', 'id', 'ind', 'ind'], ['Twi', 'Twi', 'tw', 'twi', 'twi'], ['Esperanto', 'Esperanto', 'eo', 'epo', 'epo'], ['Interlingua', 'Interlingua', 'ia', 'ina', 'ina'], ['Interlingue', 'Originally called Occidental; then Interlingue after WWII', 'ie', 'ile', 'ile'], ['Ido', 'Ido', 'io', 'ido', 'ido'], ['Volapk', 'Volapk', 'vo', 'vol', 'vol'], ['Bihari languages', '', 'bh', 'bih', 'bih'], ['Hebrew (modern)', '', 'he', 'heb', 'heb'], ['Sanskrit', '', 'sa', 'san', 'san'], ['Church Slavic, Church Slavonic, Old Church Slavonic, Old Slavonic, Old Bulgarian', ' ', 'cu', 'chu', 'chu'], ['Pali', '', 'pi', 'pli', 'pli'], ['Avestan', 'avesta', 'ae', 'ave', 'ave'], ['Latin', 'latine, lingua latina', 'la', 'lat', 'lat'], ['Armenian', '', 'hy', 'hye', 'arm'], ['Swati', 'SiSwati', 'ss', 'ssw', 'ssw'], ['Tibetan', '', 'bo', 'bod', 'tib'], ['South Ndebele', 'isiNdebele', 'nr', 'nbl', 'nbl'], ['Slovene', 'Slovenski Jezik, Slovenina', 'sl', 'slv', 'slv'], ['Oriya', '', 'or', 'ori', 'ori'], ['North Ndebele', 'isiNdebele', 'nd', 'nde', 'nde'], ['Nauru', 'Dorerin Naoero', 'na', 'nau', 'nau'], ['Maori', 'te reo Mori', 'mi', 'mri', 'mao'], ['Marathi', '', 'mr', 'mar', 'mar'], ['Luba-Katanga', 'Kiluba', 'lu', 'lub', 'lub'], ['Rundi', 'Ikirundi', 'rn', 'run', 'run'], ['Central Khmer', ', , ', 'km', 'khm', 'khm'], ['Western Frisian', 'Frysk', 'fy', 'fry', 'fry'], ['Bengali', '', 'bn', 'ben', 'ben'], ['Avaric', ' ,  ', 'av', 'ava', 'ava'], ['Abkhazian', ' , ', 'ab', 'abk', 'abk'], ['Afar', 'Afaraf', 'aa', 'aar', 'aar'], ['Afrikaans', 'Afrikaans', 'af', 'afr', 'afr'], ['Amharic', '', 'am', 'amh', 'amh'], ['Aragonese', 'aragons', 'an', 'arg', 'arg'], ['Assamese', '', 'as', 'asm', 'asm'], ['Bambara', 'bamanankan', 'bm', 'bam', 'bam'], ['Bashkir', ' ', 'ba', 'bak', 'bak'], ['Basque', 'euskara, euskera', 'eu', 'eus', 'baq'], ['Belarusian', ' ', 'be', 'bel', 'bel'], ['Bosnian', 'bosanski jezik', 'bs', 'bos', 'bos'], ['Breton', 'brezhoneg', 'br', 'bre', 'bre'], ['Bulgarian', ' ', 'bg', 'bul', 'bul'], ['Burmese', '', 'my', 'mya', 'bur'], ['Catalan, Valencian', 'catal, valenci', 'ca', 'cat', 'cat'], ['Chamorro', 'Chamoru', 'ch', 'cha', 'cha'], ['Chechen', ' ', 'ce', 'che', 'che'], ['Chichewa, Chewa, Nyanja', 'chiChea, chinyanja', 'ny', 'nya', 'nya'], ['Chuvash', ' ', 'cv', 'chv', 'chv'], ['Cornish', 'Kernewek', 'kw', 'cor', 'cor'], ['Corsican', 'corsu, lingua corsa', 'co', 'cos', 'cos'], ['Croatian', 'hrvatski jezik', 'hr', 'hrv', 'hrv'], ['Czech', 'etina, esk jazyk', 'cs', 'ces', 'cze'], ['Danish', 'dansk', 'da', 'dan', 'dan'], ['Divehi, Dhivehi, Maldivian', '', 'dv', 'div', 'div'], ['Dutch, Flemish', 'Nederlands, Vlaams', 'nl', 'nld', 'dut'], ['Dzongkha', '', 'dz', 'dzo', 'dzo'], ['English', 'English', 'en', 'eng', 'eng'], ['Ewe', 'Eegbe', 'ee', 'ewe', 'ewe'], ['Faroese', 'froyskt', 'fo', 'fao', 'fao'], ['Fijian', 'vosa Vakaviti', 'fj', 'fij', 'fij'], ['Finnish', 'suomi, suomen kieli', 'fi', 'fin', 'fin'], ['French', 'franais, langue franaise', 'fr', 'fra', 'fre'], ['Galician', 'Galego', 'gl', 'glg', 'glg'], ['Georgian', '', 'ka', 'kat', 'geo'], ['German', 'Deutsch', 'de', 'deu', 'ger'], ['Greek (modern)', '', 'el', 'ell', 'gre'], ['Gujarati', '', 'gu', 'guj', 'guj'], ['Haitian, Haitian Creole', 'Kreyl ayisyen', 'ht', 'hat', 'hat'], ['Hausa', '(Hausa) ', 'ha', 'hau', 'hau'], ['Herero', 'Otjiherero', 'hz', 'her', 'her'], ['Hindi', ', ', 'hi', 'hin', 'hin'], ['Hiri Motu', 'Hiri Motu', 'ho', 'hmo', 'hmo'], ['Hungarian', 'magyar', 'hu', 'hun', 'hun'], ['Irish', 'Gaeilge', 'ga', 'gle', 'gle'], ['Igbo', 'Ass Igbo', 'ig', 'ibo', 'ibo'], ['Icelandic', 'slenska', 'is', 'isl', 'ice'], ['Italian', 'Italiano', 'it', 'ita', 'ita'], ['Japanese', ' ()', 'ja', 'jpn', 'jpn'], ['Javanese', ', Basa Jawa', 'jv', 'jav', 'jav'], ['Kalaallisut, Greenlandic', 'kalaallisut, kalaallit oqaasii', 'kl', 'kal', 'kal'], ['Kannada', '', 'kn', 'kan', 'kan'], ['Kashmiri', ', ', 'ks', 'kas', 'kas'], ['Kazakh', ' ', 'kk', 'kaz', 'kaz'], ['Kikuyu, Gikuyu', 'Gky', 'ki', 'kik', 'kik'], ['Kinyarwanda', 'Ikinyarwanda', 'rw', 'kin', 'kin'], ['Kirghiz, Kyrgyz', ',  ', 'ky', 'kir', 'kir'], ['Korean', '', 'ko', 'kor', 'kor'], ['Kuanyama, Kwanyama', 'Kuanyama', 'kj', 'kua', 'kua'], ['Luxembourgish, Letzeburgesch', 'Ltzebuergesch', 'lb', 'ltz', 'ltz'], ['Ganda', 'Luganda', 'lg', 'lug', 'lug'], ['Limburgan, Limburger, Limburgish', 'Limburgs', 'li', 'lim', 'lim'], ['Lingala', 'Lingla', 'ln', 'lin', 'lin'], ['Lao', '', 'lo', 'lao', 'lao'], ['Lithuanian', 'lietuvi kalba', 'lt', 'lit', 'lit'], ['Manx', 'Gaelg, Gailck', 'gv', 'glv', 'glv'], ['Macedonian', ' ', 'mk', 'mkd', 'mac'], ['Malayalam', '', 'ml', 'mal', 'mal'], ['Maltese', 'Malti', 'mt', 'mlt', 'mlt'], ['Marshallese', 'Kajin Maje', 'mh', 'mah', 'mah'], ['Navajo, Navaho', 'Din bizaad', 'nv', 'nav', 'nav'], ['Nepali', '', 'ne', 'nep', 'nep'], ['Ndonga', 'Owambo', 'ng', 'ndo', 'ndo'], ['Occitan', 'occitan, lenga d\\'c', 'oc', 'oci', 'oci'], ['Ossetian, Ossetic', ' ', 'os', 'oss', 'oss'], ['Panjabi, Punjabi', '', 'pa', 'pan', 'pan'], ['Polish', 'jzyk polski, polszczyzna', 'pl', 'pol', 'pol'], ['Portuguese', 'Portugus', 'pt', 'por', 'por'], ['Romansh', 'Rumantsch Grischun', 'rm', 'roh', 'roh'], ['Russian', '', 'ru', 'rus', 'rus'], ['Sindhi', ',  ', 'sd', 'snd', 'snd'], ['Northern Sami', 'Davvismegiella', 'se', 'sme', 'sme'], ['Samoan', 'gagana fa\\'a Samoa', 'sm', 'smo', 'smo'], ['Sango', 'yng t sng', 'sg', 'sag', 'sag'], ['Gaelic, Scottish Gaelic', 'Gidhlig', 'gd', 'gla', 'gla'], ['Shona', 'chiShona', 'sn', 'sna', 'sna'], ['Sinhala, Sinhalese', '', 'si', 'sin', 'sin'], ['Slovak', 'Slovenina, Slovensk Jazyk', 'sk', 'slk', 'slo'], ['Somali', 'Soomaaliga, af Soomaali', 'so', 'som', 'som'], ['Southern Sotho', 'Sesotho', 'st', 'sot', 'sot'], ['Spanish, Castilian', 'Espaol', 'es', 'spa', 'spa'], ['Sundanese', 'Basa Sunda', 'su', 'sun', 'sun'], ['Swedish', 'Svenska', 'sv', 'swe', 'swe'], ['Tamil', '', 'ta', 'tam', 'tam'], ['Telugu', '', 'te', 'tel', 'tel'], ['Tajik', ', toik, ', 'tg', 'tgk', 'tgk'], ['Thai', '', 'th', 'tha', 'tha'], ['Tigrinya', '', 'ti', 'tir', 'tir'], ['Turkmen', 'Trkmen, ', 'tk', 'tuk', 'tuk'], ['Tswana', 'Setswana', 'tn', 'tsn', 'tsn'], ['Tongan (Tonga Islands)', 'Faka Tonga', 'to', 'ton', 'ton'], ['Turkish', 'Trke', 'tr', 'tur', 'tur'], ['Tsonga', 'Xitsonga', 'ts', 'tso', 'tso'], ['Tatar', ' , tatar tele', 'tt', 'tat', 'tat'], ['Uighur, Uyghur', ', Uyghurche', 'ug', 'uig', 'uig'], ['Ukrainian', '', 'uk', 'ukr', 'ukr'], ['Urdu', '', 'ur', 'urd', 'urd'], ['Venda', 'Tshivena', 've', 'ven', 'ven'], ['Vietnamese', 'Ting Vit', 'vi', 'vie', 'vie'], ['Walloon', 'Walon', 'wa', 'wln', 'wln'], ['Welsh', 'Cymraeg', 'cy', 'cym', 'wel'], ['Wolof', 'Wollof', 'wo', 'wol', 'wol'], ['Xhosa', 'isiXhosa', 'xh', 'xho', 'xho'], ['Yoruba', 'Yorb', 'yo', 'yor', 'yor'], ['Zulu', 'isiZulu', 'zu', 'zul', 'zul']];\nexports[\"default\"] = _default;"],"sourceRoot":""}