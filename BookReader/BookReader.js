/*! For license information please see BookReader.js.LICENSE.txt */
!function(){var t,e={1774:function(t,e,n){"use strict";n.d(e,{KL:function(){return p},LN:function(){return f},Ql:function(){return h}}),n(2675),n(9463),n(6412),n(2259),n(5700),n(8125),n(8706),n(3418),n(3792),n(8598),n(2712),n(4490),n(4782),n(9572),n(2010),n(4731),n(479),n(8130),n(875),n(6099),n(3362),n(7495),n(8781),n(7764),n(3500),n(2953);var r=n(1669);function i(t){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i(t)}function o(t,e){if(t){if("string"==typeof t)return a(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?a(t,e):void 0}}function a(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function s(){s=function(){return e};var t,e={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(t,e,n){t[e]=n.value},a="function"==typeof Symbol?Symbol:{},u=a.iterator||"@@iterator",c=a.asyncIterator||"@@asyncIterator",l=a.toStringTag||"@@toStringTag";function f(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{f({},"")}catch(t){f=function(t,e,n){return t[e]=n}}function h(t,e,n,r){var i=e&&e.prototype instanceof b?e:b,a=Object.create(i.prototype),s=new A(r||[]);return o(a,"_invoke",{value:T(t,n,s)}),a}function d(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}e.wrap=h;var p="suspendedStart",v="suspendedYield",g="executing",m="completed",y={};function b(){}function w(){}function x(){}var _={};f(_,u,(function(){return this}));var k=Object.getPrototypeOf,S=k&&k(k(R([])));S&&S!==n&&r.call(S,u)&&(_=S);var P=x.prototype=b.prototype=Object.create(_);function E(t){["next","throw","return"].forEach((function(e){f(t,e,(function(t){return this._invoke(e,t)}))}))}function O(t,e){function n(o,a,s,u){var c=d(t[o],t,a);if("throw"!==c.type){var l=c.arg,f=l.value;return f&&"object"==i(f)&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){n("next",t,s,u)}),(function(t){n("throw",t,s,u)})):e.resolve(f).then((function(t){l.value=t,s(l)}),(function(t){return n("throw",t,s,u)}))}u(c.arg)}var a;o(this,"_invoke",{value:function(t,r){function i(){return new e((function(e,i){n(t,r,e,i)}))}return a=a?a.then(i,i):i()}})}function T(e,n,r){var i=p;return function(o,a){if(i===g)throw Error("Generator is already running");if(i===m){if("throw"===o)throw a;return{value:t,done:!0}}for(r.method=o,r.arg=a;;){var s=r.delegate;if(s){var u=C(s,r);if(u){if(u===y)continue;return u}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(i===p)throw i=m,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);i=g;var c=d(e,n,r);if("normal"===c.type){if(i=r.done?m:v,c.arg===y)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(i=m,r.method="throw",r.arg=c.arg)}}}function C(e,n){var r=n.method,i=e.iterator[r];if(i===t)return n.delegate=null,"throw"===r&&e.iterator.return&&(n.method="return",n.arg=t,C(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),y;var o=d(i,e.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,y;var a=o.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,y):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,y)}function j(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function M(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function A(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(j,this),this.reset(!0)}function R(e){if(e||""===e){var n=e[u];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,a=function n(){for(;++o<e.length;)if(r.call(e,o))return n.value=e[o],n.done=!1,n;return n.value=t,n.done=!0,n};return a.next=a}}throw new TypeError(i(e)+" is not iterable")}return w.prototype=x,o(P,"constructor",{value:x,configurable:!0}),o(x,"constructor",{value:w,configurable:!0}),w.displayName=f(x,l,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===w||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,x):(t.__proto__=x,f(t,l,"GeneratorFunction")),t.prototype=Object.create(P),t},e.awrap=function(t){return{__await:t}},E(O.prototype),f(O.prototype,c,(function(){return this})),e.AsyncIterator=O,e.async=function(t,n,r,i,o){void 0===o&&(o=Promise);var a=new O(h(t,n,r,i),o);return e.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},E(P),f(P,l,"Generator"),f(P,u,(function(){return this})),f(P,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},e.values=R,A.prototype={constructor:A,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(M),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function i(r,i){return s.type="throw",s.arg=e,n.next=r,i&&(n.method="next",n.arg=t),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],s=a.completion;if("root"===a.tryLoc)return i("end");if(a.tryLoc<=this.prev){var u=r.call(a,"catchLoc"),c=r.call(a,"finallyLoc");if(u&&c){if(this.prev<a.catchLoc)return i(a.catchLoc,!0);if(this.prev<a.finallyLoc)return i(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return i(a.catchLoc,!0)}else{if(!c)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return i(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),y},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),M(n),y}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var i=r.arg;M(n)}return i}}throw Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:R(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),y}},e}function u(t,e,n,r,i,o,a){try{var s=t[o](a),u=s.value}catch(t){return void n(t)}s.done?e(u):Promise.resolve(u).then(r,i)}function c(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,l(r.key),r)}}function l(t){var e=function(t,e){if("object"!=i(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!=i(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==i(e)?e:e+""}var f=function(){return t=function t(e,n){var i=n.isProtected,o=n.imageCache,a=n.loadingImage;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.page=e,this.imageCache=o,this.loadingImage=a,this.$container=r("<div />",{class:"BRpagecontainer ".concat(e?"pagediv".concat(e.index):"BRemptypage"),css:{position:"absolute"}}).attr("data-side",null==e?void 0:e.pageSide),i&&(this.$container.append(r('<div class="BRscreen" />')),this.$container.addClass("protected")),this.$img=null},e=[{key:"update",value:function(t){var e,n,i=t.dimensions,o=void 0===i?null:i,a=t.reduce,c=void 0===a?null:a;if(o&&this.$container.css(o),null!=c&&this.page){var l=this.imageCache.imageLoaded(this.page.index,c),f=!l&&this.imageCache.getBestLoadedReduce(this.page.index,c),h=this.imageCache.image(this.page.index,c);if((null===(e=this.$img)||void 0===e?void 0:e[0].src)==h[0].src)return this;null===(n=this.$img)||void 0===n||n.remove(),this.$img=h.prependTo(this.$container);var d=[];return l||(this.$container.addClass("BRpageloading"),d.push('url("'.concat(this.loadingImage,'") center/20px no-repeat'))),f&&d.push('url("'.concat(this.page.getURI(f,0),'") center/100% 100% no-repeat')),l||this.$img.css("background",d.join(",")).one("loadend",function(){var t,e=(t=s().mark((function t(e){return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r(e.target).css({background:""}),r(e.target).parent().removeClass("BRpageloading");case 2:case"end":return t.stop()}}),t)})),function(){var e=this,n=arguments;return new Promise((function(r,i){var o=t.apply(e,n);function a(t){u(o,r,i,a,s,"next",t)}function s(t){u(o,r,i,a,s,"throw",t)}a(void 0)}))});return function(t){return e.apply(this,arguments)}}()),this}}}],e&&c(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e}();function h(t,e){var n=document.createElement("div");return n.style.width="".concat(t.width,"px"),n.style.height="".concat(t.height,"px"),n.setAttribute("class","BRPageLayer ".concat(e)),n}function d(t){var e=t.l,n=t.r,r=t.b,i=t.t,o=document.createElementNS("http://www.w3.org/2000/svg","rect");return o.setAttribute("x",e.toString()),o.setAttribute("y",i.toString()),o.setAttribute("width",(n-e).toString()),o.setAttribute("height",(r-i).toString()),o.setAttribute("rx","4"),o.setAttribute("ry","4"),o}function p(t,e,n,i){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,s=i.querySelector(".".concat(t)),u=s||function(t,e){var n=document.createElementNS("http://www.w3.org/2000/svg","svg");return n.setAttribute("xmlns","http://www.w3.org/2000/svg"),n.setAttribute("viewBox","0 0 ".concat(t.width," ").concat(t.height)),n.setAttribute("class","BRPageLayer ".concat(e)),n.setAttribute("preserveAspectRatio","none"),n}(n,t);if(!s){var c=i.querySelector(".BRpageimage");c?r(u).insertAfter(c):r(u).prependTo(i)}var l,f,h,p=function(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=o(t))){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,s=!0,u=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return s=t.done,t},e:function(t){u=!0,a=t},f:function(){try{s||null==n.return||n.return()}finally{if(u)throw a}}}}(e.entries());try{for(p.s();!(l=p.n()).done;){var v=(f=l.value,h=2,function(t){if(Array.isArray(t))return t}(f)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o,a,s=[],u=!0,c=!1;try{if(o=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);u=!0);}catch(t){c=!0,i=t}finally{try{if(!u&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}(f,h)||o(f,h)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),g=v[0],m=d(v[1]);a&&m.setAttribute("class",a[g]),u.appendChild(m)}}catch(t){p.e(t)}finally{p.f()}}},6257:function(t,e,n){"use strict";function r(t){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}function i(){i=function(){return e};var t,e={},n=Object.prototype,o=n.hasOwnProperty,a=Object.defineProperty||function(t,e,n){t[e]=n.value},s="function"==typeof Symbol?Symbol:{},u=s.iterator||"@@iterator",c=s.asyncIterator||"@@asyncIterator",l=s.toStringTag||"@@toStringTag";function f(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{f({},"")}catch(t){f=function(t,e,n){return t[e]=n}}function h(t,e,n,r){var i=e&&e.prototype instanceof b?e:b,o=Object.create(i.prototype),s=new A(r||[]);return a(o,"_invoke",{value:T(t,n,s)}),o}function d(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}e.wrap=h;var p="suspendedStart",v="suspendedYield",g="executing",m="completed",y={};function b(){}function w(){}function x(){}var _={};f(_,u,(function(){return this}));var k=Object.getPrototypeOf,S=k&&k(k(R([])));S&&S!==n&&o.call(S,u)&&(_=S);var P=x.prototype=b.prototype=Object.create(_);function E(t){["next","throw","return"].forEach((function(e){f(t,e,(function(t){return this._invoke(e,t)}))}))}function O(t,e){function n(i,a,s,u){var c=d(t[i],t,a);if("throw"!==c.type){var l=c.arg,f=l.value;return f&&"object"==r(f)&&o.call(f,"__await")?e.resolve(f.__await).then((function(t){n("next",t,s,u)}),(function(t){n("throw",t,s,u)})):e.resolve(f).then((function(t){l.value=t,s(l)}),(function(t){return n("throw",t,s,u)}))}u(c.arg)}var i;a(this,"_invoke",{value:function(t,r){function o(){return new e((function(e,i){n(t,r,e,i)}))}return i=i?i.then(o,o):o()}})}function T(e,n,r){var i=p;return function(o,a){if(i===g)throw Error("Generator is already running");if(i===m){if("throw"===o)throw a;return{value:t,done:!0}}for(r.method=o,r.arg=a;;){var s=r.delegate;if(s){var u=C(s,r);if(u){if(u===y)continue;return u}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(i===p)throw i=m,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);i=g;var c=d(e,n,r);if("normal"===c.type){if(i=r.done?m:v,c.arg===y)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(i=m,r.method="throw",r.arg=c.arg)}}}function C(e,n){var r=n.method,i=e.iterator[r];if(i===t)return n.delegate=null,"throw"===r&&e.iterator.return&&(n.method="return",n.arg=t,C(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),y;var o=d(i,e.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,y;var a=o.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,y):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,y)}function j(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function M(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function A(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(j,this),this.reset(!0)}function R(e){if(e||""===e){var n=e[u];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var i=-1,a=function n(){for(;++i<e.length;)if(o.call(e,i))return n.value=e[i],n.done=!1,n;return n.value=t,n.done=!0,n};return a.next=a}}throw new TypeError(r(e)+" is not iterable")}return w.prototype=x,a(P,"constructor",{value:x,configurable:!0}),a(x,"constructor",{value:w,configurable:!0}),w.displayName=f(x,l,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===w||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,x):(t.__proto__=x,f(t,l,"GeneratorFunction")),t.prototype=Object.create(P),t},e.awrap=function(t){return{__await:t}},E(O.prototype),f(O.prototype,c,(function(){return this})),e.AsyncIterator=O,e.async=function(t,n,r,i,o){void 0===o&&(o=Promise);var a=new O(h(t,n,r,i),o);return e.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},E(P),f(P,l,"Generator"),f(P,u,(function(){return this})),f(P,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},e.values=R,A.prototype={constructor:A,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(M),!e)for(var n in this)"t"===n.charAt(0)&&o.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function r(r,i){return s.type="throw",s.arg=e,n.next=r,i&&(n.method="next",n.arg=t),!!i}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var u=o.call(a,"catchLoc"),c=o.call(a,"finallyLoc");if(u&&c){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!c)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&o.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var i=r;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,y):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),y},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),M(n),y}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var i=r.arg;M(n)}return i}}throw Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:R(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),y}},e}function o(t,e,n,r,i,o,a){try{var s=t[o](a),u=s.value}catch(t){return void n(t)}s.done?e(u):Promise.resolve(u).then(r,i)}function a(t){return function(){var e=this,n=arguments;return new Promise((function(r,i){var a=t.apply(e,n);function s(t){o(a,r,i,s,u,"next",t)}function u(t){o(a,r,i,s,u,"throw",t)}s(void 0)}))}}function s(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function u(t){t.bind("mousedown",(function(){return!1})),t[0].onselectstart=function(){return!1}}function c(t,e,n){return Math.min(Math.max(t,e),n)}function l(t,e){return t/e*100+"%"}function f(t,e){return!e.includes(t)}function h(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document,e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=t.activeElement;return e&&null!=n&&n.shadowRoot?h(n.shadowRoot,!0):n}function d(){var t=h(arguments.length>0&&void 0!==arguments[0]?arguments[0]:document);return"INPUT"==(null==t?void 0:t.tagName)||"TEXTAREA"==(null==t?void 0:t.tagName)}function p(t){var e=t.contentWindow||t.contentDocument;return e.document||e}function v(t){return t.replace(/&/g,"&amp;").replace(/>/g,"&gt;").replace(/</g,"&lt;").replace(/"/g,"&quot;")}function g(t){return decodeURIComponent(t).replace(/\+/g," ")}function m(t){return encodeURIComponent(t).replace(/%20/g,"+")}function y(t,e,n){var r;return function(){var i=this,o=arguments,a=n&&!r;clearTimeout(r),r=setTimeout((function(){r=null,n||t.apply(i,o)}),e),a&&t.apply(i,o)}}function b(t,e,n){var r,i;return e||(e=250),n&&(r=+new Date),function(){var n=this,o=+new Date,a=arguments;r&&o<r+e?(clearTimeout(i),i=setTimeout((function(){r=o,t.apply(n,a)}),e)):(r=o,t.apply(n,a))}}function w(t){if("function"==typeof t.CustomEvent)return!1;t.CustomEvent=x}function x(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.bubbles,r=void 0!==n&&n,i=e.cancelable,o=void 0!==i&&i,a=e.detail,s=void 0===a?null:a,u=document.createEvent("CustomEvent");return u.initCustomEvent(t,r,o,s),u}function _(){var t=document.createElement("div");t.style.width="1in",document.body.appendChild(t);var e=t.offsetWidth;document.body.removeChild(t);var n=1.25*e;return 0==n?100:n}function k(t){return t.reduce((function(t,e){return t+e}),0)}function S(t){var e,n=[],r=function(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(t){if("string"==typeof t)return s(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?s(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,u=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){u=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw o}}}}(t);try{for(r.s();!(e=r.n()).done;){var i=e.value;n.push(i)}}catch(t){r.e(t)}finally{r.f()}return n}function P(t,e){return t.length==e.length&&t.every((function(t,n){return t==e[n]}))}function E(t,e){return t&&e&&!P(t,e)}function O(t){return T.apply(this,arguments)}function T(){return(T=a(i().mark((function t(e){return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise((function(t){return setTimeout(t,e)})));case 1:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function C(t){return j.apply(this,arguments)}function j(){return j=a(i().mark((function t(e){var n,r,o,a,s,u,c,l,f,h,d,p=arguments;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r=(n=p.length>1&&void 0!==p[1]?p[1]:{}).step,o=void 0===r?50:r,a=n.timeout,s=void 0===a?500:a,u=n.until,c=void 0===u?function(t){return Boolean(t)}:u,l=n._sleep,f=void 0===l?O:l,h=Date.now();case 2:if(!(Date.now()-h<s)){t.next=10;break}if(d=e(),!c(d)){t.next=6;break}return t.abrupt("return",d);case 6:return t.next=8,f(o);case 8:t.next=2;break;case 10:case"end":return t.stop()}}),t)}))),j.apply(this,arguments)}function M(t,e){return new Promise((function(n){var r=function(i){t.removeEventListener(e,r),n(i)};t.addEventListener(e,r)}))}function A(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}n.r(e),n.d(e,{PolyfilledCustomEvent:function(){return x},arrChanged:function(){return E},arrEquals:function(){return P},calcScreenDPI:function(){return _},clamp:function(){return c},cssPercentage:function(){return l},debounce:function(){return y},decodeURIComponentPlus:function(){return g},disableSelect:function(){return u},encodeURIComponentPlus:function(){return m},escapeHTML:function(){return v},escapeRegExp:function(){return A},genToArray:function(){return S},getActiveElement:function(){return h},getIFrameDocument:function(){return p},isInputActive:function(){return d},notInArray:function(){return f},poll:function(){return C},polyfillCustomEvent:function(){return w},promisifyEvent:function(){return M},sleep:function(){return O},sum:function(){return k},throttle:function(){return b}}),n(2675),n(9463),n(6412),n(2259),n(8125),n(3418),n(4423),n(3792),n(2712),n(4490),n(4782),n(2010),n(4731),n(479),n(875),n(6099),n(3362),n(7495),n(8781),n(1699),n(7764),n(5440),n(3500),n(2953)},542:function(t,e,n){"use strict";function r(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:navigator.userAgent,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:navigator.vendor;return/chrome/i.test(t)&&/google inc/i.test(e)}function i(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:navigator.userAgent;return/firefox/i.test(t)}function o(){return"ongesturestart"in window&&navigator.maxTouchPoints>0}function a(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:navigator.userAgent;return/SamsungBrowser/i.test(t)}n.d(e,{H8:function(){return r},gm:function(){return i},ij:function(){return a},un:function(){return o}}),n(7495)},2617:function(t){t.exports=function(){var t={};Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,t.default=function(t){return!(!t||!t.Window)&&t instanceof t.Window};var e={};Object.defineProperty(e,"__esModule",{value:!0}),e.getWindow=function(e){return(0,t.default)(e)?e:(e.ownerDocument||e).defaultView||r.window},e.init=i,e.window=e.realWindow=void 0;var n=void 0;e.realWindow=n;var r=void 0;function i(t){e.realWindow=n=t;var i=t.document.createTextNode("");i.ownerDocument!==t.document&&"function"==typeof t.wrap&&t.wrap(i)===i&&(t=t.wrap(t)),e.window=r=t}e.window=r,"undefined"!=typeof window&&window&&i(window);var o={};function a(t){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},a(t)}Object.defineProperty(o,"__esModule",{value:!0}),o.default=void 0;var s=function(t){return!!t&&"object"===a(t)},u=function(t){return"function"==typeof t},c={window:function(n){return n===e.window||(0,t.default)(n)},docFrag:function(t){return s(t)&&11===t.nodeType},object:s,func:u,number:function(t){return"number"==typeof t},bool:function(t){return"boolean"==typeof t},string:function(t){return"string"==typeof t},element:function(t){if(!t||"object"!==a(t))return!1;var n=e.getWindow(t)||e.window;return/object|function/.test("undefined"==typeof Element?"undefined":a(Element))?t instanceof Element||t instanceof n.Element:1===t.nodeType&&"string"==typeof t.nodeName},plainObject:function(t){return s(t)&&!!t.constructor&&/function Object\b/.test(t.constructor.toString())},array:function(t){return s(t)&&void 0!==t.length&&u(t.splice)}};o.default=c;var l={};function f(t){var e=t.interaction;if("drag"===e.prepared.name){var n=e.prepared.axis;"x"===n?(e.coords.cur.page.y=e.coords.start.page.y,e.coords.cur.client.y=e.coords.start.client.y,e.coords.velocity.client.y=0,e.coords.velocity.page.y=0):"y"===n&&(e.coords.cur.page.x=e.coords.start.page.x,e.coords.cur.client.x=e.coords.start.client.x,e.coords.velocity.client.x=0,e.coords.velocity.page.x=0)}}function h(t){var e=t.iEvent,n=t.interaction;if("drag"===n.prepared.name){var r=n.prepared.axis;if("x"===r||"y"===r){var i="x"===r?"y":"x";e.page[i]=n.coords.start.page[i],e.client[i]=n.coords.start.client[i],e.delta[i]=0}}}Object.defineProperty(l,"__esModule",{value:!0}),l.default=void 0;var d={id:"actions/drag",install:function(t){var e=t.actions,n=t.Interactable,r=t.defaults;n.prototype.draggable=d.draggable,e.map.drag=d,e.methodDict.drag="draggable",r.actions.drag=d.defaults},listeners:{"interactions:before-action-move":f,"interactions:action-resume":f,"interactions:action-move":h,"auto-start:check":function(t){var e=t.interaction,n=t.interactable,r=t.buttons,i=n.options.drag;if(i&&i.enabled&&(!e.pointerIsDown||!/mouse|pointer/.test(e.pointerType)||r&n.options.drag.mouseButtons))return t.action={name:"drag",axis:"start"===i.lockAxis?i.startAxis:i.lockAxis},!1}},draggable:function(t){return o.default.object(t)?(this.options.drag.enabled=!1!==t.enabled,this.setPerAction("drag",t),this.setOnEvents("drag",t),/^(xy|x|y|start)$/.test(t.lockAxis)&&(this.options.drag.lockAxis=t.lockAxis),/^(xy|x|y)$/.test(t.startAxis)&&(this.options.drag.startAxis=t.startAxis),this):o.default.bool(t)?(this.options.drag.enabled=t,this):this.options.drag},beforeMove:f,move:h,defaults:{startAxis:"xy",lockAxis:"xy"},getCursor:function(){return"move"}},p=d;l.default=p;var v={};Object.defineProperty(v,"__esModule",{value:!0}),v.default=void 0;var g={init:function(t){var e=t;g.document=e.document,g.DocumentFragment=e.DocumentFragment||m,g.SVGElement=e.SVGElement||m,g.SVGSVGElement=e.SVGSVGElement||m,g.SVGElementInstance=e.SVGElementInstance||m,g.Element=e.Element||m,g.HTMLElement=e.HTMLElement||g.Element,g.Event=e.Event,g.Touch=e.Touch||m,g.PointerEvent=e.PointerEvent||e.MSPointerEvent},document:null,DocumentFragment:null,SVGElement:null,SVGSVGElement:null,SVGElementInstance:null,Element:null,HTMLElement:null,Event:null,Touch:null,PointerEvent:null};function m(){}var y=g;v.default=y;var b={};Object.defineProperty(b,"__esModule",{value:!0}),b.default=void 0;var w={init:function(t){var e=v.default.Element,n=t.navigator||{};w.supportsTouch="ontouchstart"in t||o.default.func(t.DocumentTouch)&&v.default.document instanceof t.DocumentTouch,w.supportsPointerEvent=!1!==n.pointerEnabled&&!!v.default.PointerEvent,w.isIOS=/iP(hone|od|ad)/.test(n.platform),w.isIOS7=/iP(hone|od|ad)/.test(n.platform)&&/OS 7[^\d]/.test(n.appVersion),w.isIe9=/MSIE 9/.test(n.userAgent),w.isOperaMobile="Opera"===n.appName&&w.supportsTouch&&/Presto/.test(n.userAgent),w.prefixedMatchesSelector="matches"in e.prototype?"matches":"webkitMatchesSelector"in e.prototype?"webkitMatchesSelector":"mozMatchesSelector"in e.prototype?"mozMatchesSelector":"oMatchesSelector"in e.prototype?"oMatchesSelector":"msMatchesSelector",w.pEventTypes=w.supportsPointerEvent?v.default.PointerEvent===t.MSPointerEvent?{up:"MSPointerUp",down:"MSPointerDown",over:"mouseover",out:"mouseout",move:"MSPointerMove",cancel:"MSPointerCancel"}:{up:"pointerup",down:"pointerdown",over:"pointerover",out:"pointerout",move:"pointermove",cancel:"pointercancel"}:null,w.wheelEvent=v.default.document&&"onmousewheel"in v.default.document?"mousewheel":"wheel"},supportsTouch:null,supportsPointerEvent:null,isIOS7:null,isIOS:null,isIe9:null,isOperaMobile:null,prefixedMatchesSelector:null,pEventTypes:null,wheelEvent:null},x=w;b.default=x;var _={};function k(t){var e=t.parentNode;if(o.default.docFrag(e)){for(;(e=e.host)&&o.default.docFrag(e););return e}return e}function S(t,n){return e.window!==e.realWindow&&(n=n.replace(/\/deep\//g," ")),t[b.default.prefixedMatchesSelector](n)}Object.defineProperty(_,"__esModule",{value:!0}),_.closest=function(t,e){for(;o.default.element(t);){if(S(t,e))return t;t=k(t)}return null},_.getActualElement=function(t){return t.correspondingUseElement||t},_.getElementClientRect=T,_.getElementRect=function(t){var n=T(t);if(!b.default.isIOS7&&n){var r=O(e.getWindow(t));n.left+=r.x,n.right+=r.x,n.top+=r.y,n.bottom+=r.y}return n},_.getPath=function(t){for(var e=[];t;)e.push(t),t=k(t);return e},_.getScrollXY=O,_.indexOfDeepestElement=function(t){for(var n,r=[],i=0;i<t.length;i++){var o=t[i],a=t[n];if(o&&i!==n)if(a){var s=P(o),u=P(a);if(s!==o.ownerDocument)if(u!==o.ownerDocument)if(s!==u){r=r.length?r:E(a);var c=void 0;if(a instanceof v.default.HTMLElement&&o instanceof v.default.SVGElement&&!(o instanceof v.default.SVGSVGElement)){if(o===u)continue;c=o.ownerSVGElement}else c=o;for(var l=E(c,a.ownerDocument),f=0;l[f]&&l[f]===r[f];)f++;var h=[l[f-1],l[f],r[f]];if(h[0])for(var d=h[0].lastChild;d;){if(d===h[1]){n=i,r=l;break}if(d===h[2])break;d=d.previousSibling}}else p=o,g=a,(parseInt(e.getWindow(p).getComputedStyle(p).zIndex,10)||0)>=(parseInt(e.getWindow(g).getComputedStyle(g).zIndex,10)||0)&&(n=i);else n=i}else n=i}var p,g;return n},_.matchesSelector=S,_.matchesUpTo=function(t,e,n){for(;o.default.element(t);){if(S(t,e))return!0;if((t=k(t))===n)return S(t,e)}return!1},_.nodeContains=function(t,e){if(t.contains)return t.contains(e);for(;e;){if(e===t)return!0;e=e.parentNode}return!1},_.parentNode=k,_.trySelector=function(t){return!!o.default.string(t)&&(v.default.document.querySelector(t),!0)};var P=function(t){return t.parentNode||t.host};function E(t,e){for(var n,r=[],i=t;(n=P(i))&&i!==e&&n!==i.ownerDocument;)r.unshift(i),i=n;return r}function O(t){return{x:(t=t||e.window).scrollX||t.document.documentElement.scrollLeft,y:t.scrollY||t.document.documentElement.scrollTop}}function T(t){var e=t instanceof v.default.SVGElement?t.getBoundingClientRect():t.getClientRects()[0];return e&&{left:e.left,right:e.right,top:e.top,bottom:e.bottom,width:e.width||e.right-e.left,height:e.height||e.bottom-e.top}}var C={};Object.defineProperty(C,"__esModule",{value:!0}),C.default=function(t,e){for(var n in e)t[n]=e[n];return t};var j={};function M(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function A(t,e,n){return"parent"===t?(0,_.parentNode)(n):"self"===t?e.getRect(n):(0,_.closest)(n,t)}Object.defineProperty(j,"__esModule",{value:!0}),j.addEdges=function(t,e,n){t.left&&(e.left+=n.x),t.right&&(e.right+=n.x),t.top&&(e.top+=n.y),t.bottom&&(e.bottom+=n.y),e.width=e.right-e.left,e.height=e.bottom-e.top},j.getStringOptionResult=A,j.rectToXY=function(t){return t&&{x:"x"in t?t.x:t.left,y:"y"in t?t.y:t.top}},j.resolveRectLike=function(t,e,n,r){var i,a=t;return o.default.string(a)?a=A(a,e,n):o.default.func(a)&&(a=a.apply(void 0,function(t){if(Array.isArray(t))return M(t)}(i=r)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(i)||function(t,e){if(t){if("string"==typeof t)return M(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?M(t,e):void 0}}(i)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())),o.default.element(a)&&(a=(0,_.getElementRect)(a)),a},j.tlbrToXywh=function(t){return!t||"x"in t&&"y"in t||((t=(0,C.default)({},t)).x=t.left||0,t.y=t.top||0,t.width=t.width||(t.right||0)-t.x,t.height=t.height||(t.bottom||0)-t.y),t},j.xywhToTlbr=function(t){return!t||"left"in t&&"top"in t||((t=(0,C.default)({},t)).left=t.x||0,t.top=t.y||0,t.right=t.right||t.left+t.width,t.bottom=t.bottom||t.top+t.height),t};var R={};Object.defineProperty(R,"__esModule",{value:!0}),R.default=function(t,e,n){var r=t.options[n],i=r&&r.origin||t.options.origin,o=(0,j.resolveRectLike)(i,t,e,[t&&e]);return(0,j.rectToXY)(o)||{x:0,y:0}};var I={};function L(t){return t.trim().split(/ +/)}Object.defineProperty(I,"__esModule",{value:!0}),I.default=function t(e,n,r){if(r=r||{},o.default.string(e)&&-1!==e.search(" ")&&(e=L(e)),o.default.array(e))return e.reduce((function(e,i){return(0,C.default)(e,t(i,n,r))}),r);if(o.default.object(e)&&(n=e,e=""),o.default.func(n))r[e]=r[e]||[],r[e].push(n);else if(o.default.array(n))for(var i=0;i<n.length;i++){var a;a=n[i],t(e,a,r)}else if(o.default.object(n))for(var s in n){var u=L(s).map((function(t){return"".concat(e).concat(t)}));t(u,n[s],r)}return r};var D={};Object.defineProperty(D,"__esModule",{value:!0}),D.default=void 0,D.default=function(t,e){return Math.sqrt(t*t+e*e)};var N={};Object.defineProperty(N,"__esModule",{value:!0}),N.default=function(t,e){t.__set||(t.__set={});var n=function(n){"function"!=typeof t[n]&&"__set"!==n&&Object.defineProperty(t,n,{get:function(){return n in t.__set?t.__set[n]:t.__set[n]=e[n]},set:function(e){t.__set[n]=e},configurable:!0})};for(var r in e)n(r);return t};var $={};function F(t){return t instanceof v.default.Event||t instanceof v.default.Touch}function B(t,e,n){return t=t||"page",(n=n||{}).x=e[t+"X"],n.y=e[t+"Y"],n}function U(t,e){return e=e||{x:0,y:0},b.default.isOperaMobile&&F(t)?(B("screen",t,e),e.x+=window.scrollX,e.y+=window.scrollY):B("page",t,e),e}function z(t,e){return e=e||{},b.default.isOperaMobile&&F(t)?B("screen",t,e):B("client",t,e),e}function W(t){var e=[];return o.default.array(t)?(e[0]=t[0],e[1]=t[1]):"touchend"===t.type?1===t.touches.length?(e[0]=t.touches[0],e[1]=t.changedTouches[0]):0===t.touches.length&&(e[0]=t.changedTouches[0],e[1]=t.changedTouches[1]):(e[0]=t.touches[0],e[1]=t.touches[1]),e}function H(t){for(var e={pageX:0,pageY:0,clientX:0,clientY:0,screenX:0,screenY:0},n=0;n<t.length;n++){var r=t[n];for(var i in e)e[i]+=r[i]}for(var o in e)e[o]/=t.length;return e}Object.defineProperty($,"__esModule",{value:!0}),$.coordsToEvent=function(t){return{coords:t,get page(){return this.coords.page},get client(){return this.coords.client},get timeStamp(){return this.coords.timeStamp},get pageX(){return this.coords.page.x},get pageY(){return this.coords.page.y},get clientX(){return this.coords.client.x},get clientY(){return this.coords.client.y},get pointerId(){return this.coords.pointerId},get target(){return this.coords.target},get type(){return this.coords.type},get pointerType(){return this.coords.pointerType},get buttons(){return this.coords.buttons},preventDefault:function(){}}},$.copyCoords=function(t,e){t.page=t.page||{},t.page.x=e.page.x,t.page.y=e.page.y,t.client=t.client||{},t.client.x=e.client.x,t.client.y=e.client.y,t.timeStamp=e.timeStamp},$.getClientXY=z,$.getEventTargets=function(t){var e=o.default.func(t.composedPath)?t.composedPath():t.path;return[_.getActualElement(e?e[0]:t.target),_.getActualElement(t.currentTarget)]},$.getPageXY=U,$.getPointerId=function(t){return o.default.number(t.pointerId)?t.pointerId:t.identifier},$.getPointerType=function(t){return o.default.string(t.pointerType)?t.pointerType:o.default.number(t.pointerType)?[void 0,void 0,"touch","pen","mouse"][t.pointerType]:/touch/.test(t.type||"")||t instanceof v.default.Touch?"touch":"mouse"},$.getTouchPair=W,$.getXY=B,$.isNativePointer=F,$.newCoords=function(){return{page:{x:0,y:0},client:{x:0,y:0},timeStamp:0}},$.pointerAverage=H,Object.defineProperty($,"pointerExtend",{enumerable:!0,get:function(){return N.default}}),$.setCoordDeltas=function(t,e,n){t.page.x=n.page.x-e.page.x,t.page.y=n.page.y-e.page.y,t.client.x=n.client.x-e.client.x,t.client.y=n.client.y-e.client.y,t.timeStamp=n.timeStamp-e.timeStamp},$.setCoordVelocity=function(t,e){var n=Math.max(e.timeStamp/1e3,.001);t.page.x=e.page.x/n,t.page.y=e.page.y/n,t.client.x=e.client.x/n,t.client.y=e.client.y/n,t.timeStamp=n},$.setCoords=function(t,e,n){var r=e.length>1?H(e):e[0];U(r,t.page),z(r,t.client),t.timeStamp=n},$.setZeroCoords=function(t){t.page.x=0,t.page.y=0,t.client.x=0,t.client.y=0},$.touchAngle=function(t,e){var n=e+"X",r=e+"Y",i=W(t),o=i[1][n]-i[0][n],a=i[1][r]-i[0][r];return 180*Math.atan2(a,o)/Math.PI},$.touchBBox=function(t){if(!t.length)return null;var e=W(t),n=Math.min(e[0].pageX,e[1].pageX),r=Math.min(e[0].pageY,e[1].pageY),i=Math.max(e[0].pageX,e[1].pageX),o=Math.max(e[0].pageY,e[1].pageY);return{x:n,y:r,left:n,top:r,right:i,bottom:o,width:i-n,height:o-r}},$.touchDistance=function(t,e){var n=e+"X",r=e+"Y",i=W(t),o=i[0][n]-i[1][n],a=i[0][r]-i[1][r];return(0,D.default)(o,a)};var V={};function G(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}Object.defineProperty(V,"__esModule",{value:!0}),V.BaseEvent=void 0;var Y=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),G(this,"immediatePropagationStopped",!1),G(this,"propagationStopped",!1),this._interaction=e}var e,n;return e=t,(n=[{key:"preventDefault",value:function(){}},{key:"stopPropagation",value:function(){this.propagationStopped=!0}},{key:"stopImmediatePropagation",value:function(){this.immediatePropagationStopped=this.propagationStopped=!0}}])&&function(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();V.BaseEvent=Y,Object.defineProperty(Y.prototype,"interaction",{get:function(){return this._interaction._proxy},set:function(){}});var X={};Object.defineProperty(X,"__esModule",{value:!0}),X.remove=X.merge=X.from=X.findIndex=X.find=X.contains=void 0,X.contains=function(t,e){return-1!==t.indexOf(e)},X.remove=function(t,e){return t.splice(t.indexOf(e),1)};var q=function(t,e){for(var n=0;n<e.length;n++){var r=e[n];t.push(r)}return t};X.merge=q,X.from=function(t){return q([],t)};var Z=function(t,e){for(var n=0;n<t.length;n++)if(e(t[n],n,t))return n;return-1};X.findIndex=Z,X.find=function(t,e){return t[Z(t,e)]};var K={};function J(t){return J="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},J(t)}function Q(t,e){return Q=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Q(t,e)}function tt(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function et(t){return et=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},et(t)}function nt(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}Object.defineProperty(K,"__esModule",{value:!0}),K.DropEvent=void 0;var rt=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Q(t,e)}(a,t);var e,n,r,i,o=(r=a,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=et(r);if(i){var n=et(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===J(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return tt(t)}(this,t)});function a(t,e,n){var r;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),nt(tt(r=o.call(this,e._interaction)),"dropzone",void 0),nt(tt(r),"dragEvent",void 0),nt(tt(r),"relatedTarget",void 0),nt(tt(r),"draggable",void 0),nt(tt(r),"propagationStopped",!1),nt(tt(r),"immediatePropagationStopped",!1);var i="dragleave"===n?t.prev:t.cur,s=i.element,u=i.dropzone;return r.type=n,r.target=s,r.currentTarget=s,r.dropzone=u,r.dragEvent=e,r.relatedTarget=e.target,r.draggable=e.interactable,r.timeStamp=e.timeStamp,r}return e=a,(n=[{key:"reject",value:function(){var t=this,e=this._interaction.dropState;if("dropactivate"===this.type||this.dropzone&&e.cur.dropzone===this.dropzone&&e.cur.element===this.target)if(e.prev.dropzone=this.dropzone,e.prev.element=this.target,e.rejected=!0,e.events.enter=null,this.stopImmediatePropagation(),"dropactivate"===this.type){var n=e.activeDrops,r=X.findIndex(n,(function(e){var n=e.dropzone,r=e.element;return n===t.dropzone&&r===t.target}));e.activeDrops.splice(r,1);var i=new a(e,this.dragEvent,"dropdeactivate");i.dropzone=this.dropzone,i.target=this.target,this.dropzone.fire(i)}else this.dropzone.fire(new a(e,this.dragEvent,"dragleave"))}},{key:"preventDefault",value:function(){}},{key:"stopPropagation",value:function(){this.propagationStopped=!0}},{key:"stopImmediatePropagation",value:function(){this.immediatePropagationStopped=this.propagationStopped=!0}}])&&function(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),a}(V.BaseEvent);K.DropEvent=rt;var it={};function ot(t,e){for(var n=0;n<t.slice().length;n++){var r=t.slice()[n],i=r.dropzone,o=r.element;e.dropzone=i,e.target=o,i.fire(e),e.propagationStopped=e.immediatePropagationStopped=!1}}function at(t,e){for(var n=function(t,e){for(var n=t.interactables,r=[],i=0;i<n.list.length;i++){var a=n.list[i];if(a.options.drop.enabled){var s=a.options.drop.accept;if(!(o.default.element(s)&&s!==e||o.default.string(s)&&!_.matchesSelector(e,s)||o.default.func(s)&&!s({dropzone:a,draggableElement:e})))for(var u=o.default.string(a.target)?a._context.querySelectorAll(a.target):o.default.array(a.target)?a.target:[a.target],c=0;c<u.length;c++){var l=u[c];l!==e&&r.push({dropzone:a,element:l,rect:a.getRect(l)})}}}return r}(t,e),r=0;r<n.length;r++){var i=n[r];i.rect=i.dropzone.getRect(i.element)}return n}function st(t,e,n){for(var r=t.dropState,i=t.interactable,o=t.element,a=[],s=0;s<r.activeDrops.length;s++){var u=r.activeDrops[s],c=u.dropzone,l=u.element,f=u.rect;a.push(c.dropCheck(e,n,i,o,l,f)?l:null)}var h=_.indexOfDeepestElement(a);return r.activeDrops[h]||null}function ut(t,e,n){var r=t.dropState,i={enter:null,leave:null,activate:null,deactivate:null,move:null,drop:null};return"dragstart"===n.type&&(i.activate=new K.DropEvent(r,n,"dropactivate"),i.activate.target=null,i.activate.dropzone=null),"dragend"===n.type&&(i.deactivate=new K.DropEvent(r,n,"dropdeactivate"),i.deactivate.target=null,i.deactivate.dropzone=null),r.rejected||(r.cur.element!==r.prev.element&&(r.prev.dropzone&&(i.leave=new K.DropEvent(r,n,"dragleave"),n.dragLeave=i.leave.target=r.prev.element,n.prevDropzone=i.leave.dropzone=r.prev.dropzone),r.cur.dropzone&&(i.enter=new K.DropEvent(r,n,"dragenter"),n.dragEnter=r.cur.element,n.dropzone=r.cur.dropzone)),"dragend"===n.type&&r.cur.dropzone&&(i.drop=new K.DropEvent(r,n,"drop"),n.dropzone=r.cur.dropzone,n.relatedTarget=r.cur.element),"dragmove"===n.type&&r.cur.dropzone&&(i.move=new K.DropEvent(r,n,"dropmove"),i.move.dragmove=n,n.dropzone=r.cur.dropzone)),i}function ct(t,e){var n=t.dropState,r=n.activeDrops,i=n.cur,o=n.prev;e.leave&&o.dropzone.fire(e.leave),e.enter&&i.dropzone.fire(e.enter),e.move&&i.dropzone.fire(e.move),e.drop&&i.dropzone.fire(e.drop),e.deactivate&&ot(r,e.deactivate),n.prev.dropzone=i.dropzone,n.prev.element=i.element}function lt(t,e){var n=t.interaction,r=t.iEvent,i=t.event;if("dragmove"===r.type||"dragend"===r.type){var o=n.dropState;e.dynamicDrop&&(o.activeDrops=at(e,n.element));var a=r,s=st(n,a,i);o.rejected=o.rejected&&!!s&&s.dropzone===o.cur.dropzone&&s.element===o.cur.element,o.cur.dropzone=s&&s.dropzone,o.cur.element=s&&s.element,o.events=ut(n,0,a)}}Object.defineProperty(it,"__esModule",{value:!0}),it.default=void 0;var ft={id:"actions/drop",install:function(t){var e=t.actions,n=t.interactStatic,r=t.Interactable,i=t.defaults;t.usePlugin(l.default),r.prototype.dropzone=function(t){return function(t,e){if(o.default.object(e)){if(t.options.drop.enabled=!1!==e.enabled,e.listeners){var n=(0,I.default)(e.listeners),r=Object.keys(n).reduce((function(t,e){return t[/^(enter|leave)/.test(e)?"drag".concat(e):/^(activate|deactivate|move)/.test(e)?"drop".concat(e):e]=n[e],t}),{});t.off(t.options.drop.listeners),t.on(r),t.options.drop.listeners=r}return o.default.func(e.ondrop)&&t.on("drop",e.ondrop),o.default.func(e.ondropactivate)&&t.on("dropactivate",e.ondropactivate),o.default.func(e.ondropdeactivate)&&t.on("dropdeactivate",e.ondropdeactivate),o.default.func(e.ondragenter)&&t.on("dragenter",e.ondragenter),o.default.func(e.ondragleave)&&t.on("dragleave",e.ondragleave),o.default.func(e.ondropmove)&&t.on("dropmove",e.ondropmove),/^(pointer|center)$/.test(e.overlap)?t.options.drop.overlap=e.overlap:o.default.number(e.overlap)&&(t.options.drop.overlap=Math.max(Math.min(1,e.overlap),0)),"accept"in e&&(t.options.drop.accept=e.accept),"checker"in e&&(t.options.drop.checker=e.checker),t}return o.default.bool(e)?(t.options.drop.enabled=e,t):t.options.drop}(this,t)},r.prototype.dropCheck=function(t,e,n,r,i,a){return function(t,e,n,r,i,a,s){var u=!1;if(!(s=s||t.getRect(a)))return!!t.options.drop.checker&&t.options.drop.checker(e,n,u,t,a,r,i);var c=t.options.drop.overlap;if("pointer"===c){var l=(0,R.default)(r,i,"drag"),f=$.getPageXY(e);f.x+=l.x,f.y+=l.y;var h=f.x>s.left&&f.x<s.right,d=f.y>s.top&&f.y<s.bottom;u=h&&d}var p=r.getRect(i);if(p&&"center"===c){var v=p.left+p.width/2,g=p.top+p.height/2;u=v>=s.left&&v<=s.right&&g>=s.top&&g<=s.bottom}return p&&o.default.number(c)&&(u=Math.max(0,Math.min(s.right,p.right)-Math.max(s.left,p.left))*Math.max(0,Math.min(s.bottom,p.bottom)-Math.max(s.top,p.top))/(p.width*p.height)>=c),t.options.drop.checker&&(u=t.options.drop.checker(e,n,u,t,a,r,i)),u}(this,t,e,n,r,i,a)},n.dynamicDrop=function(e){return o.default.bool(e)?(t.dynamicDrop=e,n):t.dynamicDrop},(0,C.default)(e.phaselessTypes,{dragenter:!0,dragleave:!0,dropactivate:!0,dropdeactivate:!0,dropmove:!0,drop:!0}),e.methodDict.drop="dropzone",t.dynamicDrop=!1,i.actions.drop=ft.defaults},listeners:{"interactions:before-action-start":function(t){var e=t.interaction;"drag"===e.prepared.name&&(e.dropState={cur:{dropzone:null,element:null},prev:{dropzone:null,element:null},rejected:null,events:null,activeDrops:[]})},"interactions:after-action-start":function(t,e){var n=t.interaction,r=(t.event,t.iEvent);if("drag"===n.prepared.name){var i=n.dropState;i.activeDrops=null,i.events=null,i.activeDrops=at(e,n.element),i.events=ut(n,0,r),i.events.activate&&(ot(i.activeDrops,i.events.activate),e.fire("actions/drop:start",{interaction:n,dragEvent:r}))}},"interactions:action-move":lt,"interactions:after-action-move":function(t,e){var n=t.interaction,r=t.iEvent;"drag"===n.prepared.name&&(ct(n,n.dropState.events),e.fire("actions/drop:move",{interaction:n,dragEvent:r}),n.dropState.events={})},"interactions:action-end":function(t,e){if("drag"===t.interaction.prepared.name){var n=t.interaction,r=t.iEvent;lt(t,e),ct(n,n.dropState.events),e.fire("actions/drop:end",{interaction:n,dragEvent:r})}},"interactions:stop":function(t){var e=t.interaction;if("drag"===e.prepared.name){var n=e.dropState;n&&(n.activeDrops=null,n.events=null,n.cur.dropzone=null,n.cur.element=null,n.prev.dropzone=null,n.prev.element=null,n.rejected=!1)}}},getActiveDrops:at,getDrop:st,getDropEvents:ut,fireDropEvents:ct,defaults:{enabled:!1,accept:null,overlap:"pointer"}},ht=ft;it.default=ht;var dt={};function pt(t){var e=t.interaction,n=t.iEvent,r=t.phase;if("gesture"===e.prepared.name){var i=e.pointers.map((function(t){return t.pointer})),a="start"===r,s="end"===r,u=e.interactable.options.deltaSource;if(n.touches=[i[0],i[1]],a)n.distance=$.touchDistance(i,u),n.box=$.touchBBox(i),n.scale=1,n.ds=0,n.angle=$.touchAngle(i,u),n.da=0,e.gesture.startDistance=n.distance,e.gesture.startAngle=n.angle;else if(s){var c=e.prevEvent;n.distance=c.distance,n.box=c.box,n.scale=c.scale,n.ds=0,n.angle=c.angle,n.da=0}else n.distance=$.touchDistance(i,u),n.box=$.touchBBox(i),n.scale=n.distance/e.gesture.startDistance,n.angle=$.touchAngle(i,u),n.ds=n.scale-e.gesture.scale,n.da=n.angle-e.gesture.angle;e.gesture.distance=n.distance,e.gesture.angle=n.angle,o.default.number(n.scale)&&n.scale!==1/0&&!isNaN(n.scale)&&(e.gesture.scale=n.scale)}}Object.defineProperty(dt,"__esModule",{value:!0}),dt.default=void 0;var vt={id:"actions/gesture",before:["actions/drag","actions/resize"],install:function(t){var e=t.actions,n=t.Interactable,r=t.defaults;n.prototype.gesturable=function(t){return o.default.object(t)?(this.options.gesture.enabled=!1!==t.enabled,this.setPerAction("gesture",t),this.setOnEvents("gesture",t),this):o.default.bool(t)?(this.options.gesture.enabled=t,this):this.options.gesture},e.map.gesture=vt,e.methodDict.gesture="gesturable",r.actions.gesture=vt.defaults},listeners:{"interactions:action-start":pt,"interactions:action-move":pt,"interactions:action-end":pt,"interactions:new":function(t){t.interaction.gesture={angle:0,distance:0,scale:1,startAngle:0,startDistance:0}},"auto-start:check":function(t){if(!(t.interaction.pointers.length<2)){var e=t.interactable.options.gesture;if(e&&e.enabled)return t.action={name:"gesture"},!1}}},defaults:{},getCursor:function(){return""}},gt=vt;dt.default=gt;var mt={};function yt(t,e,n,r,i,a,s){if(!e)return!1;if(!0===e){var u=o.default.number(a.width)?a.width:a.right-a.left,c=o.default.number(a.height)?a.height:a.bottom-a.top;if(s=Math.min(s,Math.abs(("left"===t||"right"===t?u:c)/2)),u<0&&("left"===t?t="right":"right"===t&&(t="left")),c<0&&("top"===t?t="bottom":"bottom"===t&&(t="top")),"left"===t){var l=u>=0?a.left:a.right;return n.x<l+s}if("top"===t){var f=c>=0?a.top:a.bottom;return n.y<f+s}if("right"===t)return n.x>(u>=0?a.right:a.left)-s;if("bottom"===t)return n.y>(c>=0?a.bottom:a.top)-s}return!!o.default.element(r)&&(o.default.element(e)?e===r:_.matchesUpTo(r,e,i))}function bt(t){var e=t.iEvent,n=t.interaction;if("resize"===n.prepared.name&&n.resizeAxes){var r=e;n.interactable.options.resize.square?("y"===n.resizeAxes?r.delta.x=r.delta.y:r.delta.y=r.delta.x,r.axes="xy"):(r.axes=n.resizeAxes,"x"===n.resizeAxes?r.delta.y=0:"y"===n.resizeAxes&&(r.delta.x=0))}}Object.defineProperty(mt,"__esModule",{value:!0}),mt.default=void 0;var wt={id:"actions/resize",before:["actions/drag"],install:function(t){var e=t.actions,n=t.browser,r=t.Interactable,i=t.defaults;wt.cursors=function(t){return t.isIe9?{x:"e-resize",y:"s-resize",xy:"se-resize",top:"n-resize",left:"w-resize",bottom:"s-resize",right:"e-resize",topleft:"se-resize",bottomright:"se-resize",topright:"ne-resize",bottomleft:"ne-resize"}:{x:"ew-resize",y:"ns-resize",xy:"nwse-resize",top:"ns-resize",left:"ew-resize",bottom:"ns-resize",right:"ew-resize",topleft:"nwse-resize",bottomright:"nwse-resize",topright:"nesw-resize",bottomleft:"nesw-resize"}}(n),wt.defaultMargin=n.supportsTouch||n.supportsPointerEvent?20:10,r.prototype.resizable=function(e){return function(t,e,n){return o.default.object(e)?(t.options.resize.enabled=!1!==e.enabled,t.setPerAction("resize",e),t.setOnEvents("resize",e),o.default.string(e.axis)&&/^x$|^y$|^xy$/.test(e.axis)?t.options.resize.axis=e.axis:null===e.axis&&(t.options.resize.axis=n.defaults.actions.resize.axis),o.default.bool(e.preserveAspectRatio)?t.options.resize.preserveAspectRatio=e.preserveAspectRatio:o.default.bool(e.square)&&(t.options.resize.square=e.square),t):o.default.bool(e)?(t.options.resize.enabled=e,t):t.options.resize}(this,e,t)},e.map.resize=wt,e.methodDict.resize="resizable",i.actions.resize=wt.defaults},listeners:{"interactions:new":function(t){t.interaction.resizeAxes="xy"},"interactions:action-start":function(t){!function(t){var e=t.iEvent,n=t.interaction;if("resize"===n.prepared.name&&n.prepared.edges){var r=e,i=n.rect;n._rects={start:(0,C.default)({},i),corrected:(0,C.default)({},i),previous:(0,C.default)({},i),delta:{left:0,right:0,width:0,top:0,bottom:0,height:0}},r.edges=n.prepared.edges,r.rect=n._rects.corrected,r.deltaRect=n._rects.delta}}(t),bt(t)},"interactions:action-move":function(t){!function(t){var e=t.iEvent,n=t.interaction;if("resize"===n.prepared.name&&n.prepared.edges){var r=e,i=n.interactable.options.resize.invert,o="reposition"===i||"negate"===i,a=n.rect,s=n._rects,u=s.start,c=s.corrected,l=s.delta,f=s.previous;if((0,C.default)(f,c),o){if((0,C.default)(c,a),"reposition"===i){if(c.top>c.bottom){var h=c.top;c.top=c.bottom,c.bottom=h}if(c.left>c.right){var d=c.left;c.left=c.right,c.right=d}}}else c.top=Math.min(a.top,u.bottom),c.bottom=Math.max(a.bottom,u.top),c.left=Math.min(a.left,u.right),c.right=Math.max(a.right,u.left);for(var p in c.width=c.right-c.left,c.height=c.bottom-c.top,c)l[p]=c[p]-f[p];r.edges=n.prepared.edges,r.rect=c,r.deltaRect=l}}(t),bt(t)},"interactions:action-end":function(t){var e=t.iEvent,n=t.interaction;if("resize"===n.prepared.name&&n.prepared.edges){var r=e;r.edges=n.prepared.edges,r.rect=n._rects.corrected,r.deltaRect=n._rects.delta}},"auto-start:check":function(t){var e=t.interaction,n=t.interactable,r=t.element,i=t.rect,a=t.buttons;if(i){var s=(0,C.default)({},e.coords.cur.page),u=n.options.resize;if(u&&u.enabled&&(!e.pointerIsDown||!/mouse|pointer/.test(e.pointerType)||a&u.mouseButtons)){if(o.default.object(u.edges)){var c={left:!1,right:!1,top:!1,bottom:!1};for(var l in c)c[l]=yt(l,u.edges[l],s,e._latestPointer.eventTarget,r,i,u.margin||wt.defaultMargin);c.left=c.left&&!c.right,c.top=c.top&&!c.bottom,(c.left||c.right||c.top||c.bottom)&&(t.action={name:"resize",edges:c})}else{var f="y"!==u.axis&&s.x>i.right-wt.defaultMargin,h="x"!==u.axis&&s.y>i.bottom-wt.defaultMargin;(f||h)&&(t.action={name:"resize",axes:(f?"x":"")+(h?"y":"")})}return!t.action&&void 0}}}},defaults:{square:!1,preserveAspectRatio:!1,axis:"xy",margin:NaN,edges:null,invert:"none"},cursors:null,getCursor:function(t){var e=t.edges,n=t.axis,r=t.name,i=wt.cursors,o=null;if(n)o=i[r+n];else if(e){for(var a="",s=["top","bottom","left","right"],u=0;u<s.length;u++){var c=s[u];e[c]&&(a+=c)}o=i[a]}return o},defaultMargin:null},xt=wt;mt.default=xt;var _t={};Object.defineProperty(_t,"__esModule",{value:!0}),_t.default=void 0;var kt={id:"actions",install:function(t){t.usePlugin(dt.default),t.usePlugin(mt.default),t.usePlugin(l.default),t.usePlugin(it.default)}};_t.default=kt;var St={};Object.defineProperty(St,"__esModule",{value:!0}),St.default=void 0;var Pt,Et,Ot=0,Tt={request:function(t){return Pt(t)},cancel:function(t){return Et(t)},init:function(t){if(Pt=t.requestAnimationFrame,Et=t.cancelAnimationFrame,!Pt)for(var e=["ms","moz","webkit","o"],n=0;n<e.length;n++){var r=e[n];Pt=t["".concat(r,"RequestAnimationFrame")],Et=t["".concat(r,"CancelAnimationFrame")]||t["".concat(r,"CancelRequestAnimationFrame")]}Pt=Pt&&Pt.bind(t),Et=Et&&Et.bind(t),Pt||(Pt=function(e){var n=Date.now(),r=Math.max(0,16-(n-Ot)),i=t.setTimeout((function(){e(n+r)}),r);return Ot=n+r,i},Et=function(t){return clearTimeout(t)})}};St.default=Tt;var Ct={};Object.defineProperty(Ct,"__esModule",{value:!0}),Ct.default=void 0,Ct.getContainer=Mt,Ct.getScroll=At,Ct.getScrollSize=function(t){return o.default.window(t)&&(t=window.document.body),{x:t.scrollWidth,y:t.scrollHeight}},Ct.getScrollSizeDelta=function(t,e){var n=t.interaction,r=t.element,i=n&&n.interactable.options[n.prepared.name].autoScroll;if(!i||!i.enabled)return e(),{x:0,y:0};var o=Mt(i.container,n.interactable,r),a=At(o);e();var s=At(o);return{x:s.x-a.x,y:s.y-a.y}};var jt={defaults:{enabled:!1,margin:60,container:null,speed:300},now:Date.now,interaction:null,i:0,x:0,y:0,isScrolling:!1,prevTime:0,margin:0,speed:0,start:function(t){jt.isScrolling=!0,St.default.cancel(jt.i),t.autoScroll=jt,jt.interaction=t,jt.prevTime=jt.now(),jt.i=St.default.request(jt.scroll)},stop:function(){jt.isScrolling=!1,jt.interaction&&(jt.interaction.autoScroll=null),St.default.cancel(jt.i)},scroll:function(){var t=jt.interaction,e=t.interactable,n=t.element,r=t.prepared.name,i=e.options[r].autoScroll,a=Mt(i.container,e,n),s=jt.now(),u=(s-jt.prevTime)/1e3,c=i.speed*u;if(c>=1){var l={x:jt.x*c,y:jt.y*c};if(l.x||l.y){var f=At(a);o.default.window(a)?a.scrollBy(l.x,l.y):a&&(a.scrollLeft+=l.x,a.scrollTop+=l.y);var h=At(a),d={x:h.x-f.x,y:h.y-f.y};(d.x||d.y)&&e.fire({type:"autoscroll",target:n,interactable:e,delta:d,interaction:t,container:a})}jt.prevTime=s}jt.isScrolling&&(St.default.cancel(jt.i),jt.i=St.default.request(jt.scroll))},check:function(t,e){var n;return null==(n=t.options[e].autoScroll)?void 0:n.enabled},onInteractionMove:function(t){var e=t.interaction,n=t.pointer;if(e.interacting()&&jt.check(e.interactable,e.prepared.name))if(e.simulation)jt.x=jt.y=0;else{var r,i,a,s,u=e.interactable,c=e.element,l=e.prepared.name,f=u.options[l].autoScroll,h=Mt(f.container,u,c);if(o.default.window(h))s=n.clientX<jt.margin,r=n.clientY<jt.margin,i=n.clientX>h.innerWidth-jt.margin,a=n.clientY>h.innerHeight-jt.margin;else{var d=_.getElementClientRect(h);s=n.clientX<d.left+jt.margin,r=n.clientY<d.top+jt.margin,i=n.clientX>d.right-jt.margin,a=n.clientY>d.bottom-jt.margin}jt.x=i?1:s?-1:0,jt.y=a?1:r?-1:0,jt.isScrolling||(jt.margin=f.margin,jt.speed=f.speed,jt.start(e))}}};function Mt(t,n,r){return(o.default.string(t)?(0,j.getStringOptionResult)(t,n,r):t)||(0,e.getWindow)(r)}function At(t){return o.default.window(t)&&(t=window.document.body),{x:t.scrollLeft,y:t.scrollTop}}var Rt={id:"auto-scroll",install:function(t){var e=t.defaults,n=t.actions;t.autoScroll=jt,jt.now=function(){return t.now()},n.phaselessTypes.autoscroll=!0,e.perAction.autoScroll=jt.defaults},listeners:{"interactions:new":function(t){t.interaction.autoScroll=null},"interactions:destroy":function(t){t.interaction.autoScroll=null,jt.stop(),jt.interaction&&(jt.interaction=null)},"interactions:stop":jt.stop,"interactions:action-move":function(t){return jt.onInteractionMove(t)}}},It=Rt;Ct.default=It;var Lt={};Object.defineProperty(Lt,"__esModule",{value:!0}),Lt.copyAction=function(t,e){return t.name=e.name,t.axis=e.axis,t.edges=e.edges,t},Lt.sign=void 0,Lt.warnOnce=function(t,n){var r=!1;return function(){return r||(e.window.console.warn(n),r=!0),t.apply(this,arguments)}},Lt.sign=function(t){return t>=0?1:-1};var Dt={};function Nt(t){return o.default.bool(t)?(this.options.styleCursor=t,this):null===t?(delete this.options.styleCursor,this):this.options.styleCursor}function $t(t){return o.default.func(t)?(this.options.actionChecker=t,this):null===t?(delete this.options.actionChecker,this):this.options.actionChecker}Object.defineProperty(Dt,"__esModule",{value:!0}),Dt.default=void 0;var Ft={id:"auto-start/interactableMethods",install:function(t){var e=t.Interactable;e.prototype.getAction=function(e,n,r,i){var o=function(t,e,n,r,i){var o=t.getRect(r),a={action:null,interactable:t,interaction:n,element:r,rect:o,buttons:e.buttons||{0:1,1:4,3:8,4:16}[e.button]};return i.fire("auto-start:check",a),a.action}(this,n,r,i,t);return this.options.actionChecker?this.options.actionChecker(e,n,o,this,i,r):o},e.prototype.ignoreFrom=(0,Lt.warnOnce)((function(t){return this._backCompatOption("ignoreFrom",t)}),"Interactable.ignoreFrom() has been deprecated. Use Interactble.draggable({ignoreFrom: newValue})."),e.prototype.allowFrom=(0,Lt.warnOnce)((function(t){return this._backCompatOption("allowFrom",t)}),"Interactable.allowFrom() has been deprecated. Use Interactble.draggable({allowFrom: newValue})."),e.prototype.actionChecker=$t,e.prototype.styleCursor=Nt}};Dt.default=Ft;var Bt={};function Ut(t,e,n,r,i){return e.testIgnoreAllow(e.options[t.name],n,r)&&e.options[t.name].enabled&&Vt(e,n,t,i)?t:null}function zt(t,e,n,r,i,o,a){for(var s=0,u=r.length;s<u;s++){var c=r[s],l=i[s],f=c.getAction(e,n,t,l);if(f){var h=Ut(f,c,l,o,a);if(h)return{action:h,interactable:c,element:l}}}return{action:null,interactable:null,element:null}}function Wt(t,e,n,r,i){var a=[],s=[],u=r;function c(t){a.push(t),s.push(u)}for(;o.default.element(u);){a=[],s=[],i.interactables.forEachMatch(u,c);var l=zt(t,e,n,a,s,r,i);if(l.action&&!l.interactable.options[l.action.name].manualStart)return l;u=_.parentNode(u)}return{action:null,interactable:null,element:null}}function Ht(t,e,n){var r=e.action,i=e.interactable,o=e.element;r=r||{name:null},t.interactable=i,t.element=o,(0,Lt.copyAction)(t.prepared,r),t.rect=i&&r.name?i.getRect(o):null,Xt(t,n),n.fire("autoStart:prepared",{interaction:t})}function Vt(t,e,n,r){var i=t.options,o=i[n.name].max,a=i[n.name].maxPerElement,s=r.autoStart.maxInteractions,u=0,c=0,l=0;if(!(o&&a&&s))return!1;for(var f=0;f<r.interactions.list.length;f++){var h=r.interactions.list[f],d=h.prepared.name;if(h.interacting()){if(++u>=s)return!1;if(h.interactable===t){if((c+=d===n.name?1:0)>=o)return!1;if(h.element===e&&(l++,d===n.name&&l>=a))return!1}}}return s>0}function Gt(t,e){return o.default.number(t)?(e.autoStart.maxInteractions=t,this):e.autoStart.maxInteractions}function Yt(t,e,n){var r=n.autoStart.cursorElement;r&&r!==t&&(r.style.cursor=""),t.ownerDocument.documentElement.style.cursor=e,t.style.cursor=e,n.autoStart.cursorElement=e?t:null}function Xt(t,e){var n=t.interactable,r=t.element,i=t.prepared;if("mouse"===t.pointerType&&n&&n.options.styleCursor){var a="";if(i.name){var s=n.options[i.name].cursorChecker;a=o.default.func(s)?s(i,n,r,t._interacting):e.actions.map[i.name].getCursor(i)}Yt(t.element,a||"",e)}else e.autoStart.cursorElement&&Yt(e.autoStart.cursorElement,"",e)}Object.defineProperty(Bt,"__esModule",{value:!0}),Bt.default=void 0;var qt={id:"auto-start/base",before:["actions"],install:function(t){var e=t.interactStatic,n=t.defaults;t.usePlugin(Dt.default),n.base.actionChecker=null,n.base.styleCursor=!0,(0,C.default)(n.perAction,{manualStart:!1,max:1/0,maxPerElement:1,allowFrom:null,ignoreFrom:null,mouseButtons:1}),e.maxInteractions=function(e){return Gt(e,t)},t.autoStart={maxInteractions:1/0,withinInteractionLimit:Vt,cursorElement:null}},listeners:{"interactions:down":function(t,e){var n=t.interaction,r=t.pointer,i=t.event,o=t.eventTarget;n.interacting()||Ht(n,Wt(n,r,i,o,e),e)},"interactions:move":function(t,e){!function(t,e){var n=t.interaction,r=t.pointer,i=t.event,o=t.eventTarget;"mouse"!==n.pointerType||n.pointerIsDown||n.interacting()||Ht(n,Wt(n,r,i,o,e),e)}(t,e),function(t,e){var n=t.interaction;if(n.pointerIsDown&&!n.interacting()&&n.pointerWasMoved&&n.prepared.name){e.fire("autoStart:before-start",t);var r=n.interactable,i=n.prepared.name;i&&r&&(r.options[i].manualStart||!Vt(r,n.element,n.prepared,e)?n.stop():(n.start(n.prepared,r,n.element),Xt(n,e)))}}(t,e)},"interactions:stop":function(t,e){var n=t.interaction,r=n.interactable;r&&r.options.styleCursor&&Yt(n.element,"",e)}},maxInteractions:Gt,withinInteractionLimit:Vt,validateAction:Ut},Zt=qt;Bt.default=Zt;var Kt={};Object.defineProperty(Kt,"__esModule",{value:!0}),Kt.default=void 0;var Jt={id:"auto-start/dragAxis",listeners:{"autoStart:before-start":function(t,e){var n=t.interaction,r=t.eventTarget,i=t.dx,a=t.dy;if("drag"===n.prepared.name){var s=Math.abs(i),u=Math.abs(a),c=n.interactable.options.drag,l=c.startAxis,f=s>u?"x":s<u?"y":"xy";if(n.prepared.axis="start"===c.lockAxis?f[0]:c.lockAxis,"xy"!==f&&"xy"!==l&&l!==f){n.prepared.name=null;for(var h=r,d=function(t){if(t!==n.interactable){var i=n.interactable.options.drag;if(!i.manualStart&&t.testIgnoreAllow(i,h,r)){var o=t.getAction(n.downPointer,n.downEvent,n,h);if(o&&"drag"===o.name&&function(t,e){if(!e)return!1;var n=e.options.drag.startAxis;return"xy"===t||"xy"===n||n===t}(f,t)&&Bt.default.validateAction(o,t,h,r,e))return t}}};o.default.element(h);){var p=e.interactables.forEachMatch(h,d);if(p){n.prepared.name="drag",n.interactable=p,n.element=h;break}h=(0,_.parentNode)(h)}}}}}};Kt.default=Jt;var Qt={};function te(t){var e=t.prepared&&t.prepared.name;if(!e)return null;var n=t.interactable.options;return n[e].hold||n[e].delay}Object.defineProperty(Qt,"__esModule",{value:!0}),Qt.default=void 0;var ee={id:"auto-start/hold",install:function(t){var e=t.defaults;t.usePlugin(Bt.default),e.perAction.hold=0,e.perAction.delay=0},listeners:{"interactions:new":function(t){t.interaction.autoStartHoldTimer=null},"autoStart:prepared":function(t){var e=t.interaction,n=te(e);n>0&&(e.autoStartHoldTimer=setTimeout((function(){e.start(e.prepared,e.interactable,e.element)}),n))},"interactions:move":function(t){var e=t.interaction,n=t.duplicate;e.autoStartHoldTimer&&e.pointerWasMoved&&!n&&(clearTimeout(e.autoStartHoldTimer),e.autoStartHoldTimer=null)},"autoStart:before-start":function(t){var e=t.interaction;te(e)>0&&(e.prepared.name=null)}},getHoldDuration:te},ne=ee;Qt.default=ne;var re={};Object.defineProperty(re,"__esModule",{value:!0}),re.default=void 0;var ie={id:"auto-start",install:function(t){t.usePlugin(Bt.default),t.usePlugin(Qt.default),t.usePlugin(Kt.default)}};re.default=ie;var oe={};function ae(t){return/^(always|never|auto)$/.test(t)?(this.options.preventDefault=t,this):o.default.bool(t)?(this.options.preventDefault=t?"always":"never",this):this.options.preventDefault}function se(t){var e=t.interaction,n=t.event;e.interactable&&e.interactable.checkAndPreventDefault(n)}function ue(t){var n=t.Interactable;n.prototype.preventDefault=ae,n.prototype.checkAndPreventDefault=function(n){return function(t,n,r){var i=t.options.preventDefault;if("never"!==i)if("always"!==i){if(n.events.supportsPassive&&/^touch(start|move)$/.test(r.type)){var a=(0,e.getWindow)(r.target).document,s=n.getDocOptions(a);if(!s||!s.events||!1!==s.events.passive)return}/^(mouse|pointer|touch)*(down|start)/i.test(r.type)||o.default.element(r.target)&&(0,_.matchesSelector)(r.target,"input,select,textarea,[contenteditable=true],[contenteditable=true] *")||r.preventDefault()}else r.preventDefault()}(this,t,n)},t.interactions.docEvents.push({type:"dragstart",listener:function(e){for(var n=0;n<t.interactions.list.length;n++){var r=t.interactions.list[n];if(r.element&&(r.element===e.target||(0,_.nodeContains)(r.element,e.target)))return void r.interactable.checkAndPreventDefault(e)}}})}Object.defineProperty(oe,"__esModule",{value:!0}),oe.default=void 0,oe.install=ue;var ce={id:"core/interactablePreventDefault",install:ue,listeners:["down","move","up","cancel"].reduce((function(t,e){return t["interactions:".concat(e)]=se,t}),{})};oe.default=ce;var le={};Object.defineProperty(le,"__esModule",{value:!0}),le.default=void 0,le.default={};var fe,he={};Object.defineProperty(he,"__esModule",{value:!0}),he.default=void 0,function(t){t.touchAction="touchAction",t.boxSizing="boxSizing",t.noListeners="noListeners"}(fe||(fe={})),fe.touchAction,fe.boxSizing,fe.noListeners;he.default={id:"dev-tools",install:function(){}};var de={};Object.defineProperty(de,"__esModule",{value:!0}),de.default=function t(e){var n={};for(var r in e){var i=e[r];o.default.plainObject(i)?n[r]=t(i):o.default.array(i)?n[r]=X.from(i):n[r]=i}return n};var pe={};function ve(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(t);!(a=(r=n.next()).done)&&(o.push(r.value),!e||o.length!==e);a=!0);}catch(t){s=!0,i=t}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}}(t,e)||function(t,e){if(t){if("string"==typeof t)return ge(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ge(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ge(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function me(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}Object.defineProperty(pe,"__esModule",{value:!0}),pe.default=void 0,pe.getRectOffset=we;var ye=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),me(this,"states",[]),me(this,"startOffset",{left:0,right:0,top:0,bottom:0}),me(this,"startDelta",void 0),me(this,"result",void 0),me(this,"endResult",void 0),me(this,"startEdges",void 0),me(this,"edges",void 0),me(this,"interaction",void 0),this.interaction=e,this.result=be(),this.edges={left:!1,right:!1,top:!1,bottom:!1}}var e,n;return e=t,(n=[{key:"start",value:function(t,e){var n=t.phase,r=this.interaction,i=function(t){var e=t.interactable.options[t.prepared.name],n=e.modifiers;return n&&n.length?n:["snap","snapSize","snapEdges","restrict","restrictEdges","restrictSize"].map((function(t){var n=e[t];return n&&n.enabled&&{options:n,methods:n._methods}})).filter((function(t){return!!t}))}(r);this.prepareStates(i),this.startEdges=(0,C.default)({},r.edges),this.edges=(0,C.default)({},this.startEdges),this.startOffset=we(r.rect,e),this.startDelta={x:0,y:0};var o=this.fillArg({phase:n,pageCoords:e,preEnd:!1});return this.result=be(),this.startAll(o),this.result=this.setAll(o)}},{key:"fillArg",value:function(t){var e=this.interaction;return t.interaction=e,t.interactable=e.interactable,t.element=e.element,t.rect||(t.rect=e.rect),t.edges||(t.edges=this.startEdges),t.startOffset=this.startOffset,t}},{key:"startAll",value:function(t){for(var e=0;e<this.states.length;e++){var n=this.states[e];n.methods.start&&(t.state=n,n.methods.start(t))}}},{key:"setAll",value:function(t){var e=t.phase,n=t.preEnd,r=t.skipModifiers,i=t.rect,o=t.edges;t.coords=(0,C.default)({},t.pageCoords),t.rect=(0,C.default)({},i),t.edges=(0,C.default)({},o);for(var a=r?this.states.slice(r):this.states,s=be(t.coords,t.rect),u=0;u<a.length;u++){var c,l=a[u],f=l.options,h=(0,C.default)({},t.coords),d=null;null!=(c=l.methods)&&c.set&&this.shouldDo(f,n,e)&&(t.state=l,d=l.methods.set(t),j.addEdges(t.edges,t.rect,{x:t.coords.x-h.x,y:t.coords.y-h.y})),s.eventProps.push(d)}(0,C.default)(this.edges,t.edges),s.delta.x=t.coords.x-t.pageCoords.x,s.delta.y=t.coords.y-t.pageCoords.y,s.rectDelta.left=t.rect.left-i.left,s.rectDelta.right=t.rect.right-i.right,s.rectDelta.top=t.rect.top-i.top,s.rectDelta.bottom=t.rect.bottom-i.bottom;var p=this.result.coords,v=this.result.rect;if(p&&v){var g=s.rect.left!==v.left||s.rect.right!==v.right||s.rect.top!==v.top||s.rect.bottom!==v.bottom;s.changed=g||p.x!==s.coords.x||p.y!==s.coords.y}return s}},{key:"applyToInteraction",value:function(t){var e=this.interaction,n=t.phase,r=e.coords.cur,i=e.coords.start,o=this.result,a=this.startDelta,s=o.delta;"start"===n&&(0,C.default)(this.startDelta,o.delta);for(var u=0;u<2;u++){var c=ve([[i,a],[r,s]][u],2),l=c[0],f=c[1];l.page.x+=f.x,l.page.y+=f.y,l.client.x+=f.x,l.client.y+=f.y}var h=this.result.rectDelta,d=t.rect||e.rect;d.left+=h.left,d.right+=h.right,d.top+=h.top,d.bottom+=h.bottom,d.width=d.right-d.left,d.height=d.bottom-d.top}},{key:"setAndApply",value:function(t){var e=this.interaction,n=t.phase,r=t.preEnd,i=t.skipModifiers,o=this.setAll(this.fillArg({preEnd:r,phase:n,pageCoords:t.modifiedCoords||e.coords.cur.page}));if(this.result=o,!o.changed&&(!i||i<this.states.length)&&e.interacting())return!1;if(t.modifiedCoords){var a=e.coords.cur.page,s={x:t.modifiedCoords.x-a.x,y:t.modifiedCoords.y-a.y};o.coords.x+=s.x,o.coords.y+=s.y,o.delta.x+=s.x,o.delta.y+=s.y}this.applyToInteraction(t)}},{key:"beforeEnd",value:function(t){var e=t.interaction,n=t.event,r=this.states;if(r&&r.length){for(var i=!1,o=0;o<r.length;o++){var a=r[o];t.state=a;var s=a.options,u=a.methods,c=u.beforeEnd&&u.beforeEnd(t);if(c)return this.endResult=c,!1;i=i||!i&&this.shouldDo(s,!0,t.phase,!0)}i&&e.move({event:n,preEnd:!0})}}},{key:"stop",value:function(t){var e=t.interaction;if(this.states&&this.states.length){var n=(0,C.default)({states:this.states,interactable:e.interactable,element:e.element,rect:null},t);this.fillArg(n);for(var r=0;r<this.states.length;r++){var i=this.states[r];n.state=i,i.methods.stop&&i.methods.stop(n)}this.states=null,this.endResult=null}}},{key:"prepareStates",value:function(t){this.states=[];for(var e=0;e<t.length;e++){var n=t[e],r=n.options,i=n.methods,o=n.name;this.states.push({options:r,methods:i,index:e,name:o})}return this.states}},{key:"restoreInteractionCoords",value:function(t){var e=t.interaction,n=e.coords,r=e.rect,i=e.modification;if(i.result){for(var o=i.startDelta,a=i.result,s=a.delta,u=a.rectDelta,c=[[n.start,o],[n.cur,s]],l=0;l<c.length;l++){var f=ve(c[l],2),h=f[0],d=f[1];h.page.x-=d.x,h.page.y-=d.y,h.client.x-=d.x,h.client.y-=d.y}r.left-=u.left,r.right-=u.right,r.top-=u.top,r.bottom-=u.bottom}}},{key:"shouldDo",value:function(t,e,n,r){return!(!t||!1===t.enabled||r&&!t.endOnly||t.endOnly&&!e||"start"===n&&!t.setStart)}},{key:"copyFrom",value:function(t){this.startOffset=t.startOffset,this.startDelta=t.startDelta,this.startEdges=t.startEdges,this.edges=t.edges,this.states=t.states.map((function(t){return(0,de.default)(t)})),this.result=be((0,C.default)({},t.result.coords),(0,C.default)({},t.result.rect))}},{key:"destroy",value:function(){for(var t in this)this[t]=null}}])&&function(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();function be(t,e){return{rect:e,coords:t,delta:{x:0,y:0},rectDelta:{left:0,right:0,top:0,bottom:0},eventProps:[],changed:!0}}function we(t,e){return t?{left:e.x-t.left,top:e.y-t.top,right:t.right-e.x,bottom:t.bottom-e.y}:{left:0,top:0,right:0,bottom:0}}pe.default=ye;var xe={};function _e(t){var e=t.iEvent,n=t.interaction.modification.result;n&&(e.modifiers=n.eventProps)}Object.defineProperty(xe,"__esModule",{value:!0}),xe.addEventModifiers=_e,xe.default=void 0,xe.makeModifier=function(t,e){var n=t.defaults,r={start:t.start,set:t.set,beforeEnd:t.beforeEnd,stop:t.stop},i=function(t){var i=t||{};for(var o in i.enabled=!1!==i.enabled,n)o in i||(i[o]=n[o]);var a={options:i,methods:r,name:e,enable:function(){return i.enabled=!0,a},disable:function(){return i.enabled=!1,a}};return a};return e&&"string"==typeof e&&(i._defaults=n,i._methods=r),i};var ke={id:"modifiers/base",before:["actions"],install:function(t){t.defaults.perAction.modifiers=[]},listeners:{"interactions:new":function(t){var e=t.interaction;e.modification=new pe.default(e)},"interactions:before-action-start":function(t){var e=t.interaction,n=t.interaction.modification;n.start(t,e.coords.start.page),e.edges=n.edges,n.applyToInteraction(t)},"interactions:before-action-move":function(t){var e=t.interaction,n=e.modification,r=n.setAndApply(t);return e.edges=n.edges,r},"interactions:before-action-end":function(t){var e=t.interaction,n=e.modification,r=n.beforeEnd(t);return e.edges=n.startEdges,r},"interactions:action-start":_e,"interactions:action-move":_e,"interactions:action-end":_e,"interactions:after-action-start":function(t){return t.interaction.modification.restoreInteractionCoords(t)},"interactions:after-action-move":function(t){return t.interaction.modification.restoreInteractionCoords(t)},"interactions:stop":function(t){return t.interaction.modification.stop(t)}}},Se=ke;xe.default=Se;var Pe={};Object.defineProperty(Pe,"__esModule",{value:!0}),Pe.defaults=void 0,Pe.defaults={base:{preventDefault:"auto",deltaSource:"page"},perAction:{enabled:!1,origin:{x:0,y:0}},actions:{}};var Ee={};function Oe(t){return Oe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Oe(t)}function Te(t,e){return Te=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Te(t,e)}function Ce(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function je(t){return je=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},je(t)}function Me(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}Object.defineProperty(Ee,"__esModule",{value:!0}),Ee.InteractEvent=void 0;var Ae=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Te(t,e)}(a,t);var e,n,r,i,o=(r=a,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=je(r);if(i){var n=je(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===Oe(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return Ce(t)}(this,t)});function a(t,e,n,r,i,s,u){var c;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),Me(Ce(c=o.call(this,t)),"relatedTarget",null),Me(Ce(c),"screenX",void 0),Me(Ce(c),"screenY",void 0),Me(Ce(c),"button",void 0),Me(Ce(c),"buttons",void 0),Me(Ce(c),"ctrlKey",void 0),Me(Ce(c),"shiftKey",void 0),Me(Ce(c),"altKey",void 0),Me(Ce(c),"metaKey",void 0),Me(Ce(c),"page",void 0),Me(Ce(c),"client",void 0),Me(Ce(c),"delta",void 0),Me(Ce(c),"rect",void 0),Me(Ce(c),"x0",void 0),Me(Ce(c),"y0",void 0),Me(Ce(c),"t0",void 0),Me(Ce(c),"dt",void 0),Me(Ce(c),"duration",void 0),Me(Ce(c),"clientX0",void 0),Me(Ce(c),"clientY0",void 0),Me(Ce(c),"velocity",void 0),Me(Ce(c),"speed",void 0),Me(Ce(c),"swipe",void 0),Me(Ce(c),"axes",void 0),Me(Ce(c),"preEnd",void 0),i=i||t.element;var l=t.interactable,f=(l&&l.options||Pe.defaults).deltaSource,h=(0,R.default)(l,i,n),d="start"===r,p="end"===r,v=d?Ce(c):t.prevEvent,g=d?t.coords.start:p?{page:v.page,client:v.client,timeStamp:t.coords.cur.timeStamp}:t.coords.cur;return c.page=(0,C.default)({},g.page),c.client=(0,C.default)({},g.client),c.rect=(0,C.default)({},t.rect),c.timeStamp=g.timeStamp,p||(c.page.x-=h.x,c.page.y-=h.y,c.client.x-=h.x,c.client.y-=h.y),c.ctrlKey=e.ctrlKey,c.altKey=e.altKey,c.shiftKey=e.shiftKey,c.metaKey=e.metaKey,c.button=e.button,c.buttons=e.buttons,c.target=i,c.currentTarget=i,c.preEnd=s,c.type=u||n+(r||""),c.interactable=l,c.t0=d?t.pointers[t.pointers.length-1].downTime:v.t0,c.x0=t.coords.start.page.x-h.x,c.y0=t.coords.start.page.y-h.y,c.clientX0=t.coords.start.client.x-h.x,c.clientY0=t.coords.start.client.y-h.y,c.delta=d||p?{x:0,y:0}:{x:c[f].x-v[f].x,y:c[f].y-v[f].y},c.dt=t.coords.delta.timeStamp,c.duration=c.timeStamp-c.t0,c.velocity=(0,C.default)({},t.coords.velocity[f]),c.speed=(0,D.default)(c.velocity.x,c.velocity.y),c.swipe=p||"inertiastart"===r?c.getSwipe():null,c}return e=a,(n=[{key:"getSwipe",value:function(){var t=this._interaction;if(t.prevEvent.speed<600||this.timeStamp-t.prevEvent.timeStamp>150)return null;var e=180*Math.atan2(t.prevEvent.velocityY,t.prevEvent.velocityX)/Math.PI;e<0&&(e+=360);var n=112.5<=e&&e<247.5,r=202.5<=e&&e<337.5;return{up:r,down:!r&&22.5<=e&&e<157.5,left:n,right:!n&&(292.5<=e||e<67.5),angle:e,speed:t.prevEvent.speed,velocity:{x:t.prevEvent.velocityX,y:t.prevEvent.velocityY}}}},{key:"preventDefault",value:function(){}},{key:"stopImmediatePropagation",value:function(){this.immediatePropagationStopped=this.propagationStopped=!0}},{key:"stopPropagation",value:function(){this.propagationStopped=!0}}])&&function(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),a}(V.BaseEvent);Ee.InteractEvent=Ae,Object.defineProperties(Ae.prototype,{pageX:{get:function(){return this.page.x},set:function(t){this.page.x=t}},pageY:{get:function(){return this.page.y},set:function(t){this.page.y=t}},clientX:{get:function(){return this.client.x},set:function(t){this.client.x=t}},clientY:{get:function(){return this.client.y},set:function(t){this.client.y=t}},dx:{get:function(){return this.delta.x},set:function(t){this.delta.x=t}},dy:{get:function(){return this.delta.y},set:function(t){this.delta.y=t}},velocityX:{get:function(){return this.velocity.x},set:function(t){this.velocity.x=t}},velocityY:{get:function(){return this.velocity.y},set:function(t){this.velocity.y=t}}});var Re={};function Ie(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Le(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}Object.defineProperty(Re,"__esModule",{value:!0}),Re.PointerInfo=void 0;var De=function(t,e,n){return e&&Ie(t.prototype,e),n&&Ie(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}((function t(e,n,r,i,o){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),Le(this,"id",void 0),Le(this,"pointer",void 0),Le(this,"event",void 0),Le(this,"downTime",void 0),Le(this,"downTarget",void 0),this.id=e,this.pointer=n,this.event=r,this.downTime=i,this.downTarget=o}));Re.PointerInfo=De;var Ne,$e,Fe={};function Be(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}Object.defineProperty(Fe,"__esModule",{value:!0}),Fe.Interaction=void 0,Object.defineProperty(Fe,"PointerInfo",{enumerable:!0,get:function(){return Re.PointerInfo}}),Fe.default=Fe._ProxyValues=Fe._ProxyMethods=void 0,Fe._ProxyValues=Ne,function(t){t.interactable="",t.element="",t.prepared="",t.pointerIsDown="",t.pointerWasMoved="",t._proxy=""}(Ne||(Fe._ProxyValues=Ne={})),Fe._ProxyMethods=$e,function(t){t.start="",t.move="",t.end="",t.stop="",t.interacting=""}($e||(Fe._ProxyMethods=$e={}));var Ue=0,ze=function(){function t(e){var n=this,r=e.pointerType,i=e.scopeFire;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),Be(this,"interactable",null),Be(this,"element",null),Be(this,"rect",null),Be(this,"_rects",void 0),Be(this,"edges",null),Be(this,"_scopeFire",void 0),Be(this,"prepared",{name:null,axis:null,edges:null}),Be(this,"pointerType",void 0),Be(this,"pointers",[]),Be(this,"downEvent",null),Be(this,"downPointer",{}),Be(this,"_latestPointer",{pointer:null,event:null,eventTarget:null}),Be(this,"prevEvent",null),Be(this,"pointerIsDown",!1),Be(this,"pointerWasMoved",!1),Be(this,"_interacting",!1),Be(this,"_ending",!1),Be(this,"_stopped",!0),Be(this,"_proxy",null),Be(this,"simulation",null),Be(this,"doMove",(0,Lt.warnOnce)((function(t){this.move(t)}),"The interaction.doMove() method has been renamed to interaction.move()")),Be(this,"coords",{start:$.newCoords(),prev:$.newCoords(),cur:$.newCoords(),delta:$.newCoords(),velocity:$.newCoords()}),Be(this,"_id",Ue++),this._scopeFire=i,this.pointerType=r;var o=this;this._proxy={};var a=function(t){Object.defineProperty(n._proxy,t,{get:function(){return o[t]}})};for(var s in Ne)a(s);var u=function(t){Object.defineProperty(n._proxy,t,{value:function(){return o[t].apply(o,arguments)}})};for(var c in $e)u(c);this._scopeFire("interactions:new",{interaction:this})}var e,n;return e=t,n=[{key:"pointerMoveTolerance",get:function(){return 1}},{key:"pointerDown",value:function(t,e,n){var r=this.updatePointer(t,e,n,!0),i=this.pointers[r];this._scopeFire("interactions:down",{pointer:t,event:e,eventTarget:n,pointerIndex:r,pointerInfo:i,type:"down",interaction:this})}},{key:"start",value:function(t,e,n){return!(this.interacting()||!this.pointerIsDown||this.pointers.length<("gesture"===t.name?2:1)||!e.options[t.name].enabled)&&((0,Lt.copyAction)(this.prepared,t),this.interactable=e,this.element=n,this.rect=e.getRect(n),this.edges=this.prepared.edges?(0,C.default)({},this.prepared.edges):{left:!0,right:!0,top:!0,bottom:!0},this._stopped=!1,this._interacting=this._doPhase({interaction:this,event:this.downEvent,phase:"start"})&&!this._stopped,this._interacting)}},{key:"pointerMove",value:function(t,e,n){this.simulation||this.modification&&this.modification.endResult||this.updatePointer(t,e,n,!1);var r,i,o=this.coords.cur.page.x===this.coords.prev.page.x&&this.coords.cur.page.y===this.coords.prev.page.y&&this.coords.cur.client.x===this.coords.prev.client.x&&this.coords.cur.client.y===this.coords.prev.client.y;this.pointerIsDown&&!this.pointerWasMoved&&(r=this.coords.cur.client.x-this.coords.start.client.x,i=this.coords.cur.client.y-this.coords.start.client.y,this.pointerWasMoved=(0,D.default)(r,i)>this.pointerMoveTolerance);var a=this.getPointerIndex(t),s={pointer:t,pointerIndex:a,pointerInfo:this.pointers[a],event:e,type:"move",eventTarget:n,dx:r,dy:i,duplicate:o,interaction:this};o||$.setCoordVelocity(this.coords.velocity,this.coords.delta),this._scopeFire("interactions:move",s),o||this.simulation||(this.interacting()&&(s.type=null,this.move(s)),this.pointerWasMoved&&$.copyCoords(this.coords.prev,this.coords.cur))}},{key:"move",value:function(t){t&&t.event||$.setZeroCoords(this.coords.delta),(t=(0,C.default)({pointer:this._latestPointer.pointer,event:this._latestPointer.event,eventTarget:this._latestPointer.eventTarget,interaction:this},t||{})).phase="move",this._doPhase(t)}},{key:"pointerUp",value:function(t,e,n,r){var i=this.getPointerIndex(t);-1===i&&(i=this.updatePointer(t,e,n,!1));var o=/cancel$/i.test(e.type)?"cancel":"up";this._scopeFire("interactions:".concat(o),{pointer:t,pointerIndex:i,pointerInfo:this.pointers[i],event:e,eventTarget:n,type:o,curEventTarget:r,interaction:this}),this.simulation||this.end(e),this.removePointer(t,e)}},{key:"documentBlur",value:function(t){this.end(t),this._scopeFire("interactions:blur",{event:t,type:"blur",interaction:this})}},{key:"end",value:function(t){var e;this._ending=!0,t=t||this._latestPointer.event,this.interacting()&&(e=this._doPhase({event:t,interaction:this,phase:"end"})),this._ending=!1,!0===e&&this.stop()}},{key:"currentAction",value:function(){return this._interacting?this.prepared.name:null}},{key:"interacting",value:function(){return this._interacting}},{key:"stop",value:function(){this._scopeFire("interactions:stop",{interaction:this}),this.interactable=this.element=null,this._interacting=!1,this._stopped=!0,this.prepared.name=this.prevEvent=null}},{key:"getPointerIndex",value:function(t){var e=$.getPointerId(t);return"mouse"===this.pointerType||"pen"===this.pointerType?this.pointers.length-1:X.findIndex(this.pointers,(function(t){return t.id===e}))}},{key:"getPointerInfo",value:function(t){return this.pointers[this.getPointerIndex(t)]}},{key:"updatePointer",value:function(t,e,n,r){var i=$.getPointerId(t),o=this.getPointerIndex(t),a=this.pointers[o];return r=!1!==r&&(r||/(down|start)$/i.test(e.type)),a?a.pointer=t:(a=new Re.PointerInfo(i,t,e,null,null),o=this.pointers.length,this.pointers.push(a)),$.setCoords(this.coords.cur,this.pointers.map((function(t){return t.pointer})),this._now()),$.setCoordDeltas(this.coords.delta,this.coords.prev,this.coords.cur),r&&(this.pointerIsDown=!0,a.downTime=this.coords.cur.timeStamp,a.downTarget=n,$.pointerExtend(this.downPointer,t),this.interacting()||($.copyCoords(this.coords.start,this.coords.cur),$.copyCoords(this.coords.prev,this.coords.cur),this.downEvent=e,this.pointerWasMoved=!1)),this._updateLatestPointer(t,e,n),this._scopeFire("interactions:update-pointer",{pointer:t,event:e,eventTarget:n,down:r,pointerInfo:a,pointerIndex:o,interaction:this}),o}},{key:"removePointer",value:function(t,e){var n=this.getPointerIndex(t);if(-1!==n){var r=this.pointers[n];this._scopeFire("interactions:remove-pointer",{pointer:t,event:e,eventTarget:null,pointerIndex:n,pointerInfo:r,interaction:this}),this.pointers.splice(n,1),this.pointerIsDown=!1}}},{key:"_updateLatestPointer",value:function(t,e,n){this._latestPointer.pointer=t,this._latestPointer.event=e,this._latestPointer.eventTarget=n}},{key:"destroy",value:function(){this._latestPointer.pointer=null,this._latestPointer.event=null,this._latestPointer.eventTarget=null}},{key:"_createPreparedEvent",value:function(t,e,n,r){return new Ee.InteractEvent(this,t,this.prepared.name,e,this.element,n,r)}},{key:"_fireEvent",value:function(t){var e;null==(e=this.interactable)||e.fire(t),(!this.prevEvent||t.timeStamp>=this.prevEvent.timeStamp)&&(this.prevEvent=t)}},{key:"_doPhase",value:function(t){var e=t.event,n=t.phase,r=t.preEnd,i=t.type,o=this.rect;if(o&&"move"===n&&(j.addEdges(this.edges,o,this.coords.delta[this.interactable.options.deltaSource]),o.width=o.right-o.left,o.height=o.bottom-o.top),!1===this._scopeFire("interactions:before-action-".concat(n),t))return!1;var a=t.iEvent=this._createPreparedEvent(e,n,r,i);return this._scopeFire("interactions:action-".concat(n),t),"start"===n&&(this.prevEvent=a),this._fireEvent(a),this._scopeFire("interactions:after-action-".concat(n),t),!0}},{key:"_now",value:function(){return Date.now()}}],n&&function(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();Fe.Interaction=ze;var We=ze;Fe.default=We;var He={};function Ve(t){t.pointerIsDown&&(qe(t.coords.cur,t.offset.total),t.offset.pending.x=0,t.offset.pending.y=0)}function Ge(t){Ye(t.interaction)}function Ye(t){if(!function(t){return!(!t.offset.pending.x&&!t.offset.pending.y)}(t))return!1;var e=t.offset.pending;return qe(t.coords.cur,e),qe(t.coords.delta,e),j.addEdges(t.edges,t.rect,e),e.x=0,e.y=0,!0}function Xe(t){var e=t.x,n=t.y;this.offset.pending.x+=e,this.offset.pending.y+=n,this.offset.total.x+=e,this.offset.total.y+=n}function qe(t,e){var n=t.page,r=t.client,i=e.x,o=e.y;n.x+=i,n.y+=o,r.x+=i,r.y+=o}Object.defineProperty(He,"__esModule",{value:!0}),He.addTotal=Ve,He.applyPending=Ye,He.default=void 0,Fe._ProxyMethods.offsetBy="";var Ze={id:"offset",before:["modifiers","pointer-events","actions","inertia"],install:function(t){t.Interaction.prototype.offsetBy=Xe},listeners:{"interactions:new":function(t){t.interaction.offset={total:{x:0,y:0},pending:{x:0,y:0}}},"interactions:update-pointer":function(t){return Ve(t.interaction)},"interactions:before-action-start":Ge,"interactions:before-action-move":Ge,"interactions:before-action-end":function(t){var e=t.interaction;if(Ye(e))return e.move({offset:!0}),e.end(),!1},"interactions:stop":function(t){var e=t.interaction;e.offset.total.x=0,e.offset.total.y=0,e.offset.pending.x=0,e.offset.pending.y=0}}},Ke=Ze;He.default=Ke;var Je={};function Qe(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}Object.defineProperty(Je,"__esModule",{value:!0}),Je.default=Je.InertiaState=void 0;var tn=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),Qe(this,"active",!1),Qe(this,"isModified",!1),Qe(this,"smoothEnd",!1),Qe(this,"allowResume",!1),Qe(this,"modification",void 0),Qe(this,"modifierCount",0),Qe(this,"modifierArg",void 0),Qe(this,"startCoords",void 0),Qe(this,"t0",0),Qe(this,"v0",0),Qe(this,"te",0),Qe(this,"targetOffset",void 0),Qe(this,"modifiedOffset",void 0),Qe(this,"currentOffset",void 0),Qe(this,"lambda_v0",0),Qe(this,"one_ve_v0",0),Qe(this,"timeout",void 0),Qe(this,"interaction",void 0),this.interaction=e}var e,n;return e=t,(n=[{key:"start",value:function(t){var e=this.interaction,n=en(e);if(!n||!n.enabled)return!1;var r=e.coords.velocity.client,i=(0,D.default)(r.x,r.y),o=this.modification||(this.modification=new pe.default(e));if(o.copyFrom(e.modification),this.t0=e._now(),this.allowResume=n.allowResume,this.v0=i,this.currentOffset={x:0,y:0},this.startCoords=e.coords.cur.page,this.modifierArg=o.fillArg({pageCoords:this.startCoords,preEnd:!0,phase:"inertiastart"}),this.t0-e.coords.cur.timeStamp<50&&i>n.minSpeed&&i>n.endSpeed)this.startInertia();else{if(o.result=o.setAll(this.modifierArg),!o.result.changed)return!1;this.startSmoothEnd()}return e.modification.result.rect=null,e.offsetBy(this.targetOffset),e._doPhase({interaction:e,event:t,phase:"inertiastart"}),e.offsetBy({x:-this.targetOffset.x,y:-this.targetOffset.y}),e.modification.result.rect=null,this.active=!0,e.simulation=this,!0}},{key:"startInertia",value:function(){var t=this,e=this.interaction.coords.velocity.client,n=en(this.interaction),r=n.resistance,i=-Math.log(n.endSpeed/this.v0)/r;this.targetOffset={x:(e.x-i)/r,y:(e.y-i)/r},this.te=i,this.lambda_v0=r/this.v0,this.one_ve_v0=1-n.endSpeed/this.v0;var o=this.modification,a=this.modifierArg;a.pageCoords={x:this.startCoords.x+this.targetOffset.x,y:this.startCoords.y+this.targetOffset.y},o.result=o.setAll(a),o.result.changed&&(this.isModified=!0,this.modifiedOffset={x:this.targetOffset.x+o.result.delta.x,y:this.targetOffset.y+o.result.delta.y}),this.onNextFrame((function(){return t.inertiaTick()}))}},{key:"startSmoothEnd",value:function(){var t=this;this.smoothEnd=!0,this.isModified=!0,this.targetOffset={x:this.modification.result.delta.x,y:this.modification.result.delta.y},this.onNextFrame((function(){return t.smoothEndTick()}))}},{key:"onNextFrame",value:function(t){var e=this;this.timeout=St.default.request((function(){e.active&&t()}))}},{key:"inertiaTick",value:function(){var t,e,n,r,i,o=this,a=this.interaction,s=en(a).resistance,u=(a._now()-this.t0)/1e3;if(u<this.te){var c,l=1-(Math.exp(-s*u)-this.lambda_v0)/this.one_ve_v0;this.isModified?(t=this.targetOffset.x,e=this.targetOffset.y,n=this.modifiedOffset.x,r=this.modifiedOffset.y,c={x:rn(i=l,0,t,n),y:rn(i,0,e,r)}):c={x:this.targetOffset.x*l,y:this.targetOffset.y*l};var f={x:c.x-this.currentOffset.x,y:c.y-this.currentOffset.y};this.currentOffset.x+=f.x,this.currentOffset.y+=f.y,a.offsetBy(f),a.move(),this.onNextFrame((function(){return o.inertiaTick()}))}else a.offsetBy({x:this.modifiedOffset.x-this.currentOffset.x,y:this.modifiedOffset.y-this.currentOffset.y}),this.end()}},{key:"smoothEndTick",value:function(){var t=this,e=this.interaction,n=e._now()-this.t0,r=en(e).smoothEndDuration;if(n<r){var i={x:on(n,0,this.targetOffset.x,r),y:on(n,0,this.targetOffset.y,r)},o={x:i.x-this.currentOffset.x,y:i.y-this.currentOffset.y};this.currentOffset.x+=o.x,this.currentOffset.y+=o.y,e.offsetBy(o),e.move({skipModifiers:this.modifierCount}),this.onNextFrame((function(){return t.smoothEndTick()}))}else e.offsetBy({x:this.targetOffset.x-this.currentOffset.x,y:this.targetOffset.y-this.currentOffset.y}),this.end()}},{key:"resume",value:function(t){var e=t.pointer,n=t.event,r=t.eventTarget,i=this.interaction;i.offsetBy({x:-this.currentOffset.x,y:-this.currentOffset.y}),i.updatePointer(e,n,r,!0),i._doPhase({interaction:i,event:n,phase:"resume"}),(0,$.copyCoords)(i.coords.prev,i.coords.cur),this.stop()}},{key:"end",value:function(){this.interaction.move(),this.interaction.end(),this.stop()}},{key:"stop",value:function(){this.active=this.smoothEnd=!1,this.interaction.simulation=null,St.default.cancel(this.timeout)}}])&&function(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();function en(t){var e=t.interactable,n=t.prepared;return e&&e.options&&n.name&&e.options[n.name].inertia}Je.InertiaState=tn;var nn={id:"inertia",before:["modifiers","actions"],install:function(t){var e=t.defaults;t.usePlugin(He.default),t.usePlugin(xe.default),t.actions.phases.inertiastart=!0,t.actions.phases.resume=!0,e.perAction.inertia={enabled:!1,resistance:10,minSpeed:100,endSpeed:10,allowResume:!0,smoothEndDuration:300}},listeners:{"interactions:new":function(t){var e=t.interaction;e.inertia=new tn(e)},"interactions:before-action-end":function(t){var e=t.interaction,n=t.event;return(!e._interacting||e.simulation||!e.inertia.start(n))&&null},"interactions:down":function(t){var e=t.interaction,n=t.eventTarget,r=e.inertia;if(r.active)for(var i=n;o.default.element(i);){if(i===e.element){r.resume(t);break}i=_.parentNode(i)}},"interactions:stop":function(t){var e=t.interaction.inertia;e.active&&e.stop()},"interactions:before-action-resume":function(t){var e=t.interaction.modification;e.stop(t),e.start(t,t.interaction.coords.cur.page),e.applyToInteraction(t)},"interactions:before-action-inertiastart":function(t){return t.interaction.modification.setAndApply(t)},"interactions:action-resume":xe.addEventModifiers,"interactions:action-inertiastart":xe.addEventModifiers,"interactions:after-action-inertiastart":function(t){return t.interaction.modification.restoreInteractionCoords(t)},"interactions:after-action-resume":function(t){return t.interaction.modification.restoreInteractionCoords(t)}}};function rn(t,e,n,r){var i=1-t;return i*i*e+2*i*t*n+t*t*r}function on(t,e,n,r){return-n*(t/=r)*(t-2)+e}var an=nn;Je.default=an;var sn={};function un(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function cn(t,e){for(var n=0;n<e.length;n++){var r=e[n];if(t.immediatePropagationStopped)break;r(t)}}Object.defineProperty(sn,"__esModule",{value:!0}),sn.Eventable=void 0;var ln=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),un(this,"options",void 0),un(this,"types",{}),un(this,"propagationStopped",!1),un(this,"immediatePropagationStopped",!1),un(this,"global",void 0),this.options=(0,C.default)({},e||{})}var e,n;return e=t,(n=[{key:"fire",value:function(t){var e,n=this.global;(e=this.types[t.type])&&cn(t,e),!t.propagationStopped&&n&&(e=n[t.type])&&cn(t,e)}},{key:"on",value:function(t,e){var n=(0,I.default)(t,e);for(t in n)this.types[t]=X.merge(this.types[t]||[],n[t])}},{key:"off",value:function(t,e){var n=(0,I.default)(t,e);for(t in n){var r=this.types[t];if(r&&r.length)for(var i=0;i<n[t].length;i++){var o=n[t][i],a=r.indexOf(o);-1!==a&&r.splice(a,1)}}}},{key:"getRect",value:function(t){return null}}])&&function(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();sn.Eventable=ln;var fn={};Object.defineProperty(fn,"__esModule",{value:!0}),fn.default=function(t,e){if(e.phaselessTypes[t])return!0;for(var n in e.map)if(0===t.indexOf(n)&&t.substr(n.length)in e.phases)return!0;return!1};var hn={};Object.defineProperty(hn,"__esModule",{value:!0}),hn.createInteractStatic=function(t){var e=function e(n,r){var i=t.interactables.get(n,r);return i||((i=t.interactables.new(n,r)).events.global=e.globalEvents),i};return e.getPointerAverage=$.pointerAverage,e.getTouchBBox=$.touchBBox,e.getTouchDistance=$.touchDistance,e.getTouchAngle=$.touchAngle,e.getElementRect=_.getElementRect,e.getElementClientRect=_.getElementClientRect,e.matchesSelector=_.matchesSelector,e.closest=_.closest,e.globalEvents={},e.version="1.10.18",e.scope=t,e.use=function(t,e){return this.scope.usePlugin(t,e),this},e.isSet=function(t,e){return!!this.scope.interactables.get(t,e&&e.context)},e.on=(0,Lt.warnOnce)((function(t,e,n){if(o.default.string(t)&&-1!==t.search(" ")&&(t=t.trim().split(/ +/)),o.default.array(t)){for(var r=0;r<t.length;r++){var i=t[r];this.on(i,e,n)}return this}if(o.default.object(t)){for(var a in t)this.on(a,t[a],e);return this}return(0,fn.default)(t,this.scope.actions)?this.globalEvents[t]?this.globalEvents[t].push(e):this.globalEvents[t]=[e]:this.scope.events.add(this.scope.document,t,e,{options:n}),this}),"The interact.on() method is being deprecated"),e.off=(0,Lt.warnOnce)((function(t,e,n){if(o.default.string(t)&&-1!==t.search(" ")&&(t=t.trim().split(/ +/)),o.default.array(t)){for(var r=0;r<t.length;r++){var i=t[r];this.off(i,e,n)}return this}if(o.default.object(t)){for(var a in t)this.off(a,t[a],e);return this}var s;return(0,fn.default)(t,this.scope.actions)?t in this.globalEvents&&-1!==(s=this.globalEvents[t].indexOf(e))&&this.globalEvents[t].splice(s,1):this.scope.events.remove(this.scope.document,t,e,n),this}),"The interact.off() method is being deprecated"),e.debug=function(){return this.scope},e.supportsTouch=function(){return b.default.supportsTouch},e.supportsPointerEvent=function(){return b.default.supportsPointerEvent},e.stop=function(){for(var t=0;t<this.scope.interactions.list.length;t++)this.scope.interactions.list[t].stop();return this},e.pointerMoveTolerance=function(t){return o.default.number(t)?(this.scope.interactions.pointerMoveTolerance=t,this):this.scope.interactions.pointerMoveTolerance},e.addDocument=function(t,e){this.scope.addDocument(t,e)},e.removeDocument=function(t){this.scope.removeDocument(t)},e};var dn={};function pn(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}Object.defineProperty(dn,"__esModule",{value:!0}),dn.Interactable=void 0;var vn=function(){function t(n,r,i,o){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),pn(this,"options",void 0),pn(this,"_actions",void 0),pn(this,"target",void 0),pn(this,"events",new sn.Eventable),pn(this,"_context",void 0),pn(this,"_win",void 0),pn(this,"_doc",void 0),pn(this,"_scopeEvents",void 0),pn(this,"_rectChecker",void 0),this._actions=r.actions,this.target=n,this._context=r.context||i,this._win=(0,e.getWindow)((0,_.trySelector)(n)?this._context:n),this._doc=this._win.document,this._scopeEvents=o,this.set(r)}var n,r;return n=t,(r=[{key:"_defaults",get:function(){return{base:{},perAction:{},actions:{}}}},{key:"setOnEvents",value:function(t,e){return o.default.func(e.onstart)&&this.on("".concat(t,"start"),e.onstart),o.default.func(e.onmove)&&this.on("".concat(t,"move"),e.onmove),o.default.func(e.onend)&&this.on("".concat(t,"end"),e.onend),o.default.func(e.oninertiastart)&&this.on("".concat(t,"inertiastart"),e.oninertiastart),this}},{key:"updatePerActionListeners",value:function(t,e,n){(o.default.array(e)||o.default.object(e))&&this.off(t,e),(o.default.array(n)||o.default.object(n))&&this.on(t,n)}},{key:"setPerAction",value:function(t,e){var n=this._defaults;for(var r in e){var i=r,a=this.options[t],s=e[i];"listeners"===i&&this.updatePerActionListeners(t,a.listeners,s),o.default.array(s)?a[i]=X.from(s):o.default.plainObject(s)?(a[i]=(0,C.default)(a[i]||{},(0,de.default)(s)),o.default.object(n.perAction[i])&&"enabled"in n.perAction[i]&&(a[i].enabled=!1!==s.enabled)):o.default.bool(s)&&o.default.object(n.perAction[i])?a[i].enabled=s:a[i]=s}}},{key:"getRect",value:function(t){return t=t||(o.default.element(this.target)?this.target:null),o.default.string(this.target)&&(t=t||this._context.querySelector(this.target)),(0,_.getElementRect)(t)}},{key:"rectChecker",value:function(t){var e=this;return o.default.func(t)?(this._rectChecker=t,this.getRect=function(t){var n=(0,C.default)({},e._rectChecker(t));return"width"in n||(n.width=n.right-n.left,n.height=n.bottom-n.top),n},this):null===t?(delete this.getRect,delete this._rectChecker,this):this.getRect}},{key:"_backCompatOption",value:function(t,e){if((0,_.trySelector)(e)||o.default.object(e)){for(var n in this.options[t]=e,this._actions.map)this.options[n][t]=e;return this}return this.options[t]}},{key:"origin",value:function(t){return this._backCompatOption("origin",t)}},{key:"deltaSource",value:function(t){return"page"===t||"client"===t?(this.options.deltaSource=t,this):this.options.deltaSource}},{key:"context",value:function(){return this._context}},{key:"inContext",value:function(t){return this._context===t.ownerDocument||(0,_.nodeContains)(this._context,t)}},{key:"testIgnoreAllow",value:function(t,e,n){return!this.testIgnore(t.ignoreFrom,e,n)&&this.testAllow(t.allowFrom,e,n)}},{key:"testAllow",value:function(t,e,n){return!t||!!o.default.element(n)&&(o.default.string(t)?(0,_.matchesUpTo)(n,t,e):!!o.default.element(t)&&(0,_.nodeContains)(t,n))}},{key:"testIgnore",value:function(t,e,n){return!(!t||!o.default.element(n))&&(o.default.string(t)?(0,_.matchesUpTo)(n,t,e):!!o.default.element(t)&&(0,_.nodeContains)(t,n))}},{key:"fire",value:function(t){return this.events.fire(t),this}},{key:"_onOff",value:function(t,e,n,r){o.default.object(e)&&!o.default.array(e)&&(r=n,n=null);var i="on"===t?"add":"remove",a=(0,I.default)(e,n);for(var s in a){"wheel"===s&&(s=b.default.wheelEvent);for(var u=0;u<a[s].length;u++){var c=a[s][u];(0,fn.default)(s,this._actions)?this.events[t](s,c):o.default.string(this.target)?this._scopeEvents["".concat(i,"Delegate")](this.target,this._context,s,c,r):this._scopeEvents[i](this.target,s,c,r)}}return this}},{key:"on",value:function(t,e,n){return this._onOff("on",t,e,n)}},{key:"off",value:function(t,e,n){return this._onOff("off",t,e,n)}},{key:"set",value:function(t){var e=this._defaults;for(var n in o.default.object(t)||(t={}),this.options=(0,de.default)(e.base),this._actions.methodDict){var r=n,i=this._actions.methodDict[r];this.options[r]={},this.setPerAction(r,(0,C.default)((0,C.default)({},e.perAction),e.actions[r])),this[i](t[r])}for(var a in t)o.default.func(this[a])&&this[a](t[a]);return this}},{key:"unset",value:function(){if(o.default.string(this.target))for(var t in this._scopeEvents.delegatedEvents)for(var e=this._scopeEvents.delegatedEvents[t],n=e.length-1;n>=0;n--){var r=e[n],i=r.selector,a=r.context,s=r.listeners;i===this.target&&a===this._context&&e.splice(n,1);for(var u=s.length-1;u>=0;u--)this._scopeEvents.removeDelegate(this.target,this._context,t,s[u][0],s[u][1])}else this._scopeEvents.remove(this.target,"all")}}])&&function(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),t}();dn.Interactable=vn;var gn={};function mn(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}Object.defineProperty(gn,"__esModule",{value:!0}),gn.InteractableSet=void 0;var yn=function(){function t(e){var n=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),mn(this,"list",[]),mn(this,"selectorMap",{}),mn(this,"scope",void 0),this.scope=e,e.addListeners({"interactable:unset":function(t){var e=t.interactable,r=e.target,i=e._context,a=o.default.string(r)?n.selectorMap[r]:r[n.scope.id],s=X.findIndex(a,(function(t){return t.context===i}));a[s]&&(a[s].context=null,a[s].interactable=null),a.splice(s,1)}})}var e,n;return e=t,(n=[{key:"new",value:function(t,e){e=(0,C.default)(e||{},{actions:this.scope.actions});var n=new this.scope.Interactable(t,e,this.scope.document,this.scope.events),r={context:n._context,interactable:n};return this.scope.addDocument(n._doc),this.list.push(n),o.default.string(t)?(this.selectorMap[t]||(this.selectorMap[t]=[]),this.selectorMap[t].push(r)):(n.target[this.scope.id]||Object.defineProperty(t,this.scope.id,{value:[],configurable:!0}),t[this.scope.id].push(r)),this.scope.fire("interactable:new",{target:t,options:e,interactable:n,win:this.scope._win}),n}},{key:"get",value:function(t,e){var n=e&&e.context||this.scope.document,r=o.default.string(t),i=r?this.selectorMap[t]:t[this.scope.id];if(!i)return null;var a=X.find(i,(function(e){return e.context===n&&(r||e.interactable.inContext(t))}));return a&&a.interactable}},{key:"forEachMatch",value:function(t,e){for(var n=0;n<this.list.length;n++){var r=this.list[n],i=void 0;if((o.default.string(r.target)?o.default.element(t)&&_.matchesSelector(t,r.target):t===r.target)&&r.inContext(t)&&(i=e(r)),void 0!==i)return i}}}])&&function(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();gn.InteractableSet=yn;var bn={};function wn(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function xn(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(t);!(a=(r=n.next()).done)&&(o.push(r.value),!e||o.length!==e);a=!0);}catch(t){s=!0,i=t}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}}(t,e)||function(t,e){if(t){if("string"==typeof t)return _n(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_n(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _n(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}Object.defineProperty(bn,"__esModule",{value:!0}),bn.default=void 0;var kn=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),wn(this,"currentTarget",void 0),wn(this,"originalEvent",void 0),wn(this,"type",void 0),this.originalEvent=e,(0,N.default)(this,e)}var e,n;return e=t,(n=[{key:"preventOriginalDefault",value:function(){this.originalEvent.preventDefault()}},{key:"stopPropagation",value:function(){this.originalEvent.stopPropagation()}},{key:"stopImmediatePropagation",value:function(){this.originalEvent.stopImmediatePropagation()}}])&&function(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();function Sn(t){if(!o.default.object(t))return{capture:!!t,passive:!1};var e=(0,C.default)({},t);return e.capture=!!t.capture,e.passive=!!t.passive,e}var Pn={id:"events",install:function(t){var e,n=[],r={},i=[],a={add:s,remove:u,addDelegate:function(t,e,n,o,a){var u=Sn(a);if(!r[n]){r[n]=[];for(var f=0;f<i.length;f++){var h=i[f];s(h,n,c),s(h,n,l,!0)}}var d=r[n],p=X.find(d,(function(n){return n.selector===t&&n.context===e}));p||(p={selector:t,context:e,listeners:[]},d.push(p)),p.listeners.push([o,u])},removeDelegate:function(t,e,n,i,o){var a,s=Sn(o),f=r[n],h=!1;if(f)for(a=f.length-1;a>=0;a--){var d=f[a];if(d.selector===t&&d.context===e){for(var p=d.listeners,v=p.length-1;v>=0;v--){var g=xn(p[v],2),m=g[0],y=g[1],b=y.capture,w=y.passive;if(m===i&&b===s.capture&&w===s.passive){p.splice(v,1),p.length||(f.splice(a,1),u(e,n,c),u(e,n,l,!0)),h=!0;break}}if(h)break}}},delegateListener:c,delegateUseCapture:l,delegatedEvents:r,documents:i,targets:n,supportsOptions:!1,supportsPassive:!1};function s(t,e,r,i){var o=Sn(i),s=X.find(n,(function(e){return e.eventTarget===t}));s||(s={eventTarget:t,events:{}},n.push(s)),s.events[e]||(s.events[e]=[]),t.addEventListener&&!X.contains(s.events[e],r)&&(t.addEventListener(e,r,a.supportsOptions?o:o.capture),s.events[e].push(r))}function u(t,e,r,i){var o=Sn(i),s=X.findIndex(n,(function(e){return e.eventTarget===t})),c=n[s];if(c&&c.events)if("all"!==e){var l=!1,f=c.events[e];if(f){if("all"===r){for(var h=f.length-1;h>=0;h--)u(t,e,f[h],o);return}for(var d=0;d<f.length;d++)if(f[d]===r){t.removeEventListener(e,r,a.supportsOptions?o:o.capture),f.splice(d,1),0===f.length&&(delete c.events[e],l=!0);break}}l&&!Object.keys(c.events).length&&n.splice(s,1)}else for(e in c.events)c.events.hasOwnProperty(e)&&u(t,e,"all")}function c(t,e){for(var n=Sn(e),i=new kn(t),a=r[t.type],s=xn($.getEventTargets(t),1)[0],u=s;o.default.element(u);){for(var c=0;c<a.length;c++){var l=a[c],f=l.selector,h=l.context;if(_.matchesSelector(u,f)&&_.nodeContains(h,s)&&_.nodeContains(h,u)){var d=l.listeners;i.currentTarget=u;for(var p=0;p<d.length;p++){var v=xn(d[p],2),g=v[0],m=v[1],y=m.capture,b=m.passive;y===n.capture&&b===n.passive&&g(i)}}}u=_.parentNode(u)}}function l(t){return c(t,!0)}return null==(e=t.document)||e.createElement("div").addEventListener("test",null,{get capture(){return a.supportsOptions=!0},get passive(){return a.supportsPassive=!0}}),t.events=a,a}};bn.default=Pn;var En={};Object.defineProperty(En,"__esModule",{value:!0}),En.default=void 0;var On={methodOrder:["simulationResume","mouseOrPen","hasPointer","idle"],search:function(t){for(var e=0;e<On.methodOrder.length;e++){var n;n=On.methodOrder[e];var r=On[n](t);if(r)return r}return null},simulationResume:function(t){var e=t.pointerType,n=t.eventType,r=t.eventTarget,i=t.scope;if(!/down|start/i.test(n))return null;for(var o=0;o<i.interactions.list.length;o++){var a=i.interactions.list[o],s=r;if(a.simulation&&a.simulation.allowResume&&a.pointerType===e)for(;s;){if(s===a.element)return a;s=_.parentNode(s)}}return null},mouseOrPen:function(t){var e,n=t.pointerId,r=t.pointerType,i=t.eventType,o=t.scope;if("mouse"!==r&&"pen"!==r)return null;for(var a=0;a<o.interactions.list.length;a++){var s=o.interactions.list[a];if(s.pointerType===r){if(s.simulation&&!Tn(s,n))continue;if(s.interacting())return s;e||(e=s)}}if(e)return e;for(var u=0;u<o.interactions.list.length;u++){var c=o.interactions.list[u];if(!(c.pointerType!==r||/down/i.test(i)&&c.simulation))return c}return null},hasPointer:function(t){for(var e=t.pointerId,n=t.scope,r=0;r<n.interactions.list.length;r++){var i=n.interactions.list[r];if(Tn(i,e))return i}return null},idle:function(t){for(var e=t.pointerType,n=t.scope,r=0;r<n.interactions.list.length;r++){var i=n.interactions.list[r];if(1===i.pointers.length){var o=i.interactable;if(o&&(!o.options.gesture||!o.options.gesture.enabled))continue}else if(i.pointers.length>=2)continue;if(!i.interacting()&&e===i.pointerType)return i}return null}};function Tn(t,e){return t.pointers.some((function(t){return t.id===e}))}var Cn=On;En.default=Cn;var jn={};function Mn(t){return Mn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Mn(t)}function An(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(t);!(a=(r=n.next()).done)&&(o.push(r.value),!e||o.length!==e);a=!0);}catch(t){s=!0,i=t}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}}(t,e)||function(t,e){if(t){if("string"==typeof t)return Rn(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Rn(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Rn(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function In(t,e){return In=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},In(t,e)}function Ln(t){return Ln=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Ln(t)}Object.defineProperty(jn,"__esModule",{value:!0}),jn.default=void 0;var Dn=["pointerDown","pointerMove","pointerUp","updatePointer","removePointer","windowBlur"];function Nn(t,e){return function(n){var r=e.interactions.list,i=$.getPointerType(n),o=An($.getEventTargets(n),2),a=o[0],s=o[1],u=[];if(/^touch/.test(n.type)){e.prevTouchTime=e.now();for(var c=0;c<n.changedTouches.length;c++){var l=n.changedTouches[c],f={pointer:l,pointerId:$.getPointerId(l),pointerType:i,eventType:n.type,eventTarget:a,curEventTarget:s,scope:e},h=$n(f);u.push([f.pointer,f.eventTarget,f.curEventTarget,h])}}else{var d=!1;if(!b.default.supportsPointerEvent&&/mouse/.test(n.type)){for(var p=0;p<r.length&&!d;p++)d="mouse"!==r[p].pointerType&&r[p].pointerIsDown;d=d||e.now()-e.prevTouchTime<500||0===n.timeStamp}if(!d){var v={pointer:n,pointerId:$.getPointerId(n),pointerType:i,eventType:n.type,curEventTarget:s,eventTarget:a,scope:e},g=$n(v);u.push([v.pointer,v.eventTarget,v.curEventTarget,g])}}for(var m=0;m<u.length;m++){var y=An(u[m],4),w=y[0],x=y[1],_=y[2];y[3][t](w,n,x,_)}}}function $n(t){var e=t.pointerType,n=t.scope,r={interaction:En.default.search(t),searchDetails:t};return n.fire("interactions:find",r),r.interaction||n.interactions.new({pointerType:e})}function Fn(t,e){var n=t.doc,r=t.scope,i=t.options,o=r.interactions.docEvents,a=r.events,s=a[e];for(var u in r.browser.isIOS&&!i.events&&(i.events={passive:!1}),a.delegatedEvents)s(n,u,a.delegateListener),s(n,u,a.delegateUseCapture,!0);for(var c=i&&i.events,l=0;l<o.length;l++){var f=o[l];s(n,f.type,f.listener,c)}}var Bn={id:"core/interactions",install:function(t){for(var e={},n=0;n<Dn.length;n++){var r=Dn[n];e[r]=Nn(r,t)}var i,o=b.default.pEventTypes;function a(){for(var e=0;e<t.interactions.list.length;e++){var n=t.interactions.list[e];if(n.pointerIsDown&&"touch"===n.pointerType&&!n._interacting)for(var r=function(){var e=n.pointers[i];t.documents.some((function(t){var n=t.doc;return(0,_.nodeContains)(n,e.downTarget)}))||n.removePointer(e.pointer,e.event)},i=0;i<n.pointers.length;i++)r()}}(i=v.default.PointerEvent?[{type:o.down,listener:a},{type:o.down,listener:e.pointerDown},{type:o.move,listener:e.pointerMove},{type:o.up,listener:e.pointerUp},{type:o.cancel,listener:e.pointerUp}]:[{type:"mousedown",listener:e.pointerDown},{type:"mousemove",listener:e.pointerMove},{type:"mouseup",listener:e.pointerUp},{type:"touchstart",listener:a},{type:"touchstart",listener:e.pointerDown},{type:"touchmove",listener:e.pointerMove},{type:"touchend",listener:e.pointerUp},{type:"touchcancel",listener:e.pointerUp}]).push({type:"blur",listener:function(e){for(var n=0;n<t.interactions.list.length;n++)t.interactions.list[n].documentBlur(e)}}),t.prevTouchTime=0,t.Interaction=function(e){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&In(t,e)}(s,e);var n,r,i,o,a=(i=s,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Ln(i);if(o){var n=Ln(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===Mn(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function s(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,s),a.apply(this,arguments)}return n=s,(r=[{key:"pointerMoveTolerance",get:function(){return t.interactions.pointerMoveTolerance},set:function(e){t.interactions.pointerMoveTolerance=e}},{key:"_now",value:function(){return t.now()}}])&&function(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),s}(Fe.default),t.interactions={list:[],new:function(e){e.scopeFire=function(e,n){return t.fire(e,n)};var n=new t.Interaction(e);return t.interactions.list.push(n),n},listeners:e,docEvents:i,pointerMoveTolerance:1},t.usePlugin(oe.default)},listeners:{"scope:add-document":function(t){return Fn(t,"add")},"scope:remove-document":function(t){return Fn(t,"remove")},"interactable:unset":function(t,e){for(var n=t.interactable,r=e.interactions.list.length-1;r>=0;r--){var i=e.interactions.list[r];i.interactable===n&&(i.stop(),e.fire("interactions:destroy",{interaction:i}),i.destroy(),e.interactions.list.length>2&&e.interactions.list.splice(r,1))}}},onDocSignal:Fn,doOnInteractions:Nn,methodNames:Dn},Un=Bn;jn.default=Un;var zn={};function Wn(t){return Wn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Wn(t)}function Hn(){return Hn="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Gn(t)););return t}(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(arguments.length<3?t:n):i.value}},Hn.apply(this,arguments)}function Vn(t,e){return Vn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Vn(t,e)}function Gn(t){return Gn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Gn(t)}function Yn(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Xn(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function qn(t,e,n){return e&&Xn(t.prototype,e),n&&Xn(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Zn(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}Object.defineProperty(zn,"__esModule",{value:!0}),zn.Scope=void 0,zn.initScope=Jn;var Kn=function(){function t(){var e=this;Yn(this,t),Zn(this,"id","__interact_scope_".concat(Math.floor(100*Math.random()))),Zn(this,"isInitialized",!1),Zn(this,"listenerMaps",[]),Zn(this,"browser",b.default),Zn(this,"defaults",(0,de.default)(Pe.defaults)),Zn(this,"Eventable",sn.Eventable),Zn(this,"actions",{map:{},phases:{start:!0,move:!0,end:!0},methodDict:{},phaselessTypes:{}}),Zn(this,"interactStatic",(0,hn.createInteractStatic)(this)),Zn(this,"InteractEvent",Ee.InteractEvent),Zn(this,"Interactable",void 0),Zn(this,"interactables",new gn.InteractableSet(this)),Zn(this,"_win",void 0),Zn(this,"document",void 0),Zn(this,"window",void 0),Zn(this,"documents",[]),Zn(this,"_plugins",{list:[],map:{}}),Zn(this,"onWindowUnload",(function(t){return e.removeDocument(t.target)}));var n=this;this.Interactable=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Vn(t,e)}(o,t);var e,r,i=(e=o,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,n=Gn(e);if(r){var i=Gn(this).constructor;t=Reflect.construct(n,arguments,i)}else t=n.apply(this,arguments);return function(t,e){if(e&&("object"===Wn(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function o(){return Yn(this,o),i.apply(this,arguments)}return qn(o,[{key:"_defaults",get:function(){return n.defaults}},{key:"set",value:function(t){return Hn(Gn(o.prototype),"set",this).call(this,t),n.fire("interactable:set",{options:t,interactable:this}),this}},{key:"unset",value:function(){Hn(Gn(o.prototype),"unset",this).call(this);var t=n.interactables.list.indexOf(this);t<0||(Hn(Gn(o.prototype),"unset",this).call(this),n.interactables.list.splice(t,1),n.fire("interactable:unset",{interactable:this}))}}]),o}(dn.Interactable)}return qn(t,[{key:"addListeners",value:function(t,e){this.listenerMaps.push({id:e,map:t})}},{key:"fire",value:function(t,e){for(var n=0;n<this.listenerMaps.length;n++){var r=this.listenerMaps[n].map[t];if(r&&!1===r(e,this,t))return!1}}},{key:"init",value:function(t){return this.isInitialized?this:Jn(this,t)}},{key:"pluginIsInstalled",value:function(t){return this._plugins.map[t.id]||-1!==this._plugins.list.indexOf(t)}},{key:"usePlugin",value:function(t,e){if(!this.isInitialized)return this;if(this.pluginIsInstalled(t))return this;if(t.id&&(this._plugins.map[t.id]=t),this._plugins.list.push(t),t.install&&t.install(this,e),t.listeners&&t.before){for(var n=0,r=this.listenerMaps.length,i=t.before.reduce((function(t,e){return t[e]=!0,t[Qn(e)]=!0,t}),{});n<r;n++){var o=this.listenerMaps[n].id;if(i[o]||i[Qn(o)])break}this.listenerMaps.splice(n,0,{id:t.id,map:t.listeners})}else t.listeners&&this.listenerMaps.push({id:t.id,map:t.listeners});return this}},{key:"addDocument",value:function(t,n){if(-1!==this.getDocIndex(t))return!1;var r=e.getWindow(t);n=n?(0,C.default)({},n):{},this.documents.push({doc:t,options:n}),this.events.documents.push(t),t!==this.document&&this.events.add(r,"unload",this.onWindowUnload),this.fire("scope:add-document",{doc:t,window:r,scope:this,options:n})}},{key:"removeDocument",value:function(t){var n=this.getDocIndex(t),r=e.getWindow(t),i=this.documents[n].options;this.events.remove(r,"unload",this.onWindowUnload),this.documents.splice(n,1),this.events.documents.splice(n,1),this.fire("scope:remove-document",{doc:t,window:r,scope:this,options:i})}},{key:"getDocIndex",value:function(t){for(var e=0;e<this.documents.length;e++)if(this.documents[e].doc===t)return e;return-1}},{key:"getDocOptions",value:function(t){var e=this.getDocIndex(t);return-1===e?null:this.documents[e].options}},{key:"now",value:function(){return(this.window.Date||Date).now()}}]),t}();function Jn(t,n){return t.isInitialized=!0,o.default.window(n)&&e.init(n),v.default.init(n),b.default.init(n),St.default.init(n),t.window=n,t.document=n.document,t.usePlugin(jn.default),t.usePlugin(bn.default),t}function Qn(t){return t&&t.replace(/\/.*$/,"")}zn.Scope=Kn;var tr={};Object.defineProperty(tr,"__esModule",{value:!0}),tr.default=void 0;var er=new zn.Scope,nr=er.interactStatic;tr.default=nr;var rr="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0;er.init(rr);var ir={};Object.defineProperty(ir,"__esModule",{value:!0}),ir.default=void 0,ir.default=function(){};var or={};Object.defineProperty(or,"__esModule",{value:!0}),or.default=void 0,or.default=function(){};var ar={};function sr(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(t);!(a=(r=n.next()).done)&&(o.push(r.value),!e||o.length!==e);a=!0);}catch(t){s=!0,i=t}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}}(t,e)||function(t,e){if(t){if("string"==typeof t)return ur(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ur(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ur(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}Object.defineProperty(ar,"__esModule",{value:!0}),ar.default=void 0,ar.default=function(t){var e=[["x","y"],["left","top"],["right","bottom"],["width","height"]].filter((function(e){var n=sr(e,2),r=n[0],i=n[1];return r in t||i in t})),n=function(n,r){for(var i=t.range,o=t.limits,a=void 0===o?{left:-1/0,right:1/0,top:-1/0,bottom:1/0}:o,s=t.offset,u=void 0===s?{x:0,y:0}:s,c={range:i,grid:t,x:null,y:null},l=0;l<e.length;l++){var f=sr(e[l],2),h=f[0],d=f[1],p=Math.round((n-u.x)/t[h]),v=Math.round((r-u.y)/t[d]);c[h]=Math.max(a.left,Math.min(a.right,p*t[h]+u.x)),c[d]=Math.max(a.top,Math.min(a.bottom,v*t[d]+u.y))}return c};return n.grid=t,n.coordFields=e,n};var cr={};Object.defineProperty(cr,"__esModule",{value:!0}),Object.defineProperty(cr,"edgeTarget",{enumerable:!0,get:function(){return ir.default}}),Object.defineProperty(cr,"elements",{enumerable:!0,get:function(){return or.default}}),Object.defineProperty(cr,"grid",{enumerable:!0,get:function(){return ar.default}});var lr={};Object.defineProperty(lr,"__esModule",{value:!0}),lr.default=void 0;var fr={id:"snappers",install:function(t){var e=t.interactStatic;e.snappers=(0,C.default)(e.snappers||{},cr),e.createSnapGrid=e.snappers.grid}},hr=fr;lr.default=hr;var dr={};function pr(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function vr(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?pr(Object(n),!0).forEach((function(e){gr(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):pr(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function gr(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}Object.defineProperty(dr,"__esModule",{value:!0}),dr.default=dr.aspectRatio=void 0;var mr={start:function(t){var e=t.state,n=t.rect,r=t.edges,i=t.pageCoords,o=e.options,a=o.ratio,s=o.enabled,u=e.options,c=u.equalDelta,l=u.modifiers;"preserve"===a&&(a=n.width/n.height),e.startCoords=(0,C.default)({},i),e.startRect=(0,C.default)({},n),e.ratio=a,e.equalDelta=c;var f=e.linkedEdges={top:r.top||r.left&&!r.bottom,left:r.left||r.top&&!r.right,bottom:r.bottom||r.right&&!r.top,right:r.right||r.bottom&&!r.left};if(e.xIsPrimaryAxis=!(!r.left&&!r.right),e.equalDelta){var h=(f.left?1:-1)*(f.top?1:-1);e.edgeSign={x:h,y:h}}else e.edgeSign={x:f.left?-1:1,y:f.top?-1:1};if(!1!==s&&(0,C.default)(r,f),null!=l&&l.length){var d=new pe.default(t.interaction);d.copyFrom(t.interaction.modification),d.prepareStates(l),e.subModification=d,d.startAll(vr({},t))}},set:function(t){var e=t.state,n=t.rect,r=t.coords,i=e.linkedEdges,o=(0,C.default)({},r),a=e.equalDelta?yr:br;if((0,C.default)(t.edges,i),a(e,e.xIsPrimaryAxis,r,n),!e.subModification)return null;var s=(0,C.default)({},n);(0,j.addEdges)(i,s,{x:r.x-o.x,y:r.y-o.y});var u=e.subModification.setAll(vr(vr({},t),{},{rect:s,edges:i,pageCoords:r,prevCoords:r,prevRect:s})),c=u.delta;return u.changed&&(a(e,Math.abs(c.x)>Math.abs(c.y),u.coords,u.rect),(0,C.default)(r,u.coords)),u.eventProps},defaults:{ratio:"preserve",equalDelta:!1,modifiers:[],enabled:!1}};function yr(t,e,n){var r=t.startCoords,i=t.edgeSign;e?n.y=r.y+(n.x-r.x)*i.y:n.x=r.x+(n.y-r.y)*i.x}function br(t,e,n,r){var i=t.startRect,o=t.startCoords,a=t.ratio,s=t.edgeSign;if(e){var u=r.width/a;n.y=o.y+(u-i.height)*s.y}else{var c=r.height*a;n.x=o.x+(c-i.width)*s.x}}dr.aspectRatio=mr;var wr=(0,xe.makeModifier)(mr,"aspectRatio");dr.default=wr;var xr={};Object.defineProperty(xr,"__esModule",{value:!0}),xr.default=void 0;var _r=function(){};_r._defaults={};var kr=_r;xr.default=kr;var Sr={};Object.defineProperty(Sr,"__esModule",{value:!0}),Object.defineProperty(Sr,"default",{enumerable:!0,get:function(){return xr.default}});var Pr={};function Er(t,e,n){return o.default.func(t)?j.resolveRectLike(t,e.interactable,e.element,[n.x,n.y,e]):j.resolveRectLike(t,e.interactable,e.element)}Object.defineProperty(Pr,"__esModule",{value:!0}),Pr.default=void 0,Pr.getRestrictionRect=Er,Pr.restrict=void 0;var Or={start:function(t){var e=t.rect,n=t.startOffset,r=t.state,i=t.interaction,o=t.pageCoords,a=r.options,s=a.elementRect,u=(0,C.default)({left:0,top:0,right:0,bottom:0},a.offset||{});if(e&&s){var c=Er(a.restriction,i,o);if(c){var l=c.right-c.left-e.width,f=c.bottom-c.top-e.height;l<0&&(u.left+=l,u.right+=l),f<0&&(u.top+=f,u.bottom+=f)}u.left+=n.left-e.width*s.left,u.top+=n.top-e.height*s.top,u.right+=n.right-e.width*(1-s.right),u.bottom+=n.bottom-e.height*(1-s.bottom)}r.offset=u},set:function(t){var e=t.coords,n=t.interaction,r=t.state,i=r.options,o=r.offset,a=Er(i.restriction,n,e);if(a){var s=j.xywhToTlbr(a);e.x=Math.max(Math.min(s.right-o.right,e.x),s.left+o.left),e.y=Math.max(Math.min(s.bottom-o.bottom,e.y),s.top+o.top)}},defaults:{restriction:null,elementRect:null,offset:null,endOnly:!1,enabled:!1}};Pr.restrict=Or;var Tr=(0,xe.makeModifier)(Or,"restrict");Pr.default=Tr;var Cr={};Object.defineProperty(Cr,"__esModule",{value:!0}),Cr.restrictEdges=Cr.default=void 0;var jr={top:1/0,left:1/0,bottom:-1/0,right:-1/0},Mr={top:-1/0,left:-1/0,bottom:1/0,right:1/0};function Ar(t,e){for(var n=["top","left","bottom","right"],r=0;r<n.length;r++){var i=n[r];i in t||(t[i]=e[i])}return t}var Rr={noInner:jr,noOuter:Mr,start:function(t){var e,n=t.interaction,r=t.startOffset,i=t.state,o=i.options;if(o){var a=(0,Pr.getRestrictionRect)(o.offset,n,n.coords.start.page);e=j.rectToXY(a)}e=e||{x:0,y:0},i.offset={top:e.y+r.top,left:e.x+r.left,bottom:e.y-r.bottom,right:e.x-r.right}},set:function(t){var e=t.coords,n=t.edges,r=t.interaction,i=t.state,o=i.offset,a=i.options;if(n){var s=(0,C.default)({},e),u=(0,Pr.getRestrictionRect)(a.inner,r,s)||{},c=(0,Pr.getRestrictionRect)(a.outer,r,s)||{};Ar(u,jr),Ar(c,Mr),n.top?e.y=Math.min(Math.max(c.top+o.top,s.y),u.top+o.top):n.bottom&&(e.y=Math.max(Math.min(c.bottom+o.bottom,s.y),u.bottom+o.bottom)),n.left?e.x=Math.min(Math.max(c.left+o.left,s.x),u.left+o.left):n.right&&(e.x=Math.max(Math.min(c.right+o.right,s.x),u.right+o.right))}},defaults:{inner:null,outer:null,offset:null,endOnly:!1,enabled:!1}};Cr.restrictEdges=Rr;var Ir=(0,xe.makeModifier)(Rr,"restrictEdges");Cr.default=Ir;var Lr={};Object.defineProperty(Lr,"__esModule",{value:!0}),Lr.restrictRect=Lr.default=void 0;var Dr=(0,C.default)({get elementRect(){return{top:0,left:0,bottom:1,right:1}},set elementRect(t){}},Pr.restrict.defaults),Nr={start:Pr.restrict.start,set:Pr.restrict.set,defaults:Dr};Lr.restrictRect=Nr;var $r=(0,xe.makeModifier)(Nr,"restrictRect");Lr.default=$r;var Fr={};Object.defineProperty(Fr,"__esModule",{value:!0}),Fr.restrictSize=Fr.default=void 0;var Br={width:-1/0,height:-1/0},Ur={width:1/0,height:1/0},zr={start:function(t){return Cr.restrictEdges.start(t)},set:function(t){var e=t.interaction,n=t.state,r=t.rect,i=t.edges,o=n.options;if(i){var a=j.tlbrToXywh((0,Pr.getRestrictionRect)(o.min,e,t.coords))||Br,s=j.tlbrToXywh((0,Pr.getRestrictionRect)(o.max,e,t.coords))||Ur;n.options={endOnly:o.endOnly,inner:(0,C.default)({},Cr.restrictEdges.noInner),outer:(0,C.default)({},Cr.restrictEdges.noOuter)},i.top?(n.options.inner.top=r.bottom-a.height,n.options.outer.top=r.bottom-s.height):i.bottom&&(n.options.inner.bottom=r.top+a.height,n.options.outer.bottom=r.top+s.height),i.left?(n.options.inner.left=r.right-a.width,n.options.outer.left=r.right-s.width):i.right&&(n.options.inner.right=r.left+a.width,n.options.outer.right=r.left+s.width),Cr.restrictEdges.set(t),n.options=o}},defaults:{min:null,max:null,endOnly:!1,enabled:!1}};Fr.restrictSize=zr;var Wr=(0,xe.makeModifier)(zr,"restrictSize");Fr.default=Wr;var Hr={};Object.defineProperty(Hr,"__esModule",{value:!0}),Object.defineProperty(Hr,"default",{enumerable:!0,get:function(){return xr.default}});var Vr={};Object.defineProperty(Vr,"__esModule",{value:!0}),Vr.snap=Vr.default=void 0;var Gr={start:function(t){var e,n=t.interaction,r=t.interactable,i=t.element,o=t.rect,a=t.state,s=t.startOffset,u=a.options,c=u.offsetWithOrigin?function(t){var e=t.interaction.element;return(0,j.rectToXY)((0,j.resolveRectLike)(t.state.options.origin,null,null,[e]))||(0,R.default)(t.interactable,e,t.interaction.prepared.name)}(t):{x:0,y:0};if("startCoords"===u.offset)e={x:n.coords.start.page.x,y:n.coords.start.page.y};else{var l=(0,j.resolveRectLike)(u.offset,r,i,[n]);(e=(0,j.rectToXY)(l)||{x:0,y:0}).x+=c.x,e.y+=c.y}var f=u.relativePoints;a.offsets=o&&f&&f.length?f.map((function(t,n){return{index:n,relativePoint:t,x:s.left-o.width*t.x+e.x,y:s.top-o.height*t.y+e.y}})):[{index:0,relativePoint:null,x:e.x,y:e.y}]},set:function(t){var e=t.interaction,n=t.coords,r=t.state,i=r.options,a=r.offsets,s=(0,R.default)(e.interactable,e.element,e.prepared.name),u=(0,C.default)({},n),c=[];i.offsetWithOrigin||(u.x-=s.x,u.y-=s.y);for(var l=0;l<a.length;l++)for(var f=a[l],h=u.x-f.x,d=u.y-f.y,p=0,v=i.targets.length;p<v;p++){var g,m=i.targets[p];(g=o.default.func(m)?m(h,d,e._proxy,f,p):m)&&c.push({x:(o.default.number(g.x)?g.x:h)+f.x,y:(o.default.number(g.y)?g.y:d)+f.y,range:o.default.number(g.range)?g.range:i.range,source:m,index:p,offset:f})}for(var y={target:null,inRange:!1,distance:0,range:0,delta:{x:0,y:0}},b=0;b<c.length;b++){var w=c[b],x=w.range,_=w.x-u.x,k=w.y-u.y,S=(0,D.default)(_,k),P=S<=x;x===1/0&&y.inRange&&y.range!==1/0&&(P=!1),y.target&&!(P?y.inRange&&x!==1/0?S/x<y.distance/y.range:x===1/0&&y.range!==1/0||S<y.distance:!y.inRange&&S<y.distance)||(y.target=w,y.distance=S,y.range=x,y.inRange=P,y.delta.x=_,y.delta.y=k)}return y.inRange&&(n.x=y.target.x,n.y=y.target.y),r.closest=y,y},defaults:{range:1/0,targets:null,offset:null,offsetWithOrigin:!0,origin:null,relativePoints:null,endOnly:!1,enabled:!1}};Vr.snap=Gr;var Yr=(0,xe.makeModifier)(Gr,"snap");Vr.default=Yr;var Xr={};function qr(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}Object.defineProperty(Xr,"__esModule",{value:!0}),Xr.snapSize=Xr.default=void 0;var Zr={start:function(t){var e=t.state,n=t.edges,r=e.options;if(!n)return null;t.state={options:{targets:null,relativePoints:[{x:n.left?0:1,y:n.top?0:1}],offset:r.offset||"self",origin:{x:0,y:0},range:r.range}},e.targetFields=e.targetFields||[["width","height"],["x","y"]],Vr.snap.start(t),e.offsets=t.state.offsets,t.state=e},set:function(t){var e,n=t.interaction,r=t.state,i=t.coords,a=r.options,s=r.offsets,u={x:i.x-s[0].x,y:i.y-s[0].y};r.options=(0,C.default)({},a),r.options.targets=[];for(var c=0;c<(a.targets||[]).length;c++){var l=(a.targets||[])[c],f=void 0;if(f=o.default.func(l)?l(u.x,u.y,n):l){for(var h=0;h<r.targetFields.length;h++){var d=function(t){if(Array.isArray(t))return t}(e=r.targetFields[h])||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(t);!(a=(r=n.next()).done)&&(o.push(r.value),2!==o.length);a=!0);}catch(t){s=!0,i=t}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}}(e)||function(t,e){if(t){if("string"==typeof t)return qr(t,2);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?qr(t,2):void 0}}(e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),p=d[0],v=d[1];if(p in f||v in f){f.x=f[p],f.y=f[v];break}}r.options.targets.push(f)}}var g=Vr.snap.set(t);return r.options=a,g},defaults:{range:1/0,targets:null,offset:null,endOnly:!1,enabled:!1}};Xr.snapSize=Zr;var Kr=(0,xe.makeModifier)(Zr,"snapSize");Xr.default=Kr;var Jr={};Object.defineProperty(Jr,"__esModule",{value:!0}),Jr.snapEdges=Jr.default=void 0;var Qr={start:function(t){var e=t.edges;return e?(t.state.targetFields=t.state.targetFields||[[e.left?"left":"right",e.top?"top":"bottom"]],Xr.snapSize.start(t)):null},set:Xr.snapSize.set,defaults:(0,C.default)((0,de.default)(Xr.snapSize.defaults),{targets:null,range:null,offset:{x:0,y:0}})};Jr.snapEdges=Qr;var ti=(0,xe.makeModifier)(Qr,"snapEdges");Jr.default=ti;var ei={};Object.defineProperty(ei,"__esModule",{value:!0}),Object.defineProperty(ei,"default",{enumerable:!0,get:function(){return xr.default}});var ni={};Object.defineProperty(ni,"__esModule",{value:!0}),Object.defineProperty(ni,"default",{enumerable:!0,get:function(){return xr.default}});var ri={};Object.defineProperty(ri,"__esModule",{value:!0}),ri.default=void 0;var ii={aspectRatio:dr.default,restrictEdges:Cr.default,restrict:Pr.default,restrictRect:Lr.default,restrictSize:Fr.default,snapEdges:Jr.default,snap:Vr.default,snapSize:Xr.default,spring:ei.default,avoid:Sr.default,transform:ni.default,rubberband:Hr.default};ri.default=ii;var oi={};Object.defineProperty(oi,"__esModule",{value:!0}),oi.default=void 0;var ai={id:"modifiers",install:function(t){var e=t.interactStatic;for(var n in t.usePlugin(xe.default),t.usePlugin(lr.default),e.modifiers=ri.default,ri.default){var r=ri.default[n],i=r._defaults,o=r._methods;i._methods=o,t.defaults.perAction[n]=i}}},si=ai;oi.default=si;var ui={};function ci(t){return ci="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ci(t)}function li(t,e){return li=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},li(t,e)}function fi(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function hi(t){return hi=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},hi(t)}Object.defineProperty(ui,"__esModule",{value:!0}),ui.default=ui.PointerEvent=void 0;var di=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&li(t,e)}(a,t);var e,n,r,i,o=(r=a,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=hi(r);if(i){var n=hi(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===ci(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return fi(t)}(this,t)});function a(t,e,n,r,i,s){var u;if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),u=o.call(this,i),$.pointerExtend(fi(u),n),n!==e&&$.pointerExtend(fi(u),e),u.timeStamp=s,u.originalEvent=n,u.type=t,u.pointerId=$.getPointerId(e),u.pointerType=$.getPointerType(e),u.target=r,u.currentTarget=null,"tap"===t){var c=i.getPointerIndex(e);u.dt=u.timeStamp-i.pointers[c].downTime;var l=u.timeStamp-i.tapTime;u.double=!!i.prevTap&&"doubletap"!==i.prevTap.type&&i.prevTap.target===u.target&&l<500}else"doubletap"===t&&(u.dt=e.timeStamp-i.tapTime,u.double=!0);return u}return e=a,(n=[{key:"_subtractOrigin",value:function(t){var e=t.x,n=t.y;return this.pageX-=e,this.pageY-=n,this.clientX-=e,this.clientY-=n,this}},{key:"_addOrigin",value:function(t){var e=t.x,n=t.y;return this.pageX+=e,this.pageY+=n,this.clientX+=e,this.clientY+=n,this}},{key:"preventDefault",value:function(){this.originalEvent.preventDefault()}}])&&function(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),a}(V.BaseEvent);ui.PointerEvent=ui.default=di;var pi={};Object.defineProperty(pi,"__esModule",{value:!0}),pi.default=void 0;var vi={id:"pointer-events/base",before:["inertia","modifiers","auto-start","actions"],install:function(t){t.pointerEvents=vi,t.defaults.actions.pointerEvents=vi.defaults,(0,C.default)(t.actions.phaselessTypes,vi.types)},listeners:{"interactions:new":function(t){var e=t.interaction;e.prevTap=null,e.tapTime=0},"interactions:update-pointer":function(t){var e=t.down,n=t.pointerInfo;!e&&n.hold||(n.hold={duration:1/0,timeout:null})},"interactions:move":function(t,e){var n=t.interaction,r=t.pointer,i=t.event,o=t.eventTarget;t.duplicate||n.pointerIsDown&&!n.pointerWasMoved||(n.pointerIsDown&&yi(t),gi({interaction:n,pointer:r,event:i,eventTarget:o,type:"move"},e))},"interactions:down":function(t,e){!function(t,e){for(var n=t.interaction,r=t.pointer,i=t.event,o=t.eventTarget,a=t.pointerIndex,s=n.pointers[a].hold,u=_.getPath(o),c={interaction:n,pointer:r,event:i,eventTarget:o,type:"hold",targets:[],path:u,node:null},l=0;l<u.length;l++){var f=u[l];c.node=f,e.fire("pointerEvents:collect-targets",c)}if(c.targets.length){for(var h=1/0,d=0;d<c.targets.length;d++){var p=c.targets[d].eventable.options.holdDuration;p<h&&(h=p)}s.duration=h,s.timeout=setTimeout((function(){gi({interaction:n,eventTarget:o,pointer:r,event:i,type:"hold"},e)}),h)}}(t,e),gi(t,e)},"interactions:up":function(t,e){yi(t),gi(t,e),function(t,e){var n=t.interaction,r=t.pointer,i=t.event,o=t.eventTarget;n.pointerWasMoved||gi({interaction:n,eventTarget:o,pointer:r,event:i,type:"tap"},e)}(t,e)},"interactions:cancel":function(t,e){yi(t),gi(t,e)}},PointerEvent:ui.PointerEvent,fire:gi,collectEventTargets:mi,defaults:{holdDuration:600,ignoreFrom:null,allowFrom:null,origin:{x:0,y:0}},types:{down:!0,move:!0,up:!0,cancel:!0,tap:!0,doubletap:!0,hold:!0}};function gi(t,e){var n=t.interaction,r=t.pointer,i=t.event,o=t.eventTarget,a=t.type,s=t.targets,u=void 0===s?mi(t,e):s,c=new ui.PointerEvent(a,r,i,o,n,e.now());e.fire("pointerEvents:new",{pointerEvent:c});for(var l={interaction:n,pointer:r,event:i,eventTarget:o,targets:u,type:a,pointerEvent:c},f=0;f<u.length;f++){var h=u[f];for(var d in h.props||{})c[d]=h.props[d];var p=(0,R.default)(h.eventable,h.node);if(c._subtractOrigin(p),c.eventable=h.eventable,c.currentTarget=h.node,h.eventable.fire(c),c._addOrigin(p),c.immediatePropagationStopped||c.propagationStopped&&f+1<u.length&&u[f+1].node!==c.currentTarget)break}if(e.fire("pointerEvents:fired",l),"tap"===a){var v=c.double?gi({interaction:n,pointer:r,event:i,eventTarget:o,type:"doubletap"},e):c;n.prevTap=v,n.tapTime=v.timeStamp}return c}function mi(t,e){var n=t.interaction,r=t.pointer,i=t.event,o=t.eventTarget,a=t.type,s=n.getPointerIndex(r),u=n.pointers[s];if("tap"===a&&(n.pointerWasMoved||!u||u.downTarget!==o))return[];for(var c=_.getPath(o),l={interaction:n,pointer:r,event:i,eventTarget:o,type:a,path:c,targets:[],node:null},f=0;f<c.length;f++){var h=c[f];l.node=h,e.fire("pointerEvents:collect-targets",l)}return"hold"===a&&(l.targets=l.targets.filter((function(t){var e;return t.eventable.options.holdDuration===(null==(e=n.pointers[s])?void 0:e.hold.duration)}))),l.targets}function yi(t){var e=t.interaction,n=t.pointerIndex,r=e.pointers[n].hold;r&&r.timeout&&(clearTimeout(r.timeout),r.timeout=null)}var bi=vi;pi.default=bi;var wi={};function xi(t){var e=t.interaction;e.holdIntervalHandle&&(clearInterval(e.holdIntervalHandle),e.holdIntervalHandle=null)}Object.defineProperty(wi,"__esModule",{value:!0}),wi.default=void 0;var _i={id:"pointer-events/holdRepeat",install:function(t){t.usePlugin(pi.default);var e=t.pointerEvents;e.defaults.holdRepeatInterval=0,e.types.holdrepeat=t.actions.phaselessTypes.holdrepeat=!0},listeners:["move","up","cancel","endall"].reduce((function(t,e){return t["pointerEvents:".concat(e)]=xi,t}),{"pointerEvents:new":function(t){var e=t.pointerEvent;"hold"===e.type&&(e.count=(e.count||0)+1)},"pointerEvents:fired":function(t,e){var n=t.interaction,r=t.pointerEvent,i=t.eventTarget,o=t.targets;if("hold"===r.type&&o.length){var a=o[0].eventable.options.holdRepeatInterval;a<=0||(n.holdIntervalHandle=setTimeout((function(){e.pointerEvents.fire({interaction:n,eventTarget:i,type:"hold",pointer:r,event:r},e)}),a))}}})},ki=_i;wi.default=ki;var Si={};function Pi(t){return(0,C.default)(this.events.options,t),this}Object.defineProperty(Si,"__esModule",{value:!0}),Si.default=void 0;var Ei={id:"pointer-events/interactableTargets",install:function(t){var e=t.Interactable;e.prototype.pointerEvents=Pi;var n=e.prototype._backCompatOption;e.prototype._backCompatOption=function(t,e){var r=n.call(this,t,e);return r===this&&(this.events.options[t]=e),r}},listeners:{"pointerEvents:collect-targets":function(t,e){var n=t.targets,r=t.node,i=t.type,o=t.eventTarget;e.interactables.forEachMatch(r,(function(t){var e=t.events,a=e.options;e.types[i]&&e.types[i].length&&t.testIgnoreAllow(a,r,o)&&n.push({node:r,eventable:e,props:{interactable:t}})}))},"interactable:new":function(t){var e=t.interactable;e.events.getRect=function(t){return e.getRect(t)}},"interactable:set":function(t,e){var n=t.interactable,r=t.options;(0,C.default)(n.events.options,e.pointerEvents.defaults),(0,C.default)(n.events.options,r.pointerEvents||{})}}},Oi=Ei;Si.default=Oi;var Ti={};Object.defineProperty(Ti,"__esModule",{value:!0}),Ti.default=void 0;var Ci={id:"pointer-events",install:function(t){t.usePlugin(pi),t.usePlugin(wi.default),t.usePlugin(Si.default)}},ji=Ci;Ti.default=ji;var Mi={};function Ai(t){var e=t.Interactable;t.actions.phases.reflow=!0,e.prototype.reflow=function(e){return function(t,e,n){for(var r=o.default.string(t.target)?X.from(t._context.querySelectorAll(t.target)):[t.target],i=n.window.Promise,a=i?[]:null,s=function(){var o=r[u],s=t.getRect(o);if(!s)return"break";var c=X.find(n.interactions.list,(function(n){return n.interacting()&&n.interactable===t&&n.element===o&&n.prepared.name===e.name})),l=void 0;if(c)c.move(),a&&(l=c._reflowPromise||new i((function(t){c._reflowResolve=t})));else{var f=(0,j.tlbrToXywh)(s),h={page:{x:f.x,y:f.y},client:{x:f.x,y:f.y},timeStamp:n.now()},d=$.coordsToEvent(h);l=function(t,e,n,r,i){var o=t.interactions.new({pointerType:"reflow"}),a={interaction:o,event:i,pointer:i,eventTarget:n,phase:"reflow"};o.interactable=e,o.element=n,o.prevEvent=i,o.updatePointer(i,i,n,!0),$.setZeroCoords(o.coords.delta),(0,Lt.copyAction)(o.prepared,r),o._doPhase(a);var s=t.window.Promise,u=s?new s((function(t){o._reflowResolve=t})):void 0;return o._reflowPromise=u,o.start(r,e,n),o._interacting?(o.move(a),o.end(i)):(o.stop(),o._reflowResolve()),o.removePointer(i,i),u}(n,t,o,e,d)}a&&a.push(l)},u=0;u<r.length&&"break"!==s();u++);return a&&i.all(a).then((function(){return t}))}(this,e,t)}}Object.defineProperty(Mi,"__esModule",{value:!0}),Mi.default=void 0,Mi.install=Ai;var Ri={id:"reflow",install:Ai,listeners:{"interactions:stop":function(t,e){var n=t.interaction;"reflow"===n.pointerType&&(n._reflowResolve&&n._reflowResolve(),X.remove(e.interactions.list,n))}}},Ii=Ri;Mi.default=Ii;var Li={};Object.defineProperty(Li,"__esModule",{value:!0}),Li.default=void 0,tr.default.use(oe.default),tr.default.use(He.default),tr.default.use(Ti.default),tr.default.use(Je.default),tr.default.use(oi.default),tr.default.use(re.default),tr.default.use(_t.default),tr.default.use(Ct.default),tr.default.use(Mi.default);var Di=tr.default;Li.default=Di,tr.default.default=tr.default,_t.default,Ct.default,re.default,oe.default,he.default,Je.default,tr.default,oi.default,He.default,Ti.default,Mi.default;var Ni={exports:{}};function $i(t){return $i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$i(t)}Object.defineProperty(Ni.exports,"__esModule",{value:!0}),Ni.exports.default=void 0;var Fi=Li.default;if(Ni.exports.default=Fi,"object"===$i(Ni)&&Ni)try{Ni.exports=Li.default}catch(t){}return Li.default.default=Li.default,Ni.exports}()},4638:function(t,e,n){!function(t,e,n){var r,i,o,a,s,u,c,l,f,h,d,p,v,g,m,y,b,w,x,_,k,S,P,E,O,T,C,j,M,A,R,I,L,D={html:!1,photo:!1,iframe:!1,inline:!1,transition:"elastic",speed:300,fadeOut:300,width:!1,initialWidth:"600",innerWidth:!1,maxWidth:!1,height:!1,initialHeight:"450",innerHeight:!1,maxHeight:!1,scalePhotos:!0,scrolling:!0,opacity:.9,preloading:!0,className:!1,overlayClose:!0,escKey:!0,arrowKey:!0,top:!1,bottom:!1,left:!1,right:!1,fixed:!1,data:void 0,closeButton:!0,fastIframe:!0,open:!1,reposition:!0,loop:!0,slideshow:!1,slideshowAuto:!0,slideshowSpeed:2500,slideshowStart:"start slideshow",slideshowStop:"stop slideshow",photoRegex:/\.(gif|png|jp(e|g|eg)|bmp|ico|webp|jxr|svg)((#|\?).*)?$/i,retinaImage:!1,retinaUrl:!1,retinaSuffix:"@2x.$1",current:"image {current} of {total}",previous:"previous",next:"next",close:"close",xhrError:"This content failed to load.",imgError:"This image failed to load.",returnFocus:!0,trapFocus:!0,onOpen:!1,onLoad:!1,onComplete:!1,onCleanup:!1,onClosed:!1,rel:function(){return this.rel},href:function(){return t(this).attr("href")},title:function(){return this.title},createImg:function(){var e=new Image,n=t(this).data("cbox-img-attrs");return"object"==typeof n&&t.each(n,(function(t,n){e[t]=n})),e},createIframe:function(){var n=e.createElement("iframe"),r=t(this).data("cbox-iframe-attrs");return"object"==typeof r&&t.each(r,(function(t,e){n[t]=e})),"frameBorder"in n&&(n.frameBorder=0),"allowTransparency"in n&&(n.allowTransparency="true"),n.name=(new Date).getTime(),n.allowFullscreen=!0,n}},N="colorbox",$="cbox",F=$+"Element",B=$+"_open",U=$+"_load",z=$+"_complete",W=$+"_cleanup",H=$+"_closed",V=$+"_purge",G=t("<a/>"),Y="div",X=0,q={};function Z(n,r,i){var o=e.createElement(n);return r&&(o.id=$+r),i&&(o.style.cssText=i),t(o)}function K(){return n.innerHeight?n.innerHeight:t(n).height()}function J(e,n){n!==Object(n)&&(n={}),this.cache={},this.el=e,this.value=function(e){var r;return void 0===this.cache[e]&&(void 0!==(r=t(this.el).attr("data-cbox-"+e))?this.cache[e]=r:void 0!==n[e]?this.cache[e]=n[e]:void 0!==D[e]&&(this.cache[e]=D[e])),this.cache[e]},this.get=function(e){var n=this.value(e);return t.isFunction(n)?n.call(this.el,this):n}}function Q(t){var e=f.length,n=(T+t)%e;return n<0?e+n:n}function tt(t,e){return Math.round((/%/.test(t)?("x"===e?h.width():K())/100:1)*parseInt(t,10))}function et(t,e){return t.get("photo")||t.get("photoRegex").test(e)}function nt(t,e){return t.get("retinaUrl")&&n.devicePixelRatio>1?e.replace(t.get("photoRegex"),t.get("retinaSuffix")):e}function rt(t){"contains"in i[0]&&!i[0].contains(t.target)&&t.target!==r[0]&&(t.stopPropagation(),i.focus())}function it(t){it.str!==t&&(i.add(r).removeClass(it.str).addClass(t),it.str=t)}function ot(n){t(e).trigger(n),G.triggerHandler(n)}var at=function(){var t,e,n=$+"Slideshow_",r="click."+$;function o(){clearTimeout(e)}function a(){(k.get("loop")||f[T+1])&&(o(),e=setTimeout(I.next,k.get("slideshowSpeed")))}function s(){y.html(k.get("slideshowStop")).unbind(r).one(r,u),G.bind(z,a).bind(U,o),i.removeClass(n+"off").addClass(n+"on")}function u(){o(),G.unbind(z,a).unbind(U,o),y.html(k.get("slideshowStart")).unbind(r).one(r,(function(){I.next(),s()})),i.removeClass(n+"on").addClass(n+"off")}function c(){t=!1,y.hide(),o(),G.unbind(z,a).unbind(U,o),i.removeClass(n+"off "+n+"on")}return function(){t?k.get("slideshow")||(G.unbind(W,c),c()):k.get("slideshow")&&f[1]&&(t=!0,G.one(W,c),k.get("slideshowAuto")?s():u(),y.show())}}();function st(o){var h,m;if(!A){if(h=t(o).data(N),k=new J(o,h),m=k.get("rel"),T=0,m&&!1!==m&&"nofollow"!==m?(f=t("."+F).filter((function(){return new J(this,t.data(this,N)).get("rel")===m})),-1===(T=f.index(k.el))&&(f=f.add(k.el),T=f.length-1)):f=t(k.el),!j){j=M=!0,it(k.get("className")),i.css({visibility:"hidden",display:"block",opacity:""}),d=Z(Y,"LoadedContent","width:0; height:0; overflow:hidden; visibility:hidden"),a.css({width:"",height:""}).append(d),S=s.height()+l.height()+a.outerHeight(!0)-a.height(),P=u.width()+c.width()+a.outerWidth(!0)-a.width(),E=d.outerHeight(!0),O=d.outerWidth(!0);var y=tt(k.get("initialWidth"),"x"),b=tt(k.get("initialHeight"),"y"),w=k.get("maxWidth"),L=k.get("maxHeight");k.w=Math.max((!1!==w?Math.min(y,tt(w,"x")):y)-O-P,0),k.h=Math.max((!1!==L?Math.min(b,tt(L,"y")):b)-E-S,0),d.css({width:"",height:k.h}),I.position(),ot(B),k.get("onOpen"),_.add(g).hide(),i.focus(),k.get("trapFocus")&&e.addEventListener&&(e.addEventListener("focus",rt,!0),G.one(H,(function(){e.removeEventListener("focus",rt,!0)}))),k.get("returnFocus")&&G.one(H,(function(){t(k.el).focus()}))}var D=parseFloat(k.get("opacity"));r.css({opacity:D==D?D:"",cursor:k.get("overlayClose")?"pointer":"",visibility:"visible"}).show(),k.get("closeButton")?x.html(k.get("close")).appendTo(a):x.appendTo("<div/>"),function(){var e,r,i,o=I.prep,a=++X;if(M=!0,C=!1,ot(V),ot(U),k.get("onLoad"),k.h=k.get("height")?tt(k.get("height"),"y")-E-S:k.get("innerHeight")&&tt(k.get("innerHeight"),"y"),k.w=k.get("width")?tt(k.get("width"),"x")-O-P:k.get("innerWidth")&&tt(k.get("innerWidth"),"x"),k.mw=k.w,k.mh=k.h,k.get("maxWidth")&&(k.mw=tt(k.get("maxWidth"),"x")-O-P,k.mw=k.w&&k.w<k.mw?k.w:k.mw),k.get("maxHeight")&&(k.mh=tt(k.get("maxHeight"),"y")-E-S,k.mh=k.h&&k.h<k.mh?k.h:k.mh),e=k.get("href"),R=setTimeout((function(){v.show()}),100),k.get("inline")){var s=t(e).eq(0);i=t("<div>").hide().insertBefore(s),G.one(V,(function(){i.replaceWith(s)})),o(s)}else k.get("iframe")?o(" "):k.get("html")?o(k.get("html")):et(k,e)?(e=nt(k,e),C=k.get("createImg"),t(C).addClass($+"Photo").bind("error."+$,(function(){o(Z(Y,"Error").html(k.get("imgError")))})).one("load",(function(){a===X&&setTimeout((function(){var e;k.get("retinaImage")&&n.devicePixelRatio>1&&(C.height=C.height/n.devicePixelRatio,C.width=C.width/n.devicePixelRatio),k.get("scalePhotos")&&(r=function(){C.height-=C.height*e,C.width-=C.width*e},k.mw&&C.width>k.mw&&(e=(C.width-k.mw)/C.width,r()),k.mh&&C.height>k.mh&&(e=(C.height-k.mh)/C.height,r())),k.h&&(C.style.marginTop=Math.max(k.mh-C.height,0)/2+"px"),f[1]&&(k.get("loop")||f[T+1])&&(C.style.cursor="pointer",t(C).bind("click."+$,(function(){I.next()}))),C.style.width=C.width+"px",C.style.height=C.height+"px",o(C)}),1)})),C.src=e):e&&p.load(e,k.get("data"),(function(e,n){a===X&&o("error"===n?Z(Y,"Error").html(k.get("xhrError")):t(this).contents())}))}()}}function ut(){i||(L=!1,h=t(n),i=Z(Y).attr({id:N,class:!1===t.support.opacity?$+"IE":"",role:"dialog",tabindex:"-1"}).hide(),r=Z(Y,"Overlay").hide(),v=t([Z(Y,"LoadingOverlay")[0],Z(Y,"LoadingGraphic")[0]]),o=Z(Y,"Wrapper"),a=Z(Y,"Content").append(g=Z(Y,"Title"),m=Z(Y,"Current"),w=t('<button type="button"/>').attr({id:$+"Previous"}),b=t('<button type="button"/>').attr({id:$+"Next"}),y=t('<button type="button"/>').attr({id:$+"Slideshow"}),v),x=t('<button type="button"/>').attr({id:$+"Close"}),o.append(Z(Y).append(Z(Y,"TopLeft"),s=Z(Y,"TopCenter"),Z(Y,"TopRight")),Z(Y,!1,"clear:left").append(u=Z(Y,"MiddleLeft"),a,c=Z(Y,"MiddleRight")),Z(Y,!1,"clear:left").append(Z(Y,"BottomLeft"),l=Z(Y,"BottomCenter"),Z(Y,"BottomRight"))).find("div div").css({float:"left"}),p=Z(Y,!1,"position:absolute; width:9999px; visibility:hidden; display:none; max-width:none;"),_=b.add(w).add(m).add(y)),e.body&&!i.parent().length&&t(e.body).append(r,i.append(o,p))}t[N]||(t(ut),(I=t.fn[N]=t[N]=function(n,o){var a=this;return n=n||{},t.isFunction(a)&&(a=t("<a/>"),n.open=!0),a[0]?(ut(),function(){function n(t){t.which>1||t.shiftKey||t.altKey||t.metaKey||t.ctrlKey||(t.preventDefault(),st(this))}return!!i&&(L||(L=!0,b.click((function(){I.next()})),w.click((function(){I.prev()})),x.click((function(){I.close()})),r.click((function(){k.get("overlayClose")&&I.close()})),t(e).bind("keydown."+$,(function(t){var e=t.keyCode;j&&k.get("escKey")&&27===e&&(t.preventDefault(),I.close()),j&&k.get("arrowKey")&&f[1]&&!t.altKey&&(37===e?(t.preventDefault(),w.click()):39===e&&(t.preventDefault(),b.click()))})),t.isFunction(t.fn.on)?t(e).on("click."+$,"."+F,n):t("."+F).live("click."+$,n)),!0)}()&&(o&&(n.onComplete=o),a.each((function(){var e=t.data(this,N)||{};t.data(this,N,t.extend(e,n))})).addClass(F),new J(a[0],n).get("open")&&st(a[0])),a):a}).position=function(e,n){var r,f,d,p=0,v=0,g=i.offset();function m(){s[0].style.width=l[0].style.width=a[0].style.width=parseInt(i[0].style.width,10)-P+"px",a[0].style.height=u[0].style.height=c[0].style.height=parseInt(i[0].style.height,10)-S+"px"}if(h.unbind("resize."+$),i.css({top:-9e4,left:-9e4}),f=h.scrollTop(),d=h.scrollLeft(),k.get("fixed")?(g.top-=f,g.left-=d,i.css({position:"fixed"})):(p=f,v=d,i.css({position:"absolute"})),!1!==k.get("right")?v+=Math.max(h.width()-k.w-O-P-tt(k.get("right"),"x"),0):!1!==k.get("left")?v+=tt(k.get("left"),"x"):v+=Math.round(Math.max(h.width()-k.w-O-P,0)/2),!1!==k.get("bottom")?p+=Math.max(K()-k.h-E-S-tt(k.get("bottom"),"y"),0):!1!==k.get("top")?p+=tt(k.get("top"),"y"):p+=Math.round(Math.max(K()-k.h-E-S,0)/2),i.css({top:g.top,left:g.left,visibility:"visible"}),o[0].style.width=o[0].style.height="9999px",r={width:k.w+O+P,height:k.h+E+S,top:p,left:v},e){var y=0;t.each(r,(function(t){r[t]===q[t]||(y=e)})),e=y}q=r,e||i.css(r),i.dequeue().animate(r,{duration:e||0,complete:function(){m(),M=!1,o[0].style.width=k.w+O+P+"px",o[0].style.height=k.h+E+S+"px",k.get("reposition")&&setTimeout((function(){h.bind("resize."+$,I.position)}),1),t.isFunction(n)&&n()},step:m})},I.resize=function(t){var e;j&&((t=t||{}).width&&(k.w=tt(t.width,"x")-O-P),t.innerWidth&&(k.w=tt(t.innerWidth,"x")),d.css({width:k.w}),t.height&&(k.h=tt(t.height,"y")-E-S),t.innerHeight&&(k.h=tt(t.innerHeight,"y")),t.innerHeight||t.height||(e=d.scrollTop(),d.css({height:"auto"}),k.h=d.height()),d.css({height:k.h}),e&&d.scrollTop(e),I.position("none"===k.get("transition")?0:k.get("speed")))},I.prep=function(n){if(j){var r,o="none"===k.get("transition")?0:k.get("speed");d.remove(),(d=Z(Y,"LoadedContent").append(n)).hide().appendTo(p.show()).css({width:(k.w=k.w||d.width(),k.w=k.mw&&k.mw<k.w?k.mw:k.w,k.w),overflow:k.get("scrolling")?"auto":"hidden"}).css({height:(k.h=k.h||d.height(),k.h=k.mh&&k.mh<k.h?k.mh:k.h,k.h)}).prependTo(a),p.hide(),t(C).css({float:"none"}),it(k.get("className")),r=function(){var n,r,a=f.length;function s(){!1===t.support.opacity&&i[0].style.removeAttribute("filter")}j&&(r=function(){clearTimeout(R),v.hide(),ot(z),k.get("onComplete")},g.html(k.get("title")).show(),d.show(),a>1?("string"==typeof k.get("current")&&m.html(k.get("current").replace("{current}",T+1).replace("{total}",a)).show(),b[k.get("loop")||T<a-1?"show":"hide"]().html(k.get("next")),w[k.get("loop")||T?"show":"hide"]().html(k.get("previous")),at(),k.get("preloading")&&t.each([Q(-1),Q(1)],(function(){var n=f[this],r=new J(n,t.data(n,N)),i=r.get("href");i&&et(r,i)&&(i=nt(r,i),e.createElement("img").src=i)}))):_.hide(),k.get("iframe")?(n=k.get("createIframe"),k.get("scrolling")||(n.scrolling="no"),t(n).attr({src:k.get("href"),class:$+"Iframe"}).one("load",r).appendTo(d),G.one(V,(function(){n.src="//about:blank"})),k.get("fastIframe")&&t(n).trigger("load")):r(),"fade"===k.get("transition")?i.fadeTo(o,1,s):s())},"fade"===k.get("transition")?i.fadeTo(o,0,(function(){I.position(0,r)})):I.position(o,r)}},I.next=function(){!M&&f[1]&&(k.get("loop")||f[T+1])&&(T=Q(1),st(f[T]))},I.prev=function(){!M&&f[1]&&(k.get("loop")||T)&&(T=Q(-1),st(f[T]))},I.close=function(){j&&!A&&(A=!0,j=!1,ot(W),k.get("onCleanup"),h.unbind("."+$),r.fadeTo(k.get("fadeOut")||0,0),i.stop().fadeTo(k.get("fadeOut")||0,0,(function(){i.hide(),r.hide(),ot(V),d.remove(),setTimeout((function(){A=!1,ot(H),k.get("onClosed")}),1)})))},I.remove=function(){i&&(i.stop(),t[N].close(),i.stop(!1,!0).remove(),r.remove(),A=!1,i=null,t("."+F).removeData(N).removeClass(F),t(e).unbind("click."+$).unbind("keydown."+$))},I.element=function(){return t(k.el)},I.settings=D)}(n(1669),document,window)},8497:function(t,e,n){!function(t){if(t.support.touch="ontouchend"in document,t.support.touch){var e,n=t.ui.mouse.prototype,r=n._mouseInit,i=n._mouseDestroy;n._touchStart=function(t){!e&&this._mouseCapture(t.originalEvent.changedTouches[0])&&(e=!0,this._touchMoved=!1,o(t,"mouseover"),o(t,"mousemove"),o(t,"mousedown"))},n._touchMove=function(t){e&&(this._touchMoved=!0,o(t,"mousemove"))},n._touchEnd=function(t){e&&(o(t,"mouseup"),o(t,"mouseout"),this._touchMoved||o(t,"click"),e=!1)},n._mouseInit=function(){var e=this;e.element.bind({touchstart:t.proxy(e,"_touchStart"),touchmove:t.proxy(e,"_touchMove"),touchend:t.proxy(e,"_touchEnd")}),r.call(e)},n._mouseDestroy=function(){var e=this;e.element.unbind({touchstart:t.proxy(e,"_touchStart"),touchmove:t.proxy(e,"_touchMove"),touchend:t.proxy(e,"_touchEnd")}),i.call(e)}}function o(t,e){if(!(t.originalEvent.touches.length>1)){t.preventDefault();var n=t.originalEvent.changedTouches[0],r=document.createEvent("MouseEvents");r.initMouseEvent(e,!0,!0,window,1,n.screenX,n.screenY,n.clientX,n.clientY,!1,!1,!1,!1,0,null),t.target.dispatchEvent(r)}}}(n(1669))},8045:function(t,e,n){var r,i,o;i=[n(1669),n(6883)],void 0===(o="function"==typeof(r=function(t){return t.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase())})?r.apply(e,i):r)||(t.exports=o)},1897:function(t,e,n){var r,i,o;i=[n(1669),n(6883)],void 0===(o="function"==typeof(r=function(t){return t.ui.keyCode={BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}})?r.apply(e,i):r)||(t.exports=o)},6883:function(t,e,n){var r,i,o;i=[n(1669)],void 0===(o="function"==typeof(r=function(t){return t.ui=t.ui||{},t.ui.version="1.12.1"})?r.apply(e,i):r)||(t.exports=o)},9139:function(t,e,n){var r,i,o;i=[n(1669),n(6883)],r=function(t){var e,n=0,r=Array.prototype.slice;return t.cleanData=(e=t.cleanData,function(n){var r,i,o;for(o=0;null!=(i=n[o]);o++)try{(r=t._data(i,"events"))&&r.remove&&t(i).triggerHandler("remove")}catch(t){}e(n)}),t.widget=function(e,n,r){var i,o,a,s={},u=e.split(".")[0],c=u+"-"+(e=e.split(".")[1]);return r||(r=n,n=t.Widget),t.isArray(r)&&(r=t.extend.apply(null,[{}].concat(r))),t.expr[":"][c.toLowerCase()]=function(e){return!!t.data(e,c)},t[u]=t[u]||{},i=t[u][e],o=t[u][e]=function(t,e){if(!this._createWidget)return new o(t,e);arguments.length&&this._createWidget(t,e)},t.extend(o,i,{version:r.version,_proto:t.extend({},r),_childConstructors:[]}),(a=new n).options=t.widget.extend({},a.options),t.each(r,(function(e,r){t.isFunction(r)?s[e]=function(){function t(){return n.prototype[e].apply(this,arguments)}function i(t){return n.prototype[e].apply(this,t)}return function(){var e,n=this._super,o=this._superApply;return this._super=t,this._superApply=i,e=r.apply(this,arguments),this._super=n,this._superApply=o,e}}():s[e]=r})),o.prototype=t.widget.extend(a,{widgetEventPrefix:i&&a.widgetEventPrefix||e},s,{constructor:o,namespace:u,widgetName:e,widgetFullName:c}),i?(t.each(i._childConstructors,(function(e,n){var r=n.prototype;t.widget(r.namespace+"."+r.widgetName,o,n._proto)})),delete i._childConstructors):n._childConstructors.push(o),t.widget.bridge(e,o),o},t.widget.extend=function(e){for(var n,i,o=r.call(arguments,1),a=0,s=o.length;a<s;a++)for(n in o[a])i=o[a][n],o[a].hasOwnProperty(n)&&void 0!==i&&(t.isPlainObject(i)?e[n]=t.isPlainObject(e[n])?t.widget.extend({},e[n],i):t.widget.extend({},i):e[n]=i);return e},t.widget.bridge=function(e,n){var i=n.prototype.widgetFullName||e;t.fn[e]=function(o){var a="string"==typeof o,s=r.call(arguments,1),u=this;return a?this.length||"instance"!==o?this.each((function(){var n,r=t.data(this,i);return"instance"===o?(u=r,!1):r?t.isFunction(r[o])&&"_"!==o.charAt(0)?(n=r[o].apply(r,s))!==r&&void 0!==n?(u=n&&n.jquery?u.pushStack(n.get()):n,!1):void 0:t.error("no such method '"+o+"' for "+e+" widget instance"):t.error("cannot call methods on "+e+" prior to initialization; attempted to call method '"+o+"'")})):u=void 0:(s.length&&(o=t.widget.extend.apply(null,[o].concat(s))),this.each((function(){var e=t.data(this,i);e?(e.option(o||{}),e._init&&e._init()):t.data(this,i,new n(o,this))}))),u}},t.Widget=function(){},t.Widget._childConstructors=[],t.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{classes:{},disabled:!1,create:null},_createWidget:function(e,r){r=t(r||this.defaultElement||this)[0],this.element=t(r),this.uuid=n++,this.eventNamespace="."+this.widgetName+this.uuid,this.bindings=t(),this.hoverable=t(),this.focusable=t(),this.classesElementLookup={},r!==this&&(t.data(r,this.widgetFullName,this),this._on(!0,this.element,{remove:function(t){t.target===r&&this.destroy()}}),this.document=t(r.style?r.ownerDocument:r.document||r),this.window=t(this.document[0].defaultView||this.document[0].parentWindow)),this.options=t.widget.extend({},this.options,this._getCreateOptions(),e),this._create(),this.options.disabled&&this._setOptionDisabled(this.options.disabled),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:function(){return{}},_getCreateEventData:t.noop,_create:t.noop,_init:t.noop,destroy:function(){var e=this;this._destroy(),t.each(this.classesElementLookup,(function(t,n){e._removeClass(n,t)})),this.element.off(this.eventNamespace).removeData(this.widgetFullName),this.widget().off(this.eventNamespace).removeAttr("aria-disabled"),this.bindings.off(this.eventNamespace)},_destroy:t.noop,widget:function(){return this.element},option:function(e,n){var r,i,o,a=e;if(0===arguments.length)return t.widget.extend({},this.options);if("string"==typeof e)if(a={},r=e.split("."),e=r.shift(),r.length){for(i=a[e]=t.widget.extend({},this.options[e]),o=0;o<r.length-1;o++)i[r[o]]=i[r[o]]||{},i=i[r[o]];if(e=r.pop(),1===arguments.length)return void 0===i[e]?null:i[e];i[e]=n}else{if(1===arguments.length)return void 0===this.options[e]?null:this.options[e];a[e]=n}return this._setOptions(a),this},_setOptions:function(t){var e;for(e in t)this._setOption(e,t[e]);return this},_setOption:function(t,e){return"classes"===t&&this._setOptionClasses(e),this.options[t]=e,"disabled"===t&&this._setOptionDisabled(e),this},_setOptionClasses:function(e){var n,r,i;for(n in e)i=this.classesElementLookup[n],e[n]!==this.options.classes[n]&&i&&i.length&&(r=t(i.get()),this._removeClass(i,n),r.addClass(this._classes({element:r,keys:n,classes:e,add:!0})))},_setOptionDisabled:function(t){this._toggleClass(this.widget(),this.widgetFullName+"-disabled",null,!!t),t&&(this._removeClass(this.hoverable,null,"ui-state-hover"),this._removeClass(this.focusable,null,"ui-state-focus"))},enable:function(){return this._setOptions({disabled:!1})},disable:function(){return this._setOptions({disabled:!0})},_classes:function(e){var n=[],r=this;function i(i,o){var a,s;for(s=0;s<i.length;s++)a=r.classesElementLookup[i[s]]||t(),a=e.add?t(t.unique(a.get().concat(e.element.get()))):t(a.not(e.element).get()),r.classesElementLookup[i[s]]=a,n.push(i[s]),o&&e.classes[i[s]]&&n.push(e.classes[i[s]])}return e=t.extend({element:this.element,classes:this.options.classes||{}},e),this._on(e.element,{remove:"_untrackClassesElement"}),e.keys&&i(e.keys.match(/\S+/g)||[],!0),e.extra&&i(e.extra.match(/\S+/g)||[]),n.join(" ")},_untrackClassesElement:function(e){var n=this;t.each(n.classesElementLookup,(function(r,i){-1!==t.inArray(e.target,i)&&(n.classesElementLookup[r]=t(i.not(e.target).get()))}))},_removeClass:function(t,e,n){return this._toggleClass(t,e,n,!1)},_addClass:function(t,e,n){return this._toggleClass(t,e,n,!0)},_toggleClass:function(t,e,n,r){r="boolean"==typeof r?r:n;var i="string"==typeof t||null===t,o={extra:i?e:n,keys:i?t:e,element:i?this.element:t,add:r};return o.element.toggleClass(this._classes(o),r),this},_on:function(e,n,r){var i,o=this;"boolean"!=typeof e&&(r=n,n=e,e=!1),r?(n=i=t(n),this.bindings=this.bindings.add(n)):(r=n,n=this.element,i=this.widget()),t.each(r,(function(r,a){function s(){if(e||!0!==o.options.disabled&&!t(this).hasClass("ui-state-disabled"))return("string"==typeof a?o[a]:a).apply(o,arguments)}"string"!=typeof a&&(s.guid=a.guid=a.guid||s.guid||t.guid++);var u=r.match(/^([\w:-]*)\s*(.*)$/),c=u[1]+o.eventNamespace,l=u[2];l?i.on(c,l,s):n.on(c,s)}))},_off:function(e,n){n=(n||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,e.off(n).off(n),this.bindings=t(this.bindings.not(e).get()),this.focusable=t(this.focusable.not(e).get()),this.hoverable=t(this.hoverable.not(e).get())},_delay:function(t,e){var n=this;return setTimeout((function(){return("string"==typeof t?n[t]:t).apply(n,arguments)}),e||0)},_hoverable:function(e){this.hoverable=this.hoverable.add(e),this._on(e,{mouseenter:function(e){this._addClass(t(e.currentTarget),null,"ui-state-hover")},mouseleave:function(e){this._removeClass(t(e.currentTarget),null,"ui-state-hover")}})},_focusable:function(e){this.focusable=this.focusable.add(e),this._on(e,{focusin:function(e){this._addClass(t(e.currentTarget),null,"ui-state-focus")},focusout:function(e){this._removeClass(t(e.currentTarget),null,"ui-state-focus")}})},_trigger:function(e,n,r){var i,o,a=this.options[e];if(r=r||{},(n=t.Event(n)).type=(e===this.widgetEventPrefix?e:this.widgetEventPrefix+e).toLowerCase(),n.target=this.element[0],o=n.originalEvent)for(i in o)i in n||(n[i]=o[i]);return this.element.trigger(n,r),!(t.isFunction(a)&&!1===a.apply(this.element[0],[n].concat(r))||n.isDefaultPrevented())}},t.each({show:"fadeIn",hide:"fadeOut"},(function(e,n){t.Widget.prototype["_"+e]=function(r,i,o){var a;"string"==typeof i&&(i={effect:i});var s=i?!0===i||"number"==typeof i?n:i.effect||n:e;"number"==typeof(i=i||{})&&(i={duration:i}),a=!t.isEmptyObject(i),i.complete=o,i.delay&&r.delay(i.delay),a&&t.effects&&t.effects.effect[s]?r[e](i):s!==e&&r[s]?r[s](i.duration,i.easing,o):r.queue((function(n){t(this)[e](),o&&o.call(r[0]),n()}))}})),t.widget},void 0===(o=r.apply(e,i))||(t.exports=o)},3662:function(t,e,n){var r,i,o;i=[n(1669),n(8045),n(6883),n(9139)],void 0===(o="function"==typeof(r=function(t){var e=!1;return t(document).on("mouseup",(function(){e=!1})),t.widget("ui.mouse",{version:"1.12.1",options:{cancel:"input, textarea, button, select, option",distance:1,delay:0},_mouseInit:function(){var e=this;this.element.on("mousedown."+this.widgetName,(function(t){return e._mouseDown(t)})).on("click."+this.widgetName,(function(n){if(!0===t.data(n.target,e.widgetName+".preventClickEvent"))return t.removeData(n.target,e.widgetName+".preventClickEvent"),n.stopImmediatePropagation(),!1})),this.started=!1},_mouseDestroy:function(){this.element.off("."+this.widgetName),this._mouseMoveDelegate&&this.document.off("mousemove."+this.widgetName,this._mouseMoveDelegate).off("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(n){if(!e){this._mouseMoved=!1,this._mouseStarted&&this._mouseUp(n),this._mouseDownEvent=n;var r=this,i=1===n.which,o=!("string"!=typeof this.options.cancel||!n.target.nodeName)&&t(n.target).closest(this.options.cancel).length;return!(i&&!o&&this._mouseCapture(n)&&(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout((function(){r.mouseDelayMet=!0}),this.options.delay)),this._mouseDistanceMet(n)&&this._mouseDelayMet(n)&&(this._mouseStarted=!1!==this._mouseStart(n),!this._mouseStarted)?(n.preventDefault(),0):(!0===t.data(n.target,this.widgetName+".preventClickEvent")&&t.removeData(n.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(t){return r._mouseMove(t)},this._mouseUpDelegate=function(t){return r._mouseUp(t)},this.document.on("mousemove."+this.widgetName,this._mouseMoveDelegate).on("mouseup."+this.widgetName,this._mouseUpDelegate),n.preventDefault(),e=!0,0)))}},_mouseMove:function(e){if(this._mouseMoved){if(t.ui.ie&&(!document.documentMode||document.documentMode<9)&&!e.button)return this._mouseUp(e);if(!e.which)if(e.originalEvent.altKey||e.originalEvent.ctrlKey||e.originalEvent.metaKey||e.originalEvent.shiftKey)this.ignoreMissingWhich=!0;else if(!this.ignoreMissingWhich)return this._mouseUp(e)}return(e.which||e.button)&&(this._mouseMoved=!0),this._mouseStarted?(this._mouseDrag(e),e.preventDefault()):(this._mouseDistanceMet(e)&&this._mouseDelayMet(e)&&(this._mouseStarted=!1!==this._mouseStart(this._mouseDownEvent,e),this._mouseStarted?this._mouseDrag(e):this._mouseUp(e)),!this._mouseStarted)},_mouseUp:function(n){this.document.off("mousemove."+this.widgetName,this._mouseMoveDelegate).off("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,n.target===this._mouseDownEvent.target&&t.data(n.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(n)),this._mouseDelayTimer&&(clearTimeout(this._mouseDelayTimer),delete this._mouseDelayTimer),this.ignoreMissingWhich=!1,e=!1,n.preventDefault()},_mouseDistanceMet:function(t){return Math.max(Math.abs(this._mouseDownEvent.pageX-t.pageX),Math.abs(this._mouseDownEvent.pageY-t.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}})})?r.apply(e,i):r)||(t.exports=o)},4720:function(t,e,n){var r,i,o;i=[n(1669),n(3662),n(1897),n(6883),n(9139)],r=function(t){return t.widget("ui.slider",t.ui.mouse,{version:"1.12.1",widgetEventPrefix:"slide",options:{animate:!1,classes:{"ui-slider":"ui-corner-all","ui-slider-handle":"ui-corner-all","ui-slider-range":"ui-corner-all ui-widget-header"},distance:0,max:100,min:0,orientation:"horizontal",range:!1,step:1,value:0,values:null,change:null,slide:null,start:null,stop:null},numPages:5,_create:function(){this._keySliding=!1,this._mouseSliding=!1,this._animateOff=!0,this._handleIndex=null,this._detectOrientation(),this._mouseInit(),this._calculateNewMax(),this._addClass("ui-slider ui-slider-"+this.orientation,"ui-widget ui-widget-content"),this._refresh(),this._animateOff=!1},_refresh:function(){this._createRange(),this._createHandles(),this._setupEvents(),this._refreshValue()},_createHandles:function(){var e,n,r=this.options,i=this.element.find(".ui-slider-handle"),o=[];for(n=r.values&&r.values.length||1,i.length>n&&(i.slice(n).remove(),i=i.slice(0,n)),e=i.length;e<n;e++)o.push("<span tabindex='0'></span>");this.handles=i.add(t(o.join("")).appendTo(this.element)),this._addClass(this.handles,"ui-slider-handle","ui-state-default"),this.handle=this.handles.eq(0),this.handles.each((function(e){t(this).data("ui-slider-handle-index",e).attr("tabIndex",0)}))},_createRange:function(){var e=this.options;e.range?(!0===e.range&&(e.values?e.values.length&&2!==e.values.length?e.values=[e.values[0],e.values[0]]:t.isArray(e.values)&&(e.values=e.values.slice(0)):e.values=[this._valueMin(),this._valueMin()]),this.range&&this.range.length?(this._removeClass(this.range,"ui-slider-range-min ui-slider-range-max"),this.range.css({left:"",bottom:""})):(this.range=t("<div>").appendTo(this.element),this._addClass(this.range,"ui-slider-range")),"min"!==e.range&&"max"!==e.range||this._addClass(this.range,"ui-slider-range-"+e.range)):(this.range&&this.range.remove(),this.range=null)},_setupEvents:function(){this._off(this.handles),this._on(this.handles,this._handleEvents),this._hoverable(this.handles),this._focusable(this.handles)},_destroy:function(){this.handles.remove(),this.range&&this.range.remove(),this._mouseDestroy()},_mouseCapture:function(e){var n,r,i,o,a,s,u,c=this,l=this.options;return!l.disabled&&(this.elementSize={width:this.element.outerWidth(),height:this.element.outerHeight()},this.elementOffset=this.element.offset(),n={x:e.pageX,y:e.pageY},r=this._normValueFromMouse(n),i=this._valueMax()-this._valueMin()+1,this.handles.each((function(e){var n=Math.abs(r-c.values(e));(i>n||i===n&&(e===c._lastChangedValue||c.values(e)===l.min))&&(i=n,o=t(this),a=e)})),!1!==this._start(e,a)&&(this._mouseSliding=!0,this._handleIndex=a,this._addClass(o,null,"ui-state-active"),o.trigger("focus"),s=o.offset(),u=!t(e.target).parents().addBack().is(".ui-slider-handle"),this._clickOffset=u?{left:0,top:0}:{left:e.pageX-s.left-o.width()/2,top:e.pageY-s.top-o.height()/2-(parseInt(o.css("borderTopWidth"),10)||0)-(parseInt(o.css("borderBottomWidth"),10)||0)+(parseInt(o.css("marginTop"),10)||0)},this.handles.hasClass("ui-state-hover")||this._slide(e,a,r),this._animateOff=!0,!0))},_mouseStart:function(){return!0},_mouseDrag:function(t){var e={x:t.pageX,y:t.pageY},n=this._normValueFromMouse(e);return this._slide(t,this._handleIndex,n),!1},_mouseStop:function(t){return this._removeClass(this.handles,null,"ui-state-active"),this._mouseSliding=!1,this._stop(t,this._handleIndex),this._change(t,this._handleIndex),this._handleIndex=null,this._clickOffset=null,this._animateOff=!1,!1},_detectOrientation:function(){this.orientation="vertical"===this.options.orientation?"vertical":"horizontal"},_normValueFromMouse:function(t){var e,n,r,i,o;return"horizontal"===this.orientation?(e=this.elementSize.width,n=t.x-this.elementOffset.left-(this._clickOffset?this._clickOffset.left:0)):(e=this.elementSize.height,n=t.y-this.elementOffset.top-(this._clickOffset?this._clickOffset.top:0)),(r=n/e)>1&&(r=1),r<0&&(r=0),"vertical"===this.orientation&&(r=1-r),i=this._valueMax()-this._valueMin(),o=this._valueMin()+r*i,this._trimAlignValue(o)},_uiHash:function(t,e,n){var r={handle:this.handles[t],handleIndex:t,value:void 0!==e?e:this.value()};return this._hasMultipleValues()&&(r.value=void 0!==e?e:this.values(t),r.values=n||this.values()),r},_hasMultipleValues:function(){return this.options.values&&this.options.values.length},_start:function(t,e){return this._trigger("start",t,this._uiHash(e))},_slide:function(t,e,n){var r,i=this.value(),o=this.values();this._hasMultipleValues()&&(r=this.values(e?0:1),i=this.values(e),2===this.options.values.length&&!0===this.options.range&&(n=0===e?Math.min(r,n):Math.max(r,n)),o[e]=n),n!==i&&!1!==this._trigger("slide",t,this._uiHash(e,n,o))&&(this._hasMultipleValues()?this.values(e,n):this.value(n))},_stop:function(t,e){this._trigger("stop",t,this._uiHash(e))},_change:function(t,e){this._keySliding||this._mouseSliding||(this._lastChangedValue=e,this._trigger("change",t,this._uiHash(e)))},value:function(t){return arguments.length?(this.options.value=this._trimAlignValue(t),this._refreshValue(),void this._change(null,0)):this._value()},values:function(e,n){var r,i,o;if(arguments.length>1)return this.options.values[e]=this._trimAlignValue(n),this._refreshValue(),void this._change(null,e);if(!arguments.length)return this._values();if(!t.isArray(arguments[0]))return this._hasMultipleValues()?this._values(e):this.value();for(r=this.options.values,i=arguments[0],o=0;o<r.length;o+=1)r[o]=this._trimAlignValue(i[o]),this._change(null,o);this._refreshValue()},_setOption:function(e,n){var r,i=0;switch("range"===e&&!0===this.options.range&&("min"===n?(this.options.value=this._values(0),this.options.values=null):"max"===n&&(this.options.value=this._values(this.options.values.length-1),this.options.values=null)),t.isArray(this.options.values)&&(i=this.options.values.length),this._super(e,n),e){case"orientation":this._detectOrientation(),this._removeClass("ui-slider-horizontal ui-slider-vertical")._addClass("ui-slider-"+this.orientation),this._refreshValue(),this.options.range&&this._refreshRange(n),this.handles.css("horizontal"===n?"bottom":"left","");break;case"value":this._animateOff=!0,this._refreshValue(),this._change(null,0),this._animateOff=!1;break;case"values":for(this._animateOff=!0,this._refreshValue(),r=i-1;r>=0;r--)this._change(null,r);this._animateOff=!1;break;case"step":case"min":case"max":this._animateOff=!0,this._calculateNewMax(),this._refreshValue(),this._animateOff=!1;break;case"range":this._animateOff=!0,this._refresh(),this._animateOff=!1}},_setOptionDisabled:function(t){this._super(t),this._toggleClass(null,"ui-state-disabled",!!t)},_value:function(){var t=this.options.value;return this._trimAlignValue(t)},_values:function(t){var e,n,r;if(arguments.length)return e=this.options.values[t],this._trimAlignValue(e);if(this._hasMultipleValues()){for(n=this.options.values.slice(),r=0;r<n.length;r+=1)n[r]=this._trimAlignValue(n[r]);return n}return[]},_trimAlignValue:function(t){if(t<=this._valueMin())return this._valueMin();if(t>=this._valueMax())return this._valueMax();var e=this.options.step>0?this.options.step:1,n=(t-this._valueMin())%e,r=t-n;return 2*Math.abs(n)>=e&&(r+=n>0?e:-e),parseFloat(r.toFixed(5))},_calculateNewMax:function(){var t=this.options.max,e=this._valueMin(),n=this.options.step;(t=Math.round((t-e)/n)*n+e)>this.options.max&&(t-=n),this.max=parseFloat(t.toFixed(this._precision()))},_precision:function(){var t=this._precisionOf(this.options.step);return null!==this.options.min&&(t=Math.max(t,this._precisionOf(this.options.min))),t},_precisionOf:function(t){var e=t.toString(),n=e.indexOf(".");return-1===n?0:e.length-n-1},_valueMin:function(){return this.options.min},_valueMax:function(){return this.max},_refreshRange:function(t){"vertical"===t&&this.range.css({width:"",left:""}),"horizontal"===t&&this.range.css({height:"",bottom:""})},_refreshValue:function(){var e,n,r,i,o,a=this.options.range,s=this.options,u=this,c=!this._animateOff&&s.animate,l={};this._hasMultipleValues()?this.handles.each((function(r){n=(u.values(r)-u._valueMin())/(u._valueMax()-u._valueMin())*100,l["horizontal"===u.orientation?"left":"bottom"]=n+"%",t(this).stop(1,1)[c?"animate":"css"](l,s.animate),!0===u.options.range&&("horizontal"===u.orientation?(0===r&&u.range.stop(1,1)[c?"animate":"css"]({left:n+"%"},s.animate),1===r&&u.range[c?"animate":"css"]({width:n-e+"%"},{queue:!1,duration:s.animate})):(0===r&&u.range.stop(1,1)[c?"animate":"css"]({bottom:n+"%"},s.animate),1===r&&u.range[c?"animate":"css"]({height:n-e+"%"},{queue:!1,duration:s.animate}))),e=n})):(r=this.value(),i=this._valueMin(),o=this._valueMax(),n=o!==i?(r-i)/(o-i)*100:0,l["horizontal"===this.orientation?"left":"bottom"]=n+"%",this.handle.stop(1,1)[c?"animate":"css"](l,s.animate),"min"===a&&"horizontal"===this.orientation&&this.range.stop(1,1)[c?"animate":"css"]({width:n+"%"},s.animate),"max"===a&&"horizontal"===this.orientation&&this.range.stop(1,1)[c?"animate":"css"]({width:100-n+"%"},s.animate),"min"===a&&"vertical"===this.orientation&&this.range.stop(1,1)[c?"animate":"css"]({height:n+"%"},s.animate),"max"===a&&"vertical"===this.orientation&&this.range.stop(1,1)[c?"animate":"css"]({height:100-n+"%"},s.animate))},_handleEvents:{keydown:function(e){var n,r,i,o=t(e.target).data("ui-slider-handle-index");switch(e.keyCode){case t.ui.keyCode.HOME:case t.ui.keyCode.END:case t.ui.keyCode.PAGE_UP:case t.ui.keyCode.PAGE_DOWN:case t.ui.keyCode.UP:case t.ui.keyCode.RIGHT:case t.ui.keyCode.DOWN:case t.ui.keyCode.LEFT:if(e.preventDefault(),!this._keySliding&&(this._keySliding=!0,this._addClass(t(e.target),null,"ui-state-active"),!1===this._start(e,o)))return}switch(i=this.options.step,n=r=this._hasMultipleValues()?this.values(o):this.value(),e.keyCode){case t.ui.keyCode.HOME:r=this._valueMin();break;case t.ui.keyCode.END:r=this._valueMax();break;case t.ui.keyCode.PAGE_UP:r=this._trimAlignValue(n+(this._valueMax()-this._valueMin())/this.numPages);break;case t.ui.keyCode.PAGE_DOWN:r=this._trimAlignValue(n-(this._valueMax()-this._valueMin())/this.numPages);break;case t.ui.keyCode.UP:case t.ui.keyCode.RIGHT:if(n===this._valueMax())return;r=this._trimAlignValue(n+i);break;case t.ui.keyCode.DOWN:case t.ui.keyCode.LEFT:if(n===this._valueMin())return;r=this._trimAlignValue(n-i)}this._slide(e,o,r)},keyup:function(e){var n=t(e.target).data("ui-slider-handle-index");this._keySliding&&(this._keySliding=!1,this._stop(e,n),this._change(e,n),this._removeClass(t(e.target),null,"ui-state-active"))}}})},void 0===(o=r.apply(e,i))||(t.exports=o)},1669:function(t){"use strict";t.exports=jQuery},9306:function(t,e,n){"use strict";var r=n(4901),i=n(6823),o=TypeError;t.exports=function(t){if(r(t))return t;throw new o(i(t)+" is not a function")}},5548:function(t,e,n){"use strict";var r=n(3517),i=n(6823),o=TypeError;t.exports=function(t){if(r(t))return t;throw new o(i(t)+" is not a constructor")}},3506:function(t,e,n){"use strict";var r=n(3925),i=String,o=TypeError;t.exports=function(t){if(r(t))return t;throw new o("Can't set "+i(t)+" as a prototype")}},6469:function(t,e,n){"use strict";var r=n(8227),i=n(2360),o=n(4913).f,a=r("unscopables"),s=Array.prototype;void 0===s[a]&&o(s,a,{configurable:!0,value:i(null)}),t.exports=function(t){s[a][t]=!0}},7829:function(t,e,n){"use strict";var r=n(8183).charAt;t.exports=function(t,e,n){return e+(n?r(t,e).length:1)}},679:function(t,e,n){"use strict";var r=n(1625),i=TypeError;t.exports=function(t,e){if(r(e,t))return t;throw new i("Incorrect invocation")}},8551:function(t,e,n){"use strict";var r=n(34),i=String,o=TypeError;t.exports=function(t){if(r(t))return t;throw new o(i(t)+" is not an object")}},5652:function(t,e,n){"use strict";var r=n(9039);t.exports=r((function(){if("function"==typeof ArrayBuffer){var t=new ArrayBuffer(8);Object.isExtensible(t)&&Object.defineProperty(t,"a",{value:8})}}))},4373:function(t,e,n){"use strict";var r=n(8981),i=n(5610),o=n(6198);t.exports=function(t){for(var e=r(this),n=o(e),a=arguments.length,s=i(a>1?arguments[1]:void 0,n),u=a>2?arguments[2]:void 0,c=void 0===u?n:i(u,n);c>s;)e[s++]=t;return e}},235:function(t,e,n){"use strict";var r=n(9213).forEach,i=n(4598)("forEach");t.exports=i?[].forEach:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}},7916:function(t,e,n){"use strict";var r=n(6080),i=n(9565),o=n(8981),a=n(6319),s=n(4209),u=n(3517),c=n(6198),l=n(4659),f=n(81),h=n(851),d=Array;t.exports=function(t){var e=o(t),n=u(this),p=arguments.length,v=p>1?arguments[1]:void 0,g=void 0!==v;g&&(v=r(v,p>2?arguments[2]:void 0));var m,y,b,w,x,_,k=h(e),S=0;if(!k||this===d&&s(k))for(m=c(e),y=n?new this(m):d(m);m>S;S++)_=g?v(e[S],S):e[S],l(y,S,_);else for(y=n?new this:[],x=(w=f(e,k)).next;!(b=i(x,w)).done;S++)_=g?a(w,v,[b.value,S],!0):b.value,l(y,S,_);return y.length=S,y}},9617:function(t,e,n){"use strict";var r=n(5397),i=n(5610),o=n(6198),a=function(t){return function(e,n,a){var s=r(e),u=o(s);if(0===u)return!t&&-1;var c,l=i(a,u);if(t&&n!=n){for(;u>l;)if((c=s[l++])!=c)return!0}else for(;u>l;l++)if((t||l in s)&&s[l]===n)return t||l||0;return!t&&-1}};t.exports={includes:a(!0),indexOf:a(!1)}},9213:function(t,e,n){"use strict";var r=n(6080),i=n(9504),o=n(7055),a=n(8981),s=n(6198),u=n(1469),c=i([].push),l=function(t){var e=1===t,n=2===t,i=3===t,l=4===t,f=6===t,h=7===t,d=5===t||f;return function(p,v,g,m){for(var y,b,w=a(p),x=o(w),_=s(x),k=r(v,g),S=0,P=m||u,E=e?P(p,_):n||h?P(p,0):void 0;_>S;S++)if((d||S in x)&&(b=k(y=x[S],S,w),t))if(e)E[S]=b;else if(b)switch(t){case 3:return!0;case 5:return y;case 6:return S;case 2:c(E,y)}else switch(t){case 4:return!1;case 7:c(E,y)}return f?-1:i||l?l:E}};t.exports={forEach:l(0),map:l(1),filter:l(2),some:l(3),every:l(4),find:l(5),findIndex:l(6),filterReject:l(7)}},597:function(t,e,n){"use strict";var r=n(9039),i=n(8227),o=n(9519),a=i("species");t.exports=function(t){return o>=51||!r((function(){var e=[];return(e.constructor={})[a]=function(){return{foo:1}},1!==e[t](Boolean).foo}))}},4598:function(t,e,n){"use strict";var r=n(9039);t.exports=function(t,e){var n=[][t];return!!n&&r((function(){n.call(null,e||function(){return 1},1)}))}},926:function(t,e,n){"use strict";var r=n(9306),i=n(8981),o=n(7055),a=n(6198),s=TypeError,u="Reduce of empty array with no initial value",c=function(t){return function(e,n,c,l){var f=i(e),h=o(f),d=a(f);if(r(n),0===d&&c<2)throw new s(u);var p=t?d-1:0,v=t?-1:1;if(c<2)for(;;){if(p in h){l=h[p],p+=v;break}if(p+=v,t?p<0:d<=p)throw new s(u)}for(;t?p>=0:d>p;p+=v)p in h&&(l=n(l,h[p],p,f));return l}};t.exports={left:c(!1),right:c(!0)}},4527:function(t,e,n){"use strict";var r=n(3724),i=n(4376),o=TypeError,a=Object.getOwnPropertyDescriptor,s=r&&!function(){if(void 0!==this)return!0;try{Object.defineProperty([],"length",{writable:!1}).length=1}catch(t){return t instanceof TypeError}}();t.exports=s?function(t,e){if(i(t)&&!a(t,"length").writable)throw new o("Cannot set read only .length");return t.length=e}:function(t,e){return t.length=e}},7680:function(t,e,n){"use strict";var r=n(9504);t.exports=r([].slice)},4488:function(t,e,n){"use strict";var r=n(7680),i=Math.floor,o=function(t,e){var n=t.length;if(n<8)for(var a,s,u=1;u<n;){for(s=u,a=t[u];s&&e(t[s-1],a)>0;)t[s]=t[--s];s!==u++&&(t[s]=a)}else for(var c=i(n/2),l=o(r(t,0,c),e),f=o(r(t,c),e),h=l.length,d=f.length,p=0,v=0;p<h||v<d;)t[p+v]=p<h&&v<d?e(l[p],f[v])<=0?l[p++]:f[v++]:p<h?l[p++]:f[v++];return t};t.exports=o},7433:function(t,e,n){"use strict";var r=n(4376),i=n(3517),o=n(34),a=n(8227)("species"),s=Array;t.exports=function(t){var e;return r(t)&&(e=t.constructor,(i(e)&&(e===s||r(e.prototype))||o(e)&&null===(e=e[a]))&&(e=void 0)),void 0===e?s:e}},1469:function(t,e,n){"use strict";var r=n(7433);t.exports=function(t,e){return new(r(t))(0===e?0:e)}},6319:function(t,e,n){"use strict";var r=n(8551),i=n(9539);t.exports=function(t,e,n,o){try{return o?e(r(n)[0],n[1]):e(n)}catch(e){i(t,"throw",e)}}},4428:function(t,e,n){"use strict";var r=n(8227)("iterator"),i=!1;try{var o=0,a={next:function(){return{done:!!o++}},return:function(){i=!0}};a[r]=function(){return this},Array.from(a,(function(){throw 2}))}catch(t){}t.exports=function(t,e){try{if(!e&&!i)return!1}catch(t){return!1}var n=!1;try{var o={};o[r]=function(){return{next:function(){return{done:n=!0}}}},t(o)}catch(t){}return n}},2195:function(t,e,n){"use strict";var r=n(9504),i=r({}.toString),o=r("".slice);t.exports=function(t){return o(i(t),8,-1)}},6955:function(t,e,n){"use strict";var r=n(2140),i=n(4901),o=n(2195),a=n(8227)("toStringTag"),s=Object,u="Arguments"===o(function(){return arguments}());t.exports=r?o:function(t){var e,n,r;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=function(t,e){try{return t[e]}catch(t){}}(e=s(t),a))?n:u?o(e):"Object"===(r=o(e))&&i(e.callee)?"Arguments":r}},6938:function(t,e,n){"use strict";var r=n(2360),i=n(2106),o=n(6279),a=n(6080),s=n(679),u=n(4117),c=n(2652),l=n(1088),f=n(2529),h=n(7633),d=n(3724),p=n(3451).fastKey,v=n(1181),g=v.set,m=v.getterFor;t.exports={getConstructor:function(t,e,n,l){var f=t((function(t,i){s(t,h),g(t,{type:e,index:r(null),first:null,last:null,size:0}),d||(t.size=0),u(i)||c(i,t[l],{that:t,AS_ENTRIES:n})})),h=f.prototype,v=m(e),y=function(t,e,n){var r,i,o=v(t),a=b(t,e);return a?a.value=n:(o.last=a={index:i=p(e,!0),key:e,value:n,previous:r=o.last,next:null,removed:!1},o.first||(o.first=a),r&&(r.next=a),d?o.size++:t.size++,"F"!==i&&(o.index[i]=a)),t},b=function(t,e){var n,r=v(t),i=p(e);if("F"!==i)return r.index[i];for(n=r.first;n;n=n.next)if(n.key===e)return n};return o(h,{clear:function(){for(var t=v(this),e=t.first;e;)e.removed=!0,e.previous&&(e.previous=e.previous.next=null),e=e.next;t.first=t.last=null,t.index=r(null),d?t.size=0:this.size=0},delete:function(t){var e=this,n=v(e),r=b(e,t);if(r){var i=r.next,o=r.previous;delete n.index[r.index],r.removed=!0,o&&(o.next=i),i&&(i.previous=o),n.first===r&&(n.first=i),n.last===r&&(n.last=o),d?n.size--:e.size--}return!!r},forEach:function(t){for(var e,n=v(this),r=a(t,arguments.length>1?arguments[1]:void 0);e=e?e.next:n.first;)for(r(e.value,e.key,this);e&&e.removed;)e=e.previous},has:function(t){return!!b(this,t)}}),o(h,n?{get:function(t){var e=b(this,t);return e&&e.value},set:function(t,e){return y(this,0===t?0:t,e)}}:{add:function(t){return y(this,t=0===t?0:t,t)}}),d&&i(h,"size",{configurable:!0,get:function(){return v(this).size}}),f},setStrong:function(t,e,n){var r=e+" Iterator",i=m(e),o=m(r);l(t,e,(function(t,e){g(this,{type:r,target:t,state:i(t),kind:e,last:null})}),(function(){for(var t=o(this),e=t.kind,n=t.last;n&&n.removed;)n=n.previous;return t.target&&(t.last=n=n?n.next:t.state.first)?f("keys"===e?n.key:"values"===e?n.value:[n.key,n.value],!1):(t.target=null,f(void 0,!0))}),n?"entries":"values",!n,!0),h(e)}}},4006:function(t,e,n){"use strict";var r=n(9504),i=n(6279),o=n(3451).getWeakData,a=n(679),s=n(8551),u=n(4117),c=n(34),l=n(2652),f=n(9213),h=n(9297),d=n(1181),p=d.set,v=d.getterFor,g=f.find,m=f.findIndex,y=r([].splice),b=0,w=function(t){return t.frozen||(t.frozen=new x)},x=function(){this.entries=[]},_=function(t,e){return g(t.entries,(function(t){return t[0]===e}))};x.prototype={get:function(t){var e=_(this,t);if(e)return e[1]},has:function(t){return!!_(this,t)},set:function(t,e){var n=_(this,t);n?n[1]=e:this.entries.push([t,e])},delete:function(t){var e=m(this.entries,(function(e){return e[0]===t}));return~e&&y(this.entries,e,1),!!~e}},t.exports={getConstructor:function(t,e,n,r){var f=t((function(t,i){a(t,d),p(t,{type:e,id:b++,frozen:null}),u(i)||l(i,t[r],{that:t,AS_ENTRIES:n})})),d=f.prototype,g=v(e),m=function(t,e,n){var r=g(t),i=o(s(e),!0);return!0===i?w(r).set(e,n):i[r.id]=n,t};return i(d,{delete:function(t){var e=g(this);if(!c(t))return!1;var n=o(t);return!0===n?w(e).delete(t):n&&h(n,e.id)&&delete n[e.id]},has:function(t){var e=g(this);if(!c(t))return!1;var n=o(t);return!0===n?w(e).has(t):n&&h(n,e.id)}}),i(d,n?{get:function(t){var e=g(this);if(c(t)){var n=o(t);if(!0===n)return w(e).get(t);if(n)return n[e.id]}},set:function(t,e){return m(this,t,e)}}:{add:function(t){return m(this,t,!0)}}),f}}},6468:function(t,e,n){"use strict";var r=n(6518),i=n(4576),o=n(9504),a=n(2796),s=n(6840),u=n(3451),c=n(2652),l=n(679),f=n(4901),h=n(4117),d=n(34),p=n(9039),v=n(4428),g=n(687),m=n(3167);t.exports=function(t,e,n){var y=-1!==t.indexOf("Map"),b=-1!==t.indexOf("Weak"),w=y?"set":"add",x=i[t],_=x&&x.prototype,k=x,S={},P=function(t){var e=o(_[t]);s(_,t,"add"===t?function(t){return e(this,0===t?0:t),this}:"delete"===t?function(t){return!(b&&!d(t))&&e(this,0===t?0:t)}:"get"===t?function(t){return b&&!d(t)?void 0:e(this,0===t?0:t)}:"has"===t?function(t){return!(b&&!d(t))&&e(this,0===t?0:t)}:function(t,n){return e(this,0===t?0:t,n),this})};if(a(t,!f(x)||!(b||_.forEach&&!p((function(){(new x).entries().next()})))))k=n.getConstructor(e,t,y,w),u.enable();else if(a(t,!0)){var E=new k,O=E[w](b?{}:-0,1)!==E,T=p((function(){E.has(1)})),C=v((function(t){new x(t)})),j=!b&&p((function(){for(var t=new x,e=5;e--;)t[w](e,e);return!t.has(-0)}));C||((k=e((function(t,e){l(t,_);var n=m(new x,t,k);return h(e)||c(e,n[w],{that:n,AS_ENTRIES:y}),n}))).prototype=_,_.constructor=k),(T||j)&&(P("delete"),P("has"),y&&P("get")),(j||O)&&P(w),b&&_.clear&&delete _.clear}return S[t]=k,r({global:!0,constructor:!0,forced:k!==x},S),g(k,t),b||n.setStrong(k,t,y),k}},7740:function(t,e,n){"use strict";var r=n(9297),i=n(5031),o=n(7347),a=n(4913);t.exports=function(t,e,n){for(var s=i(e),u=a.f,c=o.f,l=0;l<s.length;l++){var f=s[l];r(t,f)||n&&r(n,f)||u(t,f,c(e,f))}}},1436:function(t,e,n){"use strict";var r=n(8227)("match");t.exports=function(t){var e=/./;try{"/./"[t](e)}catch(n){try{return e[r]=!1,"/./"[t](e)}catch(t){}}return!1}},2211:function(t,e,n){"use strict";var r=n(9039);t.exports=!r((function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype}))},2529:function(t){"use strict";t.exports=function(t,e){return{value:t,done:e}}},6699:function(t,e,n){"use strict";var r=n(3724),i=n(4913),o=n(6980);t.exports=r?function(t,e,n){return i.f(t,e,o(1,n))}:function(t,e,n){return t[e]=n,t}},6980:function(t){"use strict";t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},4659:function(t,e,n){"use strict";var r=n(3724),i=n(4913),o=n(6980);t.exports=function(t,e,n){r?i.f(t,e,o(0,n)):t[e]=n}},3640:function(t,e,n){"use strict";var r=n(8551),i=n(4270),o=TypeError;t.exports=function(t){if(r(this),"string"===t||"default"===t)t="string";else if("number"!==t)throw new o("Incorrect hint");return i(this,t)}},2106:function(t,e,n){"use strict";var r=n(283),i=n(4913);t.exports=function(t,e,n){return n.get&&r(n.get,e,{getter:!0}),n.set&&r(n.set,e,{setter:!0}),i.f(t,e,n)}},6840:function(t,e,n){"use strict";var r=n(4901),i=n(4913),o=n(283),a=n(9433);t.exports=function(t,e,n,s){s||(s={});var u=s.enumerable,c=void 0!==s.name?s.name:e;if(r(n)&&o(n,c,s),s.global)u?t[e]=n:a(e,n);else{try{s.unsafe?t[e]&&(u=!0):delete t[e]}catch(t){}u?t[e]=n:i.f(t,e,{value:n,enumerable:!1,configurable:!s.nonConfigurable,writable:!s.nonWritable})}return t}},6279:function(t,e,n){"use strict";var r=n(6840);t.exports=function(t,e,n){for(var i in e)r(t,i,e[i],n);return t}},9433:function(t,e,n){"use strict";var r=n(4576),i=Object.defineProperty;t.exports=function(t,e){try{i(r,t,{value:e,configurable:!0,writable:!0})}catch(n){r[t]=e}return e}},4606:function(t,e,n){"use strict";var r=n(6823),i=TypeError;t.exports=function(t,e){if(!delete t[e])throw new i("Cannot delete property "+r(e)+" of "+r(t))}},3724:function(t,e,n){"use strict";var r=n(9039);t.exports=!r((function(){return 7!==Object.defineProperty({},1,{get:function(){return 7}})[1]}))},4055:function(t,e,n){"use strict";var r=n(4576),i=n(34),o=r.document,a=i(o)&&i(o.createElement);t.exports=function(t){return a?o.createElement(t):{}}},6837:function(t){"use strict";var e=TypeError;t.exports=function(t){if(t>9007199254740991)throw e("Maximum allowed index exceeded");return t}},7400:function(t){"use strict";t.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},9296:function(t,e,n){"use strict";var r=n(4055)("span").classList,i=r&&r.constructor&&r.constructor.prototype;t.exports=i===Object.prototype?void 0:i},8727:function(t){"use strict";t.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},3709:function(t,e,n){"use strict";var r=n(2839).match(/firefox\/(\d+)/i);t.exports=!!r&&+r[1]},3763:function(t,e,n){"use strict";var r=n(2839);t.exports=/MSIE|Trident/.test(r)},4265:function(t,e,n){"use strict";var r=n(2839);t.exports=/ipad|iphone|ipod/i.test(r)&&"undefined"!=typeof Pebble},9544:function(t,e,n){"use strict";var r=n(2839);t.exports=/(?:ipad|iphone|ipod).*applewebkit/i.test(r)},6193:function(t,e,n){"use strict";var r=n(4215);t.exports="NODE"===r},7860:function(t,e,n){"use strict";var r=n(2839);t.exports=/web0s(?!.*chrome)/i.test(r)},2839:function(t,e,n){"use strict";var r=n(4576).navigator,i=r&&r.userAgent;t.exports=i?String(i):""},9519:function(t,e,n){"use strict";var r,i,o=n(4576),a=n(2839),s=o.process,u=o.Deno,c=s&&s.versions||u&&u.version,l=c&&c.v8;l&&(i=(r=l.split("."))[0]>0&&r[0]<4?1:+(r[0]+r[1])),!i&&a&&(!(r=a.match(/Edge\/(\d+)/))||r[1]>=74)&&(r=a.match(/Chrome\/(\d+)/))&&(i=+r[1]),t.exports=i},3607:function(t,e,n){"use strict";var r=n(2839).match(/AppleWebKit\/(\d+)\./);t.exports=!!r&&+r[1]},4215:function(t,e,n){"use strict";var r=n(4576),i=n(2839),o=n(2195),a=function(t){return i.slice(0,t.length)===t};t.exports=a("Bun/")?"BUN":a("Cloudflare-Workers")?"CLOUDFLARE":a("Deno/")?"DENO":a("Node.js/")?"NODE":r.Bun&&"string"==typeof Bun.version?"BUN":r.Deno&&"object"==typeof Deno.version?"DENO":"process"===o(r.process)?"NODE":r.window&&r.document?"BROWSER":"REST"},6518:function(t,e,n){"use strict";var r=n(4576),i=n(7347).f,o=n(6699),a=n(6840),s=n(9433),u=n(7740),c=n(2796);t.exports=function(t,e){var n,l,f,h,d,p=t.target,v=t.global,g=t.stat;if(n=v?r:g?r[p]||s(p,{}):r[p]&&r[p].prototype)for(l in e){if(h=e[l],f=t.dontCallGetSet?(d=i(n,l))&&d.value:n[l],!c(v?l:p+(g?".":"#")+l,t.forced)&&void 0!==f){if(typeof h==typeof f)continue;u(h,f)}(t.sham||f&&f.sham)&&o(h,"sham",!0),a(n,l,h,t)}}},9039:function(t){"use strict";t.exports=function(t){try{return!!t()}catch(t){return!0}}},9228:function(t,e,n){"use strict";n(7495);var r=n(9565),i=n(6840),o=n(7323),a=n(9039),s=n(8227),u=n(6699),c=s("species"),l=RegExp.prototype;t.exports=function(t,e,n,f){var h=s(t),d=!a((function(){var e={};return e[h]=function(){return 7},7!==""[t](e)})),p=d&&!a((function(){var e=!1,n=/a/;return"split"===t&&((n={}).constructor={},n.constructor[c]=function(){return n},n.flags="",n[h]=/./[h]),n.exec=function(){return e=!0,null},n[h](""),!e}));if(!d||!p||n){var v=/./[h],g=e(h,""[t],(function(t,e,n,i,a){var s=e.exec;return s===o||s===l.exec?d&&!a?{done:!0,value:r(v,e,n,i)}:{done:!0,value:r(t,n,e,i)}:{done:!1}}));i(String.prototype,t,g[0]),i(l,h,g[1])}f&&u(l[h],"sham",!0)}},259:function(t,e,n){"use strict";var r=n(4376),i=n(6198),o=n(6837),a=n(6080),s=function(t,e,n,u,c,l,f,h){for(var d,p,v=c,g=0,m=!!f&&a(f,h);g<u;)g in n&&(d=m?m(n[g],g,e):n[g],l>0&&r(d)?(p=i(d),v=s(t,e,d,p,v,l-1)-1):(o(v+1),t[v]=d),v++),g++;return v};t.exports=s},2744:function(t,e,n){"use strict";var r=n(9039);t.exports=!r((function(){return Object.isExtensible(Object.preventExtensions({}))}))},8745:function(t,e,n){"use strict";var r=n(616),i=Function.prototype,o=i.apply,a=i.call;t.exports="object"==typeof Reflect&&Reflect.apply||(r?a.bind(o):function(){return a.apply(o,arguments)})},6080:function(t,e,n){"use strict";var r=n(7476),i=n(9306),o=n(616),a=r(r.bind);t.exports=function(t,e){return i(t),void 0===e?t:o?a(t,e):function(){return t.apply(e,arguments)}}},616:function(t,e,n){"use strict";var r=n(9039);t.exports=!r((function(){var t=function(){}.bind();return"function"!=typeof t||t.hasOwnProperty("prototype")}))},566:function(t,e,n){"use strict";var r=n(9504),i=n(9306),o=n(34),a=n(9297),s=n(7680),u=n(616),c=Function,l=r([].concat),f=r([].join),h={};t.exports=u?c.bind:function(t){var e=i(this),n=e.prototype,r=s(arguments,1),u=function(){var n=l(r,s(arguments));return this instanceof u?function(t,e,n){if(!a(h,e)){for(var r=[],i=0;i<e;i++)r[i]="a["+i+"]";h[e]=c("C,a","return new C("+f(r,",")+")")}return h[e](t,n)}(e,n.length,n):e.apply(t,n)};return o(n)&&(u.prototype=n),u}},9565:function(t,e,n){"use strict";var r=n(616),i=Function.prototype.call;t.exports=r?i.bind(i):function(){return i.apply(i,arguments)}},350:function(t,e,n){"use strict";var r=n(3724),i=n(9297),o=Function.prototype,a=r&&Object.getOwnPropertyDescriptor,s=i(o,"name"),u=s&&"something"===function(){}.name,c=s&&(!r||r&&a(o,"name").configurable);t.exports={EXISTS:s,PROPER:u,CONFIGURABLE:c}},6706:function(t,e,n){"use strict";var r=n(9504),i=n(9306);t.exports=function(t,e,n){try{return r(i(Object.getOwnPropertyDescriptor(t,e)[n]))}catch(t){}}},7476:function(t,e,n){"use strict";var r=n(2195),i=n(9504);t.exports=function(t){if("Function"===r(t))return i(t)}},9504:function(t,e,n){"use strict";var r=n(616),i=Function.prototype,o=i.call,a=r&&i.bind.bind(o,o);t.exports=r?a:function(t){return function(){return o.apply(t,arguments)}}},7751:function(t,e,n){"use strict";var r=n(4576),i=n(4901);t.exports=function(t,e){return arguments.length<2?(n=r[t],i(n)?n:void 0):r[t]&&r[t][e];var n}},851:function(t,e,n){"use strict";var r=n(6955),i=n(5966),o=n(4117),a=n(6269),s=n(8227)("iterator");t.exports=function(t){if(!o(t))return i(t,s)||i(t,"@@iterator")||a[r(t)]}},81:function(t,e,n){"use strict";var r=n(9565),i=n(9306),o=n(8551),a=n(6823),s=n(851),u=TypeError;t.exports=function(t,e){var n=arguments.length<2?s(t):e;if(i(n))return o(r(n,t));throw new u(a(t)+" is not iterable")}},6933:function(t,e,n){"use strict";var r=n(9504),i=n(4376),o=n(4901),a=n(2195),s=n(655),u=r([].push);t.exports=function(t){if(o(t))return t;if(i(t)){for(var e=t.length,n=[],r=0;r<e;r++){var c=t[r];"string"==typeof c?u(n,c):"number"!=typeof c&&"Number"!==a(c)&&"String"!==a(c)||u(n,s(c))}var l=n.length,f=!0;return function(t,e){if(f)return f=!1,e;if(i(this))return e;for(var r=0;r<l;r++)if(n[r]===t)return e}}}},5966:function(t,e,n){"use strict";var r=n(9306),i=n(4117);t.exports=function(t,e){var n=t[e];return i(n)?void 0:r(n)}},2478:function(t,e,n){"use strict";var r=n(9504),i=n(8981),o=Math.floor,a=r("".charAt),s=r("".replace),u=r("".slice),c=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,l=/\$([$&'`]|\d{1,2})/g;t.exports=function(t,e,n,r,f,h){var d=n+t.length,p=r.length,v=l;return void 0!==f&&(f=i(f),v=c),s(h,v,(function(i,s){var c;switch(a(s,0)){case"$":return"$";case"&":return t;case"`":return u(e,0,n);case"'":return u(e,d);case"<":c=f[u(s,1,-1)];break;default:var l=+s;if(0===l)return i;if(l>p){var h=o(l/10);return 0===h?i:h<=p?void 0===r[h-1]?a(s,1):r[h-1]+a(s,1):i}c=r[l-1]}return void 0===c?"":c}))}},4576:function(t,e,n){"use strict";var r=function(t){return t&&t.Math===Math&&t};t.exports=r("object"==typeof globalThis&&globalThis)||r("object"==typeof window&&window)||r("object"==typeof self&&self)||r("object"==typeof n.g&&n.g)||r("object"==typeof this&&this)||function(){return this}()||Function("return this")()},9297:function(t,e,n){"use strict";var r=n(9504),i=n(8981),o=r({}.hasOwnProperty);t.exports=Object.hasOwn||function(t,e){return o(i(t),e)}},421:function(t){"use strict";t.exports={}},3138:function(t){"use strict";t.exports=function(t,e){try{1===arguments.length?console.error(t):console.error(t,e)}catch(t){}}},397:function(t,e,n){"use strict";var r=n(7751);t.exports=r("document","documentElement")},5917:function(t,e,n){"use strict";var r=n(3724),i=n(9039),o=n(4055);t.exports=!r&&!i((function(){return 7!==Object.defineProperty(o("div"),"a",{get:function(){return 7}}).a}))},7055:function(t,e,n){"use strict";var r=n(9504),i=n(9039),o=n(2195),a=Object,s=r("".split);t.exports=i((function(){return!a("z").propertyIsEnumerable(0)}))?function(t){return"String"===o(t)?s(t,""):a(t)}:a},3167:function(t,e,n){"use strict";var r=n(4901),i=n(34),o=n(2967);t.exports=function(t,e,n){var a,s;return o&&r(a=e.constructor)&&a!==n&&i(s=a.prototype)&&s!==n.prototype&&o(t,s),t}},3706:function(t,e,n){"use strict";var r=n(9504),i=n(4901),o=n(7629),a=r(Function.toString);i(o.inspectSource)||(o.inspectSource=function(t){return a(t)}),t.exports=o.inspectSource},3451:function(t,e,n){"use strict";var r=n(6518),i=n(9504),o=n(421),a=n(34),s=n(9297),u=n(4913).f,c=n(8480),l=n(298),f=n(4124),h=n(3392),d=n(2744),p=!1,v=h("meta"),g=0,m=function(t){u(t,v,{value:{objectID:"O"+g++,weakData:{}}})},y=t.exports={enable:function(){y.enable=function(){},p=!0;var t=c.f,e=i([].splice),n={};n[v]=1,t(n).length&&(c.f=function(n){for(var r=t(n),i=0,o=r.length;i<o;i++)if(r[i]===v){e(r,i,1);break}return r},r({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:l.f}))},fastKey:function(t,e){if(!a(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!s(t,v)){if(!f(t))return"F";if(!e)return"E";m(t)}return t[v].objectID},getWeakData:function(t,e){if(!s(t,v)){if(!f(t))return!0;if(!e)return!1;m(t)}return t[v].weakData},onFreeze:function(t){return d&&p&&f(t)&&!s(t,v)&&m(t),t}};o[v]=!0},1181:function(t,e,n){"use strict";var r,i,o,a=n(8622),s=n(4576),u=n(34),c=n(6699),l=n(9297),f=n(7629),h=n(6119),d=n(421),p="Object already initialized",v=s.TypeError,g=s.WeakMap;if(a||f.state){var m=f.state||(f.state=new g);m.get=m.get,m.has=m.has,m.set=m.set,r=function(t,e){if(m.has(t))throw new v(p);return e.facade=t,m.set(t,e),e},i=function(t){return m.get(t)||{}},o=function(t){return m.has(t)}}else{var y=h("state");d[y]=!0,r=function(t,e){if(l(t,y))throw new v(p);return e.facade=t,c(t,y,e),e},i=function(t){return l(t,y)?t[y]:{}},o=function(t){return l(t,y)}}t.exports={set:r,get:i,has:o,enforce:function(t){return o(t)?i(t):r(t,{})},getterFor:function(t){return function(e){var n;if(!u(e)||(n=i(e)).type!==t)throw new v("Incompatible receiver, "+t+" required");return n}}}},4209:function(t,e,n){"use strict";var r=n(8227),i=n(6269),o=r("iterator"),a=Array.prototype;t.exports=function(t){return void 0!==t&&(i.Array===t||a[o]===t)}},4376:function(t,e,n){"use strict";var r=n(2195);t.exports=Array.isArray||function(t){return"Array"===r(t)}},4901:function(t){"use strict";var e="object"==typeof document&&document.all;t.exports=void 0===e&&void 0!==e?function(t){return"function"==typeof t||t===e}:function(t){return"function"==typeof t}},3517:function(t,e,n){"use strict";var r=n(9504),i=n(9039),o=n(4901),a=n(6955),s=n(7751),u=n(3706),c=function(){},l=s("Reflect","construct"),f=/^\s*(?:class|function)\b/,h=r(f.exec),d=!f.test(c),p=function(t){if(!o(t))return!1;try{return l(c,[],t),!0}catch(t){return!1}},v=function(t){if(!o(t))return!1;switch(a(t)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return d||!!h(f,u(t))}catch(t){return!0}};v.sham=!0,t.exports=!l||i((function(){var t;return p(p.call)||!p(Object)||!p((function(){t=!0}))||t}))?v:p},6575:function(t,e,n){"use strict";var r=n(9297);t.exports=function(t){return void 0!==t&&(r(t,"value")||r(t,"writable"))}},2796:function(t,e,n){"use strict";var r=n(9039),i=n(4901),o=/#|\.prototype\./,a=function(t,e){var n=u[s(t)];return n===l||n!==c&&(i(e)?r(e):!!e)},s=a.normalize=function(t){return String(t).replace(o,".").toLowerCase()},u=a.data={},c=a.NATIVE="N",l=a.POLYFILL="P";t.exports=a},4117:function(t){"use strict";t.exports=function(t){return null==t}},34:function(t,e,n){"use strict";var r=n(4901);t.exports=function(t){return"object"==typeof t?null!==t:r(t)}},3925:function(t,e,n){"use strict";var r=n(34);t.exports=function(t){return r(t)||null===t}},6395:function(t){"use strict";t.exports=!1},788:function(t,e,n){"use strict";var r=n(34),i=n(2195),o=n(8227)("match");t.exports=function(t){var e;return r(t)&&(void 0!==(e=t[o])?!!e:"RegExp"===i(t))}},757:function(t,e,n){"use strict";var r=n(7751),i=n(4901),o=n(1625),a=n(7040),s=Object;t.exports=a?function(t){return"symbol"==typeof t}:function(t){var e=r("Symbol");return i(e)&&o(e.prototype,s(t))}},2652:function(t,e,n){"use strict";var r=n(6080),i=n(9565),o=n(8551),a=n(6823),s=n(4209),u=n(6198),c=n(1625),l=n(81),f=n(851),h=n(9539),d=TypeError,p=function(t,e){this.stopped=t,this.result=e},v=p.prototype;t.exports=function(t,e,n){var g,m,y,b,w,x,_,k=n&&n.that,S=!(!n||!n.AS_ENTRIES),P=!(!n||!n.IS_RECORD),E=!(!n||!n.IS_ITERATOR),O=!(!n||!n.INTERRUPTED),T=r(e,k),C=function(t){return g&&h(g,"normal",t),new p(!0,t)},j=function(t){return S?(o(t),O?T(t[0],t[1],C):T(t[0],t[1])):O?T(t,C):T(t)};if(P)g=t.iterator;else if(E)g=t;else{if(!(m=f(t)))throw new d(a(t)+" is not iterable");if(s(m)){for(y=0,b=u(t);b>y;y++)if((w=j(t[y]))&&c(v,w))return w;return new p(!1)}g=l(t,m)}for(x=P?t.next:g.next;!(_=i(x,g)).done;){try{w=j(_.value)}catch(t){h(g,"throw",t)}if("object"==typeof w&&w&&c(v,w))return w}return new p(!1)}},9539:function(t,e,n){"use strict";var r=n(9565),i=n(8551),o=n(5966);t.exports=function(t,e,n){var a,s;i(t);try{if(!(a=o(t,"return"))){if("throw"===e)throw n;return n}a=r(a,t)}catch(t){s=!0,a=t}if("throw"===e)throw n;if(s)throw a;return i(a),n}},3994:function(t,e,n){"use strict";var r=n(7657).IteratorPrototype,i=n(2360),o=n(6980),a=n(687),s=n(6269),u=function(){return this};t.exports=function(t,e,n,c){var l=e+" Iterator";return t.prototype=i(r,{next:o(+!c,n)}),a(t,l,!1,!0),s[l]=u,t}},1088:function(t,e,n){"use strict";var r=n(6518),i=n(9565),o=n(6395),a=n(350),s=n(4901),u=n(3994),c=n(2787),l=n(2967),f=n(687),h=n(6699),d=n(6840),p=n(8227),v=n(6269),g=n(7657),m=a.PROPER,y=a.CONFIGURABLE,b=g.IteratorPrototype,w=g.BUGGY_SAFARI_ITERATORS,x=p("iterator"),_="keys",k="values",S="entries",P=function(){return this};t.exports=function(t,e,n,a,p,g,E){u(n,e,a);var O,T,C,j=function(t){if(t===p&&L)return L;if(!w&&t&&t in R)return R[t];switch(t){case _:case k:case S:return function(){return new n(this,t)}}return function(){return new n(this)}},M=e+" Iterator",A=!1,R=t.prototype,I=R[x]||R["@@iterator"]||p&&R[p],L=!w&&I||j(p),D="Array"===e&&R.entries||I;if(D&&(O=c(D.call(new t)))!==Object.prototype&&O.next&&(o||c(O)===b||(l?l(O,b):s(O[x])||d(O,x,P)),f(O,M,!0,!0),o&&(v[M]=P)),m&&p===k&&I&&I.name!==k&&(!o&&y?h(R,"name",k):(A=!0,L=function(){return i(I,this)})),p)if(T={values:j(k),keys:g?L:j(_),entries:j(S)},E)for(C in T)(w||A||!(C in R))&&d(R,C,T[C]);else r({target:e,proto:!0,forced:w||A},T);return o&&!E||R[x]===L||d(R,x,L,{name:p}),v[e]=L,T}},7657:function(t,e,n){"use strict";var r,i,o,a=n(9039),s=n(4901),u=n(34),c=n(2360),l=n(2787),f=n(6840),h=n(8227),d=n(6395),p=h("iterator"),v=!1;[].keys&&("next"in(o=[].keys())?(i=l(l(o)))!==Object.prototype&&(r=i):v=!0),!u(r)||a((function(){var t={};return r[p].call(t)!==t}))?r={}:d&&(r=c(r)),s(r[p])||f(r,p,(function(){return this})),t.exports={IteratorPrototype:r,BUGGY_SAFARI_ITERATORS:v}},6269:function(t){"use strict";t.exports={}},6198:function(t,e,n){"use strict";var r=n(8014);t.exports=function(t){return r(t.length)}},283:function(t,e,n){"use strict";var r=n(9504),i=n(9039),o=n(4901),a=n(9297),s=n(3724),u=n(350).CONFIGURABLE,c=n(3706),l=n(1181),f=l.enforce,h=l.get,d=String,p=Object.defineProperty,v=r("".slice),g=r("".replace),m=r([].join),y=s&&!i((function(){return 8!==p((function(){}),"length",{value:8}).length})),b=String(String).split("String"),w=t.exports=function(t,e,n){"Symbol("===v(d(e),0,7)&&(e="["+g(d(e),/^Symbol\(([^)]*)\).*$/,"$1")+"]"),n&&n.getter&&(e="get "+e),n&&n.setter&&(e="set "+e),(!a(t,"name")||u&&t.name!==e)&&(s?p(t,"name",{value:e,configurable:!0}):t.name=e),y&&n&&a(n,"arity")&&t.length!==n.arity&&p(t,"length",{value:n.arity});try{n&&a(n,"constructor")&&n.constructor?s&&p(t,"prototype",{writable:!1}):t.prototype&&(t.prototype=void 0)}catch(t){}var r=f(t);return a(r,"source")||(r.source=m(b,"string"==typeof e?e:"")),t};Function.prototype.toString=w((function(){return o(this)&&h(this).source||c(this)}),"toString")},7782:function(t){"use strict";t.exports=Math.sign||function(t){var e=+t;return 0===e||e!=e?e:e<0?-1:1}},741:function(t){"use strict";var e=Math.ceil,n=Math.floor;t.exports=Math.trunc||function(t){var r=+t;return(r>0?n:e)(r)}},1955:function(t,e,n){"use strict";var r,i,o,a,s,u=n(4576),c=n(3389),l=n(6080),f=n(9225).set,h=n(8265),d=n(9544),p=n(4265),v=n(7860),g=n(6193),m=u.MutationObserver||u.WebKitMutationObserver,y=u.document,b=u.process,w=u.Promise,x=c("queueMicrotask");if(!x){var _=new h,k=function(){var t,e;for(g&&(t=b.domain)&&t.exit();e=_.get();)try{e()}catch(t){throw _.head&&r(),t}t&&t.enter()};d||g||v||!m||!y?!p&&w&&w.resolve?((a=w.resolve(void 0)).constructor=w,s=l(a.then,a),r=function(){s(k)}):g?r=function(){b.nextTick(k)}:(f=l(f,u),r=function(){f(k)}):(i=!0,o=y.createTextNode(""),new m(k).observe(o,{characterData:!0}),r=function(){o.data=i=!i}),x=function(t){_.head||r(),_.add(t)}}t.exports=x},6043:function(t,e,n){"use strict";var r=n(9306),i=TypeError,o=function(t){var e,n;this.promise=new t((function(t,r){if(void 0!==e||void 0!==n)throw new i("Bad Promise constructor");e=t,n=r})),this.resolve=r(e),this.reject=r(n)};t.exports.f=function(t){return new o(t)}},2892:function(t,e,n){"use strict";var r=n(788),i=TypeError;t.exports=function(t){if(r(t))throw new i("The method doesn't accept regular expressions");return t}},3904:function(t,e,n){"use strict";var r=n(4576),i=n(9039),o=n(9504),a=n(655),s=n(3802).trim,u=n(7452),c=o("".charAt),l=r.parseFloat,f=r.Symbol,h=f&&f.iterator,d=1/l(u+"-0")!=-1/0||h&&!i((function(){l(Object(h))}));t.exports=d?function(t){var e=s(a(t)),n=l(e);return 0===n&&"-"===c(e,0)?-0:n}:l},2703:function(t,e,n){"use strict";var r=n(4576),i=n(9039),o=n(9504),a=n(655),s=n(3802).trim,u=n(7452),c=r.parseInt,l=r.Symbol,f=l&&l.iterator,h=/^[+-]?0x/i,d=o(h.exec),p=8!==c(u+"08")||22!==c(u+"0x16")||f&&!i((function(){c(Object(f))}));t.exports=p?function(t,e){var n=s(a(t));return c(n,e>>>0||(d(h,n)?16:10))}:c},4213:function(t,e,n){"use strict";var r=n(3724),i=n(9504),o=n(9565),a=n(9039),s=n(1072),u=n(3717),c=n(8773),l=n(8981),f=n(7055),h=Object.assign,d=Object.defineProperty,p=i([].concat);t.exports=!h||a((function(){if(r&&1!==h({b:1},h(d({},"a",{enumerable:!0,get:function(){d(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var t={},e={},n=Symbol("assign detection"),i="abcdefghijklmnopqrst";return t[n]=7,i.split("").forEach((function(t){e[t]=t})),7!==h({},t)[n]||s(h({},e)).join("")!==i}))?function(t,e){for(var n=l(t),i=arguments.length,a=1,h=u.f,d=c.f;i>a;)for(var v,g=f(arguments[a++]),m=h?p(s(g),h(g)):s(g),y=m.length,b=0;y>b;)v=m[b++],r&&!o(d,g,v)||(n[v]=g[v]);return n}:h},2360:function(t,e,n){"use strict";var r,i=n(8551),o=n(6801),a=n(8727),s=n(421),u=n(397),c=n(4055),l=n(6119),f="prototype",h="script",d=l("IE_PROTO"),p=function(){},v=function(t){return"<"+h+">"+t+"</"+h+">"},g=function(t){t.write(v("")),t.close();var e=t.parentWindow.Object;return t=null,e},m=function(){try{r=new ActiveXObject("htmlfile")}catch(t){}var t,e,n;m="undefined"!=typeof document?document.domain&&r?g(r):(e=c("iframe"),n="java"+h+":",e.style.display="none",u.appendChild(e),e.src=String(n),(t=e.contentWindow.document).open(),t.write(v("document.F=Object")),t.close(),t.F):g(r);for(var i=a.length;i--;)delete m[f][a[i]];return m()};s[d]=!0,t.exports=Object.create||function(t,e){var n;return null!==t?(p[f]=i(t),n=new p,p[f]=null,n[d]=t):n=m(),void 0===e?n:o.f(n,e)}},6801:function(t,e,n){"use strict";var r=n(3724),i=n(8686),o=n(4913),a=n(8551),s=n(5397),u=n(1072);e.f=r&&!i?Object.defineProperties:function(t,e){a(t);for(var n,r=s(e),i=u(e),c=i.length,l=0;c>l;)o.f(t,n=i[l++],r[n]);return t}},4913:function(t,e,n){"use strict";var r=n(3724),i=n(5917),o=n(8686),a=n(8551),s=n(6969),u=TypeError,c=Object.defineProperty,l=Object.getOwnPropertyDescriptor,f="enumerable",h="configurable",d="writable";e.f=r?o?function(t,e,n){if(a(t),e=s(e),a(n),"function"==typeof t&&"prototype"===e&&"value"in n&&d in n&&!n[d]){var r=l(t,e);r&&r[d]&&(t[e]=n.value,n={configurable:h in n?n[h]:r[h],enumerable:f in n?n[f]:r[f],writable:!1})}return c(t,e,n)}:c:function(t,e,n){if(a(t),e=s(e),a(n),i)try{return c(t,e,n)}catch(t){}if("get"in n||"set"in n)throw new u("Accessors not supported");return"value"in n&&(t[e]=n.value),t}},7347:function(t,e,n){"use strict";var r=n(3724),i=n(9565),o=n(8773),a=n(6980),s=n(5397),u=n(6969),c=n(9297),l=n(5917),f=Object.getOwnPropertyDescriptor;e.f=r?f:function(t,e){if(t=s(t),e=u(e),l)try{return f(t,e)}catch(t){}if(c(t,e))return a(!i(o.f,t,e),t[e])}},298:function(t,e,n){"use strict";var r=n(2195),i=n(5397),o=n(8480).f,a=n(7680),s="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];t.exports.f=function(t){return s&&"Window"===r(t)?function(t){try{return o(t)}catch(t){return a(s)}}(t):o(i(t))}},8480:function(t,e,n){"use strict";var r=n(1828),i=n(8727).concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return r(t,i)}},3717:function(t,e){"use strict";e.f=Object.getOwnPropertySymbols},2787:function(t,e,n){"use strict";var r=n(9297),i=n(4901),o=n(8981),a=n(6119),s=n(2211),u=a("IE_PROTO"),c=Object,l=c.prototype;t.exports=s?c.getPrototypeOf:function(t){var e=o(t);if(r(e,u))return e[u];var n=e.constructor;return i(n)&&e instanceof n?n.prototype:e instanceof c?l:null}},4124:function(t,e,n){"use strict";var r=n(9039),i=n(34),o=n(2195),a=n(5652),s=Object.isExtensible,u=r((function(){s(1)}));t.exports=u||a?function(t){return!!i(t)&&(!a||"ArrayBuffer"!==o(t))&&(!s||s(t))}:s},1625:function(t,e,n){"use strict";var r=n(9504);t.exports=r({}.isPrototypeOf)},1828:function(t,e,n){"use strict";var r=n(9504),i=n(9297),o=n(5397),a=n(9617).indexOf,s=n(421),u=r([].push);t.exports=function(t,e){var n,r=o(t),c=0,l=[];for(n in r)!i(s,n)&&i(r,n)&&u(l,n);for(;e.length>c;)i(r,n=e[c++])&&(~a(l,n)||u(l,n));return l}},1072:function(t,e,n){"use strict";var r=n(1828),i=n(8727);t.exports=Object.keys||function(t){return r(t,i)}},8773:function(t,e){"use strict";var n={}.propertyIsEnumerable,r=Object.getOwnPropertyDescriptor,i=r&&!n.call({1:2},1);e.f=i?function(t){var e=r(this,t);return!!e&&e.enumerable}:n},2967:function(t,e,n){"use strict";var r=n(6706),i=n(34),o=n(7750),a=n(3506);t.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var t,e=!1,n={};try{(t=r(Object.prototype,"__proto__","set"))(n,[]),e=n instanceof Array}catch(t){}return function(n,r){return o(n),a(r),i(n)?(e?t(n,r):n.__proto__=r,n):n}}():void 0)},2357:function(t,e,n){"use strict";var r=n(3724),i=n(9039),o=n(9504),a=n(2787),s=n(1072),u=n(5397),c=o(n(8773).f),l=o([].push),f=r&&i((function(){var t=Object.create(null);return t[2]=2,!c(t,2)})),h=function(t){return function(e){for(var n,i=u(e),o=s(i),h=f&&null===a(i),d=o.length,p=0,v=[];d>p;)n=o[p++],r&&!(h?n in i:c(i,n))||l(v,t?[n,i[n]]:i[n]);return v}};t.exports={entries:h(!0),values:h(!1)}},3179:function(t,e,n){"use strict";var r=n(2140),i=n(6955);t.exports=r?{}.toString:function(){return"[object "+i(this)+"]"}},4270:function(t,e,n){"use strict";var r=n(9565),i=n(4901),o=n(34),a=TypeError;t.exports=function(t,e){var n,s;if("string"===e&&i(n=t.toString)&&!o(s=r(n,t)))return s;if(i(n=t.valueOf)&&!o(s=r(n,t)))return s;if("string"!==e&&i(n=t.toString)&&!o(s=r(n,t)))return s;throw new a("Can't convert object to primitive value")}},5031:function(t,e,n){"use strict";var r=n(7751),i=n(9504),o=n(8480),a=n(3717),s=n(8551),u=i([].concat);t.exports=r("Reflect","ownKeys")||function(t){var e=o.f(s(t)),n=a.f;return n?u(e,n(t)):e}},9167:function(t,e,n){"use strict";var r=n(4576);t.exports=r},1103:function(t){"use strict";t.exports=function(t){try{return{error:!1,value:t()}}catch(t){return{error:!0,value:t}}}},916:function(t,e,n){"use strict";var r=n(4576),i=n(550),o=n(4901),a=n(2796),s=n(3706),u=n(8227),c=n(4215),l=n(6395),f=n(9519),h=i&&i.prototype,d=u("species"),p=!1,v=o(r.PromiseRejectionEvent),g=a("Promise",(function(){var t=s(i),e=t!==String(i);if(!e&&66===f)return!0;if(l&&(!h.catch||!h.finally))return!0;if(!f||f<51||!/native code/.test(t)){var n=new i((function(t){t(1)})),r=function(t){t((function(){}),(function(){}))};if((n.constructor={})[d]=r,!(p=n.then((function(){}))instanceof r))return!0}return!(e||"BROWSER"!==c&&"DENO"!==c||v)}));t.exports={CONSTRUCTOR:g,REJECTION_EVENT:v,SUBCLASSING:p}},550:function(t,e,n){"use strict";var r=n(4576);t.exports=r.Promise},3438:function(t,e,n){"use strict";var r=n(8551),i=n(34),o=n(6043);t.exports=function(t,e){if(r(t),i(e)&&e.constructor===t)return e;var n=o.f(t);return(0,n.resolve)(e),n.promise}},537:function(t,e,n){"use strict";var r=n(550),i=n(4428),o=n(916).CONSTRUCTOR;t.exports=o||!i((function(t){r.all(t).then(void 0,(function(){}))}))},1056:function(t,e,n){"use strict";var r=n(4913).f;t.exports=function(t,e,n){n in t||r(t,n,{configurable:!0,get:function(){return e[n]},set:function(t){e[n]=t}})}},8265:function(t){"use strict";var e=function(){this.head=null,this.tail=null};e.prototype={add:function(t){var e={item:t,next:null},n=this.tail;n?n.next=e:this.head=e,this.tail=e},get:function(){var t=this.head;if(t)return null===(this.head=t.next)&&(this.tail=null),t.item}},t.exports=e},6682:function(t,e,n){"use strict";var r=n(9565),i=n(8551),o=n(4901),a=n(2195),s=n(7323),u=TypeError;t.exports=function(t,e){var n=t.exec;if(o(n)){var c=r(n,t,e);return null!==c&&i(c),c}if("RegExp"===a(t))return r(s,t,e);throw new u("RegExp#exec called on incompatible receiver")}},7323:function(t,e,n){"use strict";var r,i,o=n(9565),a=n(9504),s=n(655),u=n(7979),c=n(8429),l=n(5745),f=n(2360),h=n(1181).get,d=n(3635),p=n(8814),v=l("native-string-replace",String.prototype.replace),g=RegExp.prototype.exec,m=g,y=a("".charAt),b=a("".indexOf),w=a("".replace),x=a("".slice),_=(i=/b*/g,o(g,r=/a/,"a"),o(g,i,"a"),0!==r.lastIndex||0!==i.lastIndex),k=c.BROKEN_CARET,S=void 0!==/()??/.exec("")[1];(_||S||k||d||p)&&(m=function(t){var e,n,r,i,a,c,l,d=this,p=h(d),P=s(t),E=p.raw;if(E)return E.lastIndex=d.lastIndex,e=o(m,E,P),d.lastIndex=E.lastIndex,e;var O=p.groups,T=k&&d.sticky,C=o(u,d),j=d.source,M=0,A=P;if(T&&(C=w(C,"y",""),-1===b(C,"g")&&(C+="g"),A=x(P,d.lastIndex),d.lastIndex>0&&(!d.multiline||d.multiline&&"\n"!==y(P,d.lastIndex-1))&&(j="(?: "+j+")",A=" "+A,M++),n=new RegExp("^(?:"+j+")",C)),S&&(n=new RegExp("^"+j+"$(?!\\s)",C)),_&&(r=d.lastIndex),i=o(g,T?n:d,A),T?i?(i.input=x(i.input,M),i[0]=x(i[0],M),i.index=d.lastIndex,d.lastIndex+=i[0].length):d.lastIndex=0:_&&i&&(d.lastIndex=d.global?i.index+i[0].length:r),S&&i&&i.length>1&&o(v,i[0],n,(function(){for(a=1;a<arguments.length-2;a++)void 0===arguments[a]&&(i[a]=void 0)})),i&&O)for(i.groups=c=f(null),a=0;a<O.length;a++)c[(l=O[a])[0]]=i[l[1]];return i}),t.exports=m},7979:function(t,e,n){"use strict";var r=n(8551);t.exports=function(){var t=r(this),e="";return t.hasIndices&&(e+="d"),t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.dotAll&&(e+="s"),t.unicode&&(e+="u"),t.unicodeSets&&(e+="v"),t.sticky&&(e+="y"),e}},1034:function(t,e,n){"use strict";var r=n(9565),i=n(9297),o=n(1625),a=n(7979),s=RegExp.prototype;t.exports=function(t){var e=t.flags;return void 0!==e||"flags"in s||i(t,"flags")||!o(s,t)?e:r(a,t)}},8429:function(t,e,n){"use strict";var r=n(9039),i=n(4576).RegExp,o=r((function(){var t=i("a","y");return t.lastIndex=2,null!==t.exec("abcd")})),a=o||r((function(){return!i("a","y").sticky})),s=o||r((function(){var t=i("^r","gy");return t.lastIndex=2,null!==t.exec("str")}));t.exports={BROKEN_CARET:s,MISSED_STICKY:a,UNSUPPORTED_Y:o}},3635:function(t,e,n){"use strict";var r=n(9039),i=n(4576).RegExp;t.exports=r((function(){var t=i(".","s");return!(t.dotAll&&t.test("\n")&&"s"===t.flags)}))},8814:function(t,e,n){"use strict";var r=n(9039),i=n(4576).RegExp;t.exports=r((function(){var t=i("(?<a>b)","g");return"b"!==t.exec("b").groups.a||"bc"!=="b".replace(t,"$<a>c")}))},7750:function(t,e,n){"use strict";var r=n(4117),i=TypeError;t.exports=function(t){if(r(t))throw new i("Can't call method on "+t);return t}},3389:function(t,e,n){"use strict";var r=n(4576),i=n(3724),o=Object.getOwnPropertyDescriptor;t.exports=function(t){if(!i)return r[t];var e=o(r,t);return e&&e.value}},3470:function(t){"use strict";t.exports=Object.is||function(t,e){return t===e?0!==t||1/t==1/e:t!=t&&e!=e}},7633:function(t,e,n){"use strict";var r=n(7751),i=n(2106),o=n(8227),a=n(3724),s=o("species");t.exports=function(t){var e=r(t);a&&e&&!e[s]&&i(e,s,{configurable:!0,get:function(){return this}})}},687:function(t,e,n){"use strict";var r=n(4913).f,i=n(9297),o=n(8227)("toStringTag");t.exports=function(t,e,n){t&&!n&&(t=t.prototype),t&&!i(t,o)&&r(t,o,{configurable:!0,value:e})}},6119:function(t,e,n){"use strict";var r=n(5745),i=n(3392),o=r("keys");t.exports=function(t){return o[t]||(o[t]=i(t))}},7629:function(t,e,n){"use strict";var r=n(6395),i=n(4576),o=n(9433),a="__core-js_shared__",s=t.exports=i[a]||o(a,{});(s.versions||(s.versions=[])).push({version:"3.38.1",mode:r?"pure":"global",copyright:" 2014-2024 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.38.1/LICENSE",source:"https://github.com/zloirock/core-js"})},5745:function(t,e,n){"use strict";var r=n(7629);t.exports=function(t,e){return r[t]||(r[t]=e||{})}},2293:function(t,e,n){"use strict";var r=n(8551),i=n(5548),o=n(4117),a=n(8227)("species");t.exports=function(t,e){var n,s=r(t).constructor;return void 0===s||o(n=r(s)[a])?e:i(n)}},8183:function(t,e,n){"use strict";var r=n(9504),i=n(1291),o=n(655),a=n(7750),s=r("".charAt),u=r("".charCodeAt),c=r("".slice),l=function(t){return function(e,n){var r,l,f=o(a(e)),h=i(n),d=f.length;return h<0||h>=d?t?"":void 0:(r=u(f,h))<55296||r>56319||h+1===d||(l=u(f,h+1))<56320||l>57343?t?s(f,h):r:t?c(f,h,h+2):l-56320+(r-55296<<10)+65536}};t.exports={codeAt:l(!1),charAt:l(!0)}},3802:function(t,e,n){"use strict";var r=n(9504),i=n(7750),o=n(655),a=n(7452),s=r("".replace),u=RegExp("^["+a+"]+"),c=RegExp("(^|[^"+a+"])["+a+"]+$"),l=function(t){return function(e){var n=o(i(e));return 1&t&&(n=s(n,u,"")),2&t&&(n=s(n,c,"$1")),n}};t.exports={start:l(1),end:l(2),trim:l(3)}},4495:function(t,e,n){"use strict";var r=n(9519),i=n(9039),o=n(4576).String;t.exports=!!Object.getOwnPropertySymbols&&!i((function(){var t=Symbol("symbol detection");return!o(t)||!(Object(t)instanceof Symbol)||!Symbol.sham&&r&&r<41}))},8242:function(t,e,n){"use strict";var r=n(9565),i=n(7751),o=n(8227),a=n(6840);t.exports=function(){var t=i("Symbol"),e=t&&t.prototype,n=e&&e.valueOf,s=o("toPrimitive");e&&!e[s]&&a(e,s,(function(t){return r(n,this)}),{arity:1})}},1296:function(t,e,n){"use strict";var r=n(4495);t.exports=r&&!!Symbol.for&&!!Symbol.keyFor},9225:function(t,e,n){"use strict";var r,i,o,a,s=n(4576),u=n(8745),c=n(6080),l=n(4901),f=n(9297),h=n(9039),d=n(397),p=n(7680),v=n(4055),g=n(2812),m=n(9544),y=n(6193),b=s.setImmediate,w=s.clearImmediate,x=s.process,_=s.Dispatch,k=s.Function,S=s.MessageChannel,P=s.String,E=0,O={},T="onreadystatechange";h((function(){r=s.location}));var C=function(t){if(f(O,t)){var e=O[t];delete O[t],e()}},j=function(t){return function(){C(t)}},M=function(t){C(t.data)},A=function(t){s.postMessage(P(t),r.protocol+"//"+r.host)};b&&w||(b=function(t){g(arguments.length,1);var e=l(t)?t:k(t),n=p(arguments,1);return O[++E]=function(){u(e,void 0,n)},i(E),E},w=function(t){delete O[t]},y?i=function(t){x.nextTick(j(t))}:_&&_.now?i=function(t){_.now(j(t))}:S&&!m?(a=(o=new S).port2,o.port1.onmessage=M,i=c(a.postMessage,a)):s.addEventListener&&l(s.postMessage)&&!s.importScripts&&r&&"file:"!==r.protocol&&!h(A)?(i=A,s.addEventListener("message",M,!1)):i=T in v("script")?function(t){d.appendChild(v("script"))[T]=function(){d.removeChild(this),C(t)}}:function(t){setTimeout(j(t),0)}),t.exports={set:b,clear:w}},1240:function(t,e,n){"use strict";var r=n(9504);t.exports=r(1..valueOf)},5610:function(t,e,n){"use strict";var r=n(1291),i=Math.max,o=Math.min;t.exports=function(t,e){var n=r(t);return n<0?i(n+e,0):o(n,e)}},5397:function(t,e,n){"use strict";var r=n(7055),i=n(7750);t.exports=function(t){return r(i(t))}},1291:function(t,e,n){"use strict";var r=n(741);t.exports=function(t){var e=+t;return e!=e||0===e?0:r(e)}},8014:function(t,e,n){"use strict";var r=n(1291),i=Math.min;t.exports=function(t){var e=r(t);return e>0?i(e,9007199254740991):0}},8981:function(t,e,n){"use strict";var r=n(7750),i=Object;t.exports=function(t){return i(r(t))}},2777:function(t,e,n){"use strict";var r=n(9565),i=n(34),o=n(757),a=n(5966),s=n(4270),u=n(8227),c=TypeError,l=u("toPrimitive");t.exports=function(t,e){if(!i(t)||o(t))return t;var n,u=a(t,l);if(u){if(void 0===e&&(e="default"),n=r(u,t,e),!i(n)||o(n))return n;throw new c("Can't convert object to primitive value")}return void 0===e&&(e="number"),s(t,e)}},6969:function(t,e,n){"use strict";var r=n(2777),i=n(757);t.exports=function(t){var e=r(t,"string");return i(e)?e:e+""}},2140:function(t,e,n){"use strict";var r={};r[n(8227)("toStringTag")]="z",t.exports="[object z]"===String(r)},655:function(t,e,n){"use strict";var r=n(6955),i=String;t.exports=function(t){if("Symbol"===r(t))throw new TypeError("Cannot convert a Symbol value to a string");return i(t)}},6823:function(t){"use strict";var e=String;t.exports=function(t){try{return e(t)}catch(t){return"Object"}}},3392:function(t,e,n){"use strict";var r=n(9504),i=0,o=Math.random(),a=r(1..toString);t.exports=function(t){return"Symbol("+(void 0===t?"":t)+")_"+a(++i+o,36)}},7416:function(t,e,n){"use strict";var r=n(9039),i=n(8227),o=n(3724),a=n(6395),s=i("iterator");t.exports=!r((function(){var t=new URL("b?a=1&b=2&c=3","https://a"),e=t.searchParams,n=new URLSearchParams("a=1&a=2&b=3"),r="";return t.pathname="c%20d",e.forEach((function(t,n){e.delete("b"),r+=n+t})),n.delete("a",2),n.delete("b",void 0),a&&(!t.toJSON||!n.has("a",1)||n.has("a",2)||!n.has("a",void 0)||n.has("b"))||!e.size&&(a||!o)||!e.sort||"https://a/c%20d?a=1&c=3"!==t.href||"3"!==e.get("c")||"a=1"!==String(new URLSearchParams("?a=1"))||!e[s]||"a"!==new URL("https://a@b").username||"b"!==new URLSearchParams(new URLSearchParams("a=b")).get("a")||"xn--e1aybc"!==new URL("https://").host||"#%D0%B1"!==new URL("https://a#").hash||"a1c3"!==r||"x"!==new URL("https://x",void 0).host}))},7040:function(t,e,n){"use strict";var r=n(4495);t.exports=r&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},8686:function(t,e,n){"use strict";var r=n(3724),i=n(9039);t.exports=r&&i((function(){return 42!==Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype}))},2812:function(t){"use strict";var e=TypeError;t.exports=function(t,n){if(t<n)throw new e("Not enough arguments");return t}},8622:function(t,e,n){"use strict";var r=n(4576),i=n(4901),o=r.WeakMap;t.exports=i(o)&&/native code/.test(String(o))},511:function(t,e,n){"use strict";var r=n(9167),i=n(9297),o=n(1951),a=n(4913).f;t.exports=function(t){var e=r.Symbol||(r.Symbol={});i(e,t)||a(e,t,{value:o.f(t)})}},1951:function(t,e,n){"use strict";var r=n(8227);e.f=r},8227:function(t,e,n){"use strict";var r=n(4576),i=n(5745),o=n(9297),a=n(3392),s=n(4495),u=n(7040),c=r.Symbol,l=i("wks"),f=u?c.for||c:c&&c.withoutSetter||a;t.exports=function(t){return o(l,t)||(l[t]=s&&o(c,t)?c[t]:f("Symbol."+t)),l[t]}},7452:function(t){"use strict";t.exports="\t\n\v\f\r \u2028\u2029\ufeff"},8706:function(t,e,n){"use strict";var r=n(6518),i=n(9039),o=n(4376),a=n(34),s=n(8981),u=n(6198),c=n(6837),l=n(4659),f=n(1469),h=n(597),d=n(8227),p=n(9519),v=d("isConcatSpreadable"),g=p>=51||!i((function(){var t=[];return t[v]=!1,t.concat()[0]!==t})),m=function(t){if(!a(t))return!1;var e=t[v];return void 0!==e?!!e:o(t)};r({target:"Array",proto:!0,arity:1,forced:!g||!h("concat")},{concat:function(t){var e,n,r,i,o,a=s(this),h=f(a,0),d=0;for(e=-1,r=arguments.length;e<r;e++)if(m(o=-1===e?a:arguments[e]))for(i=u(o),c(d+i),n=0;n<i;n++,d++)n in o&&l(h,d,o[n]);else c(d+1),l(h,d++,o);return h.length=d,h}})},3771:function(t,e,n){"use strict";var r=n(6518),i=n(4373),o=n(6469);r({target:"Array",proto:!0},{fill:i}),o("fill")},2008:function(t,e,n){"use strict";var r=n(6518),i=n(9213).filter;r({target:"Array",proto:!0,forced:!n(597)("filter")},{filter:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}})},8980:function(t,e,n){"use strict";var r=n(6518),i=n(9213).findIndex,o=n(6469),a="findIndex",s=!0;a in[]&&Array(1)[a]((function(){s=!1})),r({target:"Array",proto:!0,forced:s},{findIndex:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}}),o(a)},113:function(t,e,n){"use strict";var r=n(6518),i=n(9213).find,o=n(6469),a="find",s=!0;a in[]&&Array(1)[a]((function(){s=!1})),r({target:"Array",proto:!0,forced:s},{find:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}}),o(a)},8350:function(t,e,n){"use strict";var r=n(6518),i=n(259),o=n(9306),a=n(8981),s=n(6198),u=n(1469);r({target:"Array",proto:!0},{flatMap:function(t){var e,n=a(this),r=s(n);return o(t),(e=u(n,0)).length=i(e,n,n,r,0,1,t,arguments.length>1?arguments[1]:void 0),e}})},6449:function(t,e,n){"use strict";var r=n(6518),i=n(259),o=n(8981),a=n(6198),s=n(1291),u=n(1469);r({target:"Array",proto:!0},{flat:function(){var t=arguments.length?arguments[0]:void 0,e=o(this),n=a(e),r=u(e,0);return r.length=i(r,e,e,n,0,void 0===t?1:s(t)),r}})},3418:function(t,e,n){"use strict";var r=n(6518),i=n(7916);r({target:"Array",stat:!0,forced:!n(4428)((function(t){Array.from(t)}))},{from:i})},4423:function(t,e,n){"use strict";var r=n(6518),i=n(9617).includes,o=n(9039),a=n(6469);r({target:"Array",proto:!0,forced:o((function(){return!Array(1).includes()}))},{includes:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}}),a("includes")},3792:function(t,e,n){"use strict";var r=n(5397),i=n(6469),o=n(6269),a=n(1181),s=n(4913).f,u=n(1088),c=n(2529),l=n(6395),f=n(3724),h="Array Iterator",d=a.set,p=a.getterFor(h);t.exports=u(Array,"Array",(function(t,e){d(this,{type:h,target:r(t),index:0,kind:e})}),(function(){var t=p(this),e=t.target,n=t.index++;if(!e||n>=e.length)return t.target=null,c(void 0,!0);switch(t.kind){case"keys":return c(n,!1);case"values":return c(e[n],!1)}return c([n,e[n]],!1)}),"values");var v=o.Arguments=o.Array;if(i("keys"),i("values"),i("entries"),!l&&f&&"values"!==v.name)try{s(v,"name",{value:"values"})}catch(t){}},8598:function(t,e,n){"use strict";var r=n(6518),i=n(9504),o=n(7055),a=n(5397),s=n(4598),u=i([].join);r({target:"Array",proto:!0,forced:o!==Object||!s("join",",")},{join:function(t){return u(a(this),void 0===t?",":t)}})},2062:function(t,e,n){"use strict";var r=n(6518),i=n(9213).map;r({target:"Array",proto:!0,forced:!n(597)("map")},{map:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}})},2712:function(t,e,n){"use strict";var r=n(6518),i=n(926).left,o=n(4598),a=n(9519);r({target:"Array",proto:!0,forced:!n(6193)&&a>79&&a<83||!o("reduce")},{reduce:function(t){var e=arguments.length;return i(this,t,e,e>1?arguments[1]:void 0)}})},4490:function(t,e,n){"use strict";var r=n(6518),i=n(9504),o=n(4376),a=i([].reverse),s=[1,2];r({target:"Array",proto:!0,forced:String(s)===String(s.reverse())},{reverse:function(){return o(this)&&(this.length=this.length),a(this)}})},4782:function(t,e,n){"use strict";var r=n(6518),i=n(4376),o=n(3517),a=n(34),s=n(5610),u=n(6198),c=n(5397),l=n(4659),f=n(8227),h=n(597),d=n(7680),p=h("slice"),v=f("species"),g=Array,m=Math.max;r({target:"Array",proto:!0,forced:!p},{slice:function(t,e){var n,r,f,h=c(this),p=u(h),y=s(t,p),b=s(void 0===e?p:e,p);if(i(h)&&(n=h.constructor,(o(n)&&(n===g||i(n.prototype))||a(n)&&null===(n=n[v]))&&(n=void 0),n===g||void 0===n))return d(h,y,b);for(r=new(void 0===n?g:n)(m(b-y,0)),f=0;y<b;y++,f++)y in h&&l(r,f,h[y]);return r.length=f,r}})},6910:function(t,e,n){"use strict";var r=n(6518),i=n(9504),o=n(9306),a=n(8981),s=n(6198),u=n(4606),c=n(655),l=n(9039),f=n(4488),h=n(4598),d=n(3709),p=n(3763),v=n(9519),g=n(3607),m=[],y=i(m.sort),b=i(m.push),w=l((function(){m.sort(void 0)})),x=l((function(){m.sort(null)})),_=h("sort"),k=!l((function(){if(v)return v<70;if(!(d&&d>3)){if(p)return!0;if(g)return g<603;var t,e,n,r,i="";for(t=65;t<76;t++){switch(e=String.fromCharCode(t),t){case 66:case 69:case 70:case 72:n=3;break;case 68:case 71:n=4;break;default:n=2}for(r=0;r<47;r++)m.push({k:e+r,v:n})}for(m.sort((function(t,e){return e.v-t.v})),r=0;r<m.length;r++)e=m[r].k.charAt(0),i.charAt(i.length-1)!==e&&(i+=e);return"DGBEFHACIJK"!==i}}));r({target:"Array",proto:!0,forced:w||!x||!_||!k},{sort:function(t){void 0!==t&&o(t);var e=a(this);if(k)return void 0===t?y(e):y(e,t);var n,r,i=[],l=s(e);for(r=0;r<l;r++)r in e&&b(i,e[r]);for(f(i,function(t){return function(e,n){return void 0===n?-1:void 0===e?1:void 0!==t?+t(e,n)||0:c(e)>c(n)?1:-1}}(t)),n=s(i),r=0;r<n;)e[r]=i[r++];for(;r<l;)u(e,r++);return e}})},4554:function(t,e,n){"use strict";var r=n(6518),i=n(8981),o=n(5610),a=n(1291),s=n(6198),u=n(4527),c=n(6837),l=n(1469),f=n(4659),h=n(4606),d=n(597)("splice"),p=Math.max,v=Math.min;r({target:"Array",proto:!0,forced:!d},{splice:function(t,e){var n,r,d,g,m,y,b=i(this),w=s(b),x=o(t,w),_=arguments.length;for(0===_?n=r=0:1===_?(n=0,r=w-x):(n=_-2,r=v(p(a(e),0),w-x)),c(w+n-r),d=l(b,r),g=0;g<r;g++)(m=x+g)in b&&f(d,g,b[m]);if(d.length=r,n<r){for(g=x;g<w-r;g++)y=g+n,(m=g+r)in b?b[y]=b[m]:h(b,y);for(g=w;g>w-r+n;g--)h(b,g-1)}else if(n>r)for(g=w-r;g>x;g--)y=g+n-1,(m=g+r-1)in b?b[y]=b[m]:h(b,y);for(g=0;g<n;g++)b[g+x]=arguments[g+2];return u(b,w-r+n),d}})},237:function(t,e,n){"use strict";n(6469)("flatMap")},3514:function(t,e,n){"use strict";n(6469)("flat")},739:function(t,e,n){"use strict";var r=n(6518),i=n(9039),o=n(8981),a=n(2777);r({target:"Date",proto:!0,arity:1,forced:i((function(){return null!==new Date(NaN).toJSON()||1!==Date.prototype.toJSON.call({toISOString:function(){return 1}})}))},{toJSON:function(t){var e=o(this),n=a(e,"number");return"number"!=typeof n||isFinite(n)?e.toISOString():null}})},9572:function(t,e,n){"use strict";var r=n(9297),i=n(6840),o=n(3640),a=n(8227)("toPrimitive"),s=Date.prototype;r(s,a)||i(s,a,o)},2010:function(t,e,n){"use strict";var r=n(3724),i=n(350).EXISTS,o=n(9504),a=n(2106),s=Function.prototype,u=o(s.toString),c=/function\b(?:\s|\/\*[\S\s]*?\*\/|\/\/[^\n\r]*[\n\r]+)*([^\s(/]*)/,l=o(c.exec);r&&!i&&a(s,"name",{configurable:!0,get:function(){try{return l(c,u(this))[1]}catch(t){return""}}})},5081:function(t,e,n){"use strict";var r=n(6518),i=n(4576);r({global:!0,forced:i.globalThis!==i},{globalThis:i})},3110:function(t,e,n){"use strict";var r=n(6518),i=n(7751),o=n(8745),a=n(9565),s=n(9504),u=n(9039),c=n(4901),l=n(757),f=n(7680),h=n(6933),d=n(4495),p=String,v=i("JSON","stringify"),g=s(/./.exec),m=s("".charAt),y=s("".charCodeAt),b=s("".replace),w=s(1..toString),x=/[\uD800-\uDFFF]/g,_=/^[\uD800-\uDBFF]$/,k=/^[\uDC00-\uDFFF]$/,S=!d||u((function(){var t=i("Symbol")("stringify detection");return"[null]"!==v([t])||"{}"!==v({a:t})||"{}"!==v(Object(t))})),P=u((function(){return'"\\udf06\\ud834"'!==v("\udf06\ud834")||'"\\udead"'!==v("\udead")})),E=function(t,e){var n=f(arguments),r=h(e);if(c(r)||void 0!==t&&!l(t))return n[1]=function(t,e){if(c(r)&&(e=a(r,this,p(t),e)),!l(e))return e},o(v,null,n)},O=function(t,e,n){var r=m(n,e-1),i=m(n,e+1);return g(_,t)&&!g(k,i)||g(k,t)&&!g(_,r)?"\\u"+w(y(t,0),16):t};v&&r({target:"JSON",stat:!0,arity:3,forced:S||P},{stringify:function(t,e,n){var r=f(arguments),i=o(S?E:v,null,r);return P&&"string"==typeof i?b(i,x,O):i}})},4731:function(t,e,n){"use strict";var r=n(4576);n(687)(r.JSON,"JSON",!0)},8523:function(t,e,n){"use strict";n(6468)("Map",(function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}}),n(6938))},6033:function(t,e,n){"use strict";n(8523)},1367:function(t,e,n){"use strict";var r=n(6518),i=Math.log,o=Math.LN2;r({target:"Math",stat:!0},{log2:function(t){return i(t)/o}})},5914:function(t,e,n){"use strict";n(6518)({target:"Math",stat:!0},{sign:n(7782)})},479:function(t,e,n){"use strict";n(687)(Math,"Math",!0)},8130:function(t,e,n){"use strict";var r=n(6518),i=n(6395),o=n(3724),a=n(4576),s=n(9167),u=n(9504),c=n(2796),l=n(9297),f=n(3167),h=n(1625),d=n(757),p=n(2777),v=n(9039),g=n(8480).f,m=n(7347).f,y=n(4913).f,b=n(1240),w=n(3802).trim,x="Number",_=a[x],k=s[x],S=_.prototype,P=a.TypeError,E=u("".slice),O=u("".charCodeAt),T=c(x,!_(" 0o1")||!_("0b1")||_("+0x1")),C=function(t){var e,n=arguments.length<1?0:_(function(t){var e=p(t,"number");return"bigint"==typeof e?e:function(t){var e,n,r,i,o,a,s,u,c=p(t,"number");if(d(c))throw new P("Cannot convert a Symbol value to a number");if("string"==typeof c&&c.length>2)if(c=w(c),43===(e=O(c,0))||45===e){if(88===(n=O(c,2))||120===n)return NaN}else if(48===e){switch(O(c,1)){case 66:case 98:r=2,i=49;break;case 79:case 111:r=8,i=55;break;default:return+c}for(a=(o=E(c,2)).length,s=0;s<a;s++)if((u=O(o,s))<48||u>i)return NaN;return parseInt(o,r)}return+c}(e)}(t));return h(S,e=this)&&v((function(){b(e)}))?f(Object(n),this,C):n};C.prototype=S,T&&!i&&(S.constructor=C),r({global:!0,constructor:!0,wrap:!0,forced:T},{Number:C});var j=function(t,e){for(var n,r=o?g(e):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,isFinite,isInteger,isNaN,isSafeInteger,parseFloat,parseInt,fromString,range".split(","),i=0;r.length>i;i++)l(e,n=r[i])&&!l(t,n)&&y(t,n,m(e,n))};i&&k&&j(s[x],k),(T||i)&&j(s[x],_)},9085:function(t,e,n){"use strict";var r=n(6518),i=n(4213);r({target:"Object",stat:!0,arity:2,forced:Object.assign!==i},{assign:i})},2811:function(t,e,n){"use strict";var r=n(6518),i=n(2744),o=n(9039),a=n(34),s=n(3451).onFreeze,u=Object.freeze;r({target:"Object",stat:!0,forced:o((function(){u(1)})),sham:!i},{freeze:function(t){return u&&a(t)?u(s(t)):t}})},3851:function(t,e,n){"use strict";var r=n(6518),i=n(9039),o=n(5397),a=n(7347).f,s=n(3724);r({target:"Object",stat:!0,forced:!s||i((function(){a(1)})),sham:!s},{getOwnPropertyDescriptor:function(t,e){return a(o(t),e)}})},1278:function(t,e,n){"use strict";var r=n(6518),i=n(3724),o=n(5031),a=n(5397),s=n(7347),u=n(4659);r({target:"Object",stat:!0,sham:!i},{getOwnPropertyDescriptors:function(t){for(var e,n,r=a(t),i=s.f,c=o(r),l={},f=0;c.length>f;)void 0!==(n=i(r,e=c[f++]))&&u(l,e,n);return l}})},1480:function(t,e,n){"use strict";var r=n(6518),i=n(9039),o=n(298).f;r({target:"Object",stat:!0,forced:i((function(){return!Object.getOwnPropertyNames(1)}))},{getOwnPropertyNames:o})},9773:function(t,e,n){"use strict";var r=n(6518),i=n(4495),o=n(9039),a=n(3717),s=n(8981);r({target:"Object",stat:!0,forced:!i||o((function(){a.f(1)}))},{getOwnPropertySymbols:function(t){var e=a.f;return e?e(s(t)):[]}})},875:function(t,e,n){"use strict";var r=n(6518),i=n(9039),o=n(8981),a=n(2787),s=n(2211);r({target:"Object",stat:!0,forced:i((function(){a(1)})),sham:!s},{getPrototypeOf:function(t){return a(o(t))}})},9432:function(t,e,n){"use strict";var r=n(6518),i=n(8981),o=n(1072);r({target:"Object",stat:!0,forced:n(9039)((function(){o(1)}))},{keys:function(t){return o(i(t))}})},6099:function(t,e,n){"use strict";var r=n(2140),i=n(6840),o=n(3179);r||i(Object.prototype,"toString",o,{unsafe:!0})},6034:function(t,e,n){"use strict";var r=n(6518),i=n(2357).values;r({target:"Object",stat:!0},{values:function(t){return i(t)}})},8459:function(t,e,n){"use strict";var r=n(6518),i=n(3904);r({global:!0,forced:parseFloat!==i},{parseFloat:i})},8940:function(t,e,n){"use strict";var r=n(6518),i=n(2703);r({global:!0,forced:parseInt!==i},{parseInt:i})},6499:function(t,e,n){"use strict";var r=n(6518),i=n(9565),o=n(9306),a=n(6043),s=n(1103),u=n(2652);r({target:"Promise",stat:!0,forced:n(537)},{all:function(t){var e=this,n=a.f(e),r=n.resolve,c=n.reject,l=s((function(){var n=o(e.resolve),a=[],s=0,l=1;u(t,(function(t){var o=s++,u=!1;l++,i(n,e,t).then((function(t){u||(u=!0,a[o]=t,--l||r(a))}),c)})),--l||r(a)}));return l.error&&c(l.value),n.promise}})},2003:function(t,e,n){"use strict";var r=n(6518),i=n(6395),o=n(916).CONSTRUCTOR,a=n(550),s=n(7751),u=n(4901),c=n(6840),l=a&&a.prototype;if(r({target:"Promise",proto:!0,forced:o,real:!0},{catch:function(t){return this.then(void 0,t)}}),!i&&u(a)){var f=s("Promise").prototype.catch;l.catch!==f&&c(l,"catch",f,{unsafe:!0})}},436:function(t,e,n){"use strict";var r,i,o,a=n(6518),s=n(6395),u=n(6193),c=n(4576),l=n(9565),f=n(6840),h=n(2967),d=n(687),p=n(7633),v=n(9306),g=n(4901),m=n(34),y=n(679),b=n(2293),w=n(9225).set,x=n(1955),_=n(3138),k=n(1103),S=n(8265),P=n(1181),E=n(550),O=n(916),T=n(6043),C="Promise",j=O.CONSTRUCTOR,M=O.REJECTION_EVENT,A=O.SUBCLASSING,R=P.getterFor(C),I=P.set,L=E&&E.prototype,D=E,N=L,$=c.TypeError,F=c.document,B=c.process,U=T.f,z=U,W=!!(F&&F.createEvent&&c.dispatchEvent),H="unhandledrejection",V=function(t){var e;return!(!m(t)||!g(e=t.then))&&e},G=function(t,e){var n,r,i,o=e.value,a=1===e.state,s=a?t.ok:t.fail,u=t.resolve,c=t.reject,f=t.domain;try{s?(a||(2===e.rejection&&K(e),e.rejection=1),!0===s?n=o:(f&&f.enter(),n=s(o),f&&(f.exit(),i=!0)),n===t.promise?c(new $("Promise-chain cycle")):(r=V(n))?l(r,n,u,c):u(n)):c(o)}catch(t){f&&!i&&f.exit(),c(t)}},Y=function(t,e){t.notified||(t.notified=!0,x((function(){for(var n,r=t.reactions;n=r.get();)G(n,t);t.notified=!1,e&&!t.rejection&&q(t)})))},X=function(t,e,n){var r,i;W?((r=F.createEvent("Event")).promise=e,r.reason=n,r.initEvent(t,!1,!0),c.dispatchEvent(r)):r={promise:e,reason:n},!M&&(i=c["on"+t])?i(r):t===H&&_("Unhandled promise rejection",n)},q=function(t){l(w,c,(function(){var e,n=t.facade,r=t.value;if(Z(t)&&(e=k((function(){u?B.emit("unhandledRejection",r,n):X(H,n,r)})),t.rejection=u||Z(t)?2:1,e.error))throw e.value}))},Z=function(t){return 1!==t.rejection&&!t.parent},K=function(t){l(w,c,(function(){var e=t.facade;u?B.emit("rejectionHandled",e):X("rejectionhandled",e,t.value)}))},J=function(t,e,n){return function(r){t(e,r,n)}},Q=function(t,e,n){t.done||(t.done=!0,n&&(t=n),t.value=e,t.state=2,Y(t,!0))},tt=function(t,e,n){if(!t.done){t.done=!0,n&&(t=n);try{if(t.facade===e)throw new $("Promise can't be resolved itself");var r=V(e);r?x((function(){var n={done:!1};try{l(r,e,J(tt,n,t),J(Q,n,t))}catch(e){Q(n,e,t)}})):(t.value=e,t.state=1,Y(t,!1))}catch(e){Q({done:!1},e,t)}}};if(j&&(N=(D=function(t){y(this,N),v(t),l(r,this);var e=R(this);try{t(J(tt,e),J(Q,e))}catch(t){Q(e,t)}}).prototype,(r=function(t){I(this,{type:C,done:!1,notified:!1,parent:!1,reactions:new S,rejection:!1,state:0,value:null})}).prototype=f(N,"then",(function(t,e){var n=R(this),r=U(b(this,D));return n.parent=!0,r.ok=!g(t)||t,r.fail=g(e)&&e,r.domain=u?B.domain:void 0,0===n.state?n.reactions.add(r):x((function(){G(r,n)})),r.promise})),i=function(){var t=new r,e=R(t);this.promise=t,this.resolve=J(tt,e),this.reject=J(Q,e)},T.f=U=function(t){return t===D||void 0===t?new i(t):z(t)},!s&&g(E)&&L!==Object.prototype)){o=L.then,A||f(L,"then",(function(t,e){var n=this;return new D((function(t,e){l(o,n,t,e)})).then(t,e)}),{unsafe:!0});try{delete L.constructor}catch(t){}h&&h(L,N)}a({global:!0,constructor:!0,wrap:!0,forced:j},{Promise:D}),d(D,C,!1,!0),p(C)},3362:function(t,e,n){"use strict";n(436),n(6499),n(2003),n(7743),n(1481),n(280)},7743:function(t,e,n){"use strict";var r=n(6518),i=n(9565),o=n(9306),a=n(6043),s=n(1103),u=n(2652);r({target:"Promise",stat:!0,forced:n(537)},{race:function(t){var e=this,n=a.f(e),r=n.reject,c=s((function(){var a=o(e.resolve);u(t,(function(t){i(a,e,t).then(n.resolve,r)}))}));return c.error&&r(c.value),n.promise}})},1481:function(t,e,n){"use strict";var r=n(6518),i=n(6043);r({target:"Promise",stat:!0,forced:n(916).CONSTRUCTOR},{reject:function(t){var e=i.f(this);return(0,e.reject)(t),e.promise}})},280:function(t,e,n){"use strict";var r=n(6518),i=n(7751),o=n(6395),a=n(550),s=n(916).CONSTRUCTOR,u=n(3438),c=i("Promise"),l=o&&!s;r({target:"Promise",stat:!0,forced:o||s},{resolve:function(t){return u(l&&this===c?a:this,t)}})},825:function(t,e,n){"use strict";var r=n(6518),i=n(7751),o=n(8745),a=n(566),s=n(5548),u=n(8551),c=n(34),l=n(2360),f=n(9039),h=i("Reflect","construct"),d=Object.prototype,p=[].push,v=f((function(){function t(){}return!(h((function(){}),[],t)instanceof t)})),g=!f((function(){h((function(){}))})),m=v||g;r({target:"Reflect",stat:!0,forced:m,sham:m},{construct:function(t,e){s(t),u(e);var n=arguments.length<3?t:s(arguments[2]);if(g&&!v)return h(t,e,n);if(t===n){switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3])}var r=[null];return o(p,r,e),new(o(a,t,r))}var i=n.prototype,f=l(c(i)?i:d),m=o(t,f,e);return c(m)?m:f}})},888:function(t,e,n){"use strict";var r=n(6518),i=n(9565),o=n(34),a=n(8551),s=n(6575),u=n(7347),c=n(2787);r({target:"Reflect",stat:!0},{get:function t(e,n){var r,l,f=arguments.length<3?e:arguments[2];return a(e)===f?e[n]:(r=u.f(e,n))?s(r)?r.value:void 0===r.get?void 0:i(r.get,f):o(l=c(e))?t(l,n,f):void 0}})},4864:function(t,e,n){"use strict";var r=n(3724),i=n(4576),o=n(9504),a=n(2796),s=n(3167),u=n(6699),c=n(2360),l=n(8480).f,f=n(1625),h=n(788),d=n(655),p=n(1034),v=n(8429),g=n(1056),m=n(6840),y=n(9039),b=n(9297),w=n(1181).enforce,x=n(7633),_=n(8227),k=n(3635),S=n(8814),P=_("match"),E=i.RegExp,O=E.prototype,T=i.SyntaxError,C=o(O.exec),j=o("".charAt),M=o("".replace),A=o("".indexOf),R=o("".slice),I=/^\?<[^\s\d!#%&*+<=>@^][^\s!#%&*+<=>@^]*>/,L=/a/g,D=/a/g,N=new E(L)!==L,$=v.MISSED_STICKY,F=v.UNSUPPORTED_Y;if(a("RegExp",r&&(!N||$||k||S||y((function(){return D[P]=!1,E(L)!==L||E(D)===D||"/a/i"!==String(E(L,"i"))}))))){for(var B=function(t,e){var n,r,i,o,a,l,v=f(O,this),g=h(t),m=void 0===e,y=[],x=t;if(!v&&g&&m&&t.constructor===B)return t;if((g||f(O,t))&&(t=t.source,m&&(e=p(x))),t=void 0===t?"":d(t),e=void 0===e?"":d(e),x=t,k&&"dotAll"in L&&(r=!!e&&A(e,"s")>-1)&&(e=M(e,/s/g,"")),n=e,$&&"sticky"in L&&(i=!!e&&A(e,"y")>-1)&&F&&(e=M(e,/y/g,"")),S&&(o=function(t){for(var e,n=t.length,r=0,i="",o=[],a=c(null),s=!1,u=!1,l=0,f="";r<=n;r++){if("\\"===(e=j(t,r)))e+=j(t,++r);else if("]"===e)s=!1;else if(!s)switch(!0){case"["===e:s=!0;break;case"("===e:if(i+=e,"?:"===R(t,r+1,r+3))continue;C(I,R(t,r+1))&&(r+=2,u=!0),l++;continue;case">"===e&&u:if(""===f||b(a,f))throw new T("Invalid capture group name");a[f]=!0,o[o.length]=[f,l],u=!1,f="";continue}u?f+=e:i+=e}return[i,o]}(t),t=o[0],y=o[1]),a=s(E(t,e),v?this:O,B),(r||i||y.length)&&(l=w(a),r&&(l.dotAll=!0,l.raw=B(function(t){for(var e,n=t.length,r=0,i="",o=!1;r<=n;r++)"\\"!==(e=j(t,r))?o||"."!==e?("["===e?o=!0:"]"===e&&(o=!1),i+=e):i+="[\\s\\S]":i+=e+j(t,++r);return i}(t),n)),i&&(l.sticky=!0),y.length&&(l.groups=y)),t!==x)try{u(a,"source",""===x?"(?:)":x)}catch(t){}return a},U=l(E),z=0;U.length>z;)g(B,E,U[z++]);O.constructor=B,B.prototype=O,m(i,"RegExp",B,{constructor:!0})}x("RegExp")},7495:function(t,e,n){"use strict";var r=n(6518),i=n(7323);r({target:"RegExp",proto:!0,forced:/./.exec!==i},{exec:i})},8781:function(t,e,n){"use strict";var r=n(350).PROPER,i=n(6840),o=n(8551),a=n(655),s=n(9039),u=n(1034),c="toString",l=RegExp.prototype,f=l[c],h=s((function(){return"/a/b"!==f.call({source:"a",flags:"b"})})),d=r&&f.name!==c;(h||d)&&i(l,c,(function(){var t=o(this);return"/"+a(t.source)+"/"+a(u(t))}),{unsafe:!0})},2405:function(t,e,n){"use strict";n(6468)("Set",(function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}}),n(6938))},1415:function(t,e,n){"use strict";n(2405)},9449:function(t,e,n){"use strict";var r,i=n(6518),o=n(7476),a=n(7347).f,s=n(8014),u=n(655),c=n(2892),l=n(7750),f=n(1436),h=n(6395),d=o("".slice),p=Math.min,v=f("endsWith");i({target:"String",proto:!0,forced:!(!h&&!v&&(r=a(String.prototype,"endsWith"),r&&!r.writable)||v)},{endsWith:function(t){var e=u(l(this));c(t);var n=arguments.length>1?arguments[1]:void 0,r=e.length,i=void 0===n?r:p(s(n),r),o=u(t);return d(e,i-o.length,i)===o}})},7337:function(t,e,n){"use strict";var r=n(6518),i=n(9504),o=n(5610),a=RangeError,s=String.fromCharCode,u=String.fromCodePoint,c=i([].join);r({target:"String",stat:!0,arity:1,forced:!!u&&1!==u.length},{fromCodePoint:function(t){for(var e,n=[],r=arguments.length,i=0;r>i;){if(e=+arguments[i++],o(e,1114111)!==e)throw new a(e+" is not a valid code point");n[i]=e<65536?s(e):s(55296+((e-=65536)>>10),e%1024+56320)}return c(n,"")}})},1699:function(t,e,n){"use strict";var r=n(6518),i=n(9504),o=n(2892),a=n(7750),s=n(655),u=n(1436),c=i("".indexOf);r({target:"String",proto:!0,forced:!u("includes")},{includes:function(t){return!!~c(s(a(this)),s(o(t)),arguments.length>1?arguments[1]:void 0)}})},7764:function(t,e,n){"use strict";var r=n(8183).charAt,i=n(655),o=n(1181),a=n(1088),s=n(2529),u="String Iterator",c=o.set,l=o.getterFor(u);a(String,"String",(function(t){c(this,{type:u,string:i(t),index:0})}),(function(){var t,e=l(this),n=e.string,i=e.index;return i>=n.length?s(void 0,!0):(t=r(n,i),e.index+=t.length,s(t,!1))}))},1761:function(t,e,n){"use strict";var r=n(9565),i=n(9228),o=n(8551),a=n(4117),s=n(8014),u=n(655),c=n(7750),l=n(5966),f=n(7829),h=n(6682);i("match",(function(t,e,n){return[function(e){var n=c(this),i=a(e)?void 0:l(e,t);return i?r(i,e,n):new RegExp(e)[t](u(n))},function(t){var r=o(this),i=u(t),a=n(e,r,i);if(a.done)return a.value;if(!r.global)return h(r,i);var c=r.unicode;r.lastIndex=0;for(var l,d=[],p=0;null!==(l=h(r,i));){var v=u(l[0]);d[p]=v,""===v&&(r.lastIndex=f(i,s(r.lastIndex),c)),p++}return 0===p?null:d}]}))},5440:function(t,e,n){"use strict";var r=n(8745),i=n(9565),o=n(9504),a=n(9228),s=n(9039),u=n(8551),c=n(4901),l=n(4117),f=n(1291),h=n(8014),d=n(655),p=n(7750),v=n(7829),g=n(5966),m=n(2478),y=n(6682),b=n(8227)("replace"),w=Math.max,x=Math.min,_=o([].concat),k=o([].push),S=o("".indexOf),P=o("".slice),E="$0"==="a".replace(/./,"$0"),O=!!/./[b]&&""===/./[b]("a","$0");a("replace",(function(t,e,n){var o=O?"$":"$0";return[function(t,n){var r=p(this),o=l(t)?void 0:g(t,b);return o?i(o,t,r,n):i(e,d(r),t,n)},function(t,i){var a=u(this),s=d(t);if("string"==typeof i&&-1===S(i,o)&&-1===S(i,"$<")){var l=n(e,a,s,i);if(l.done)return l.value}var p=c(i);p||(i=d(i));var g,b=a.global;b&&(g=a.unicode,a.lastIndex=0);for(var E,O=[];null!==(E=y(a,s))&&(k(O,E),b);)""===d(E[0])&&(a.lastIndex=v(s,h(a.lastIndex),g));for(var T,C="",j=0,M=0;M<O.length;M++){for(var A,R=d((E=O[M])[0]),I=w(x(f(E.index),s.length),0),L=[],D=1;D<E.length;D++)k(L,void 0===(T=E[D])?T:String(T));var N=E.groups;if(p){var $=_([R],L,I,s);void 0!==N&&k($,N),A=d(r(i,void 0,$))}else A=m(R,s,I,L,N,i);I>=j&&(C+=P(s,j,I)+A,j=I+R.length)}return C+P(s,j)}]}),!!s((function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:"7"},t},"7"!=="".replace(t,"$<a>")}))||!E||O)},5746:function(t,e,n){"use strict";var r=n(9565),i=n(9228),o=n(8551),a=n(4117),s=n(7750),u=n(3470),c=n(655),l=n(5966),f=n(6682);i("search",(function(t,e,n){return[function(e){var n=s(this),i=a(e)?void 0:l(e,t);return i?r(i,e,n):new RegExp(e)[t](c(n))},function(t){var r=o(this),i=c(t),a=n(e,r,i);if(a.done)return a.value;var s=r.lastIndex;u(s,0)||(r.lastIndex=0);var l=f(r,i);return u(r.lastIndex,s)||(r.lastIndex=s),null===l?-1:l.index}]}))},744:function(t,e,n){"use strict";var r=n(9565),i=n(9504),o=n(9228),a=n(8551),s=n(4117),u=n(7750),c=n(2293),l=n(7829),f=n(8014),h=n(655),d=n(5966),p=n(6682),v=n(8429),g=n(9039),m=v.UNSUPPORTED_Y,y=Math.min,b=i([].push),w=i("".slice),x=!g((function(){var t=/(?:)/,e=t.exec;t.exec=function(){return e.apply(this,arguments)};var n="ab".split(t);return 2!==n.length||"a"!==n[0]||"b"!==n[1]})),_="c"==="abbc".split(/(b)*/)[1]||4!=="test".split(/(?:)/,-1).length||2!=="ab".split(/(?:ab)*/).length||4!==".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length;o("split",(function(t,e,n){var i="0".split(void 0,0).length?function(t,n){return void 0===t&&0===n?[]:r(e,this,t,n)}:e;return[function(e,n){var o=u(this),a=s(e)?void 0:d(e,t);return a?r(a,e,o,n):r(i,h(o),e,n)},function(t,r){var o=a(this),s=h(t);if(!_){var u=n(i,o,s,r,i!==e);if(u.done)return u.value}var d=c(o,RegExp),v=o.unicode,g=(o.ignoreCase?"i":"")+(o.multiline?"m":"")+(o.unicode?"u":"")+(m?"g":"y"),x=new d(m?"^(?:"+o.source+")":o,g),k=void 0===r?4294967295:r>>>0;if(0===k)return[];if(0===s.length)return null===p(x,s)?[s]:[];for(var S=0,P=0,E=[];P<s.length;){x.lastIndex=m?0:P;var O,T=p(x,m?w(s,P):s);if(null===T||(O=y(f(x.lastIndex+(m?P:0)),s.length))===S)P=l(s,P,v);else{if(b(E,w(s,S,P)),E.length===k)return E;for(var C=1;C<=T.length-1;C++)if(b(E,T[C]),E.length===k)return E;P=S=O}}return b(E,w(s,S)),E}]}),_||!x,m)},1392:function(t,e,n){"use strict";var r,i=n(6518),o=n(7476),a=n(7347).f,s=n(8014),u=n(655),c=n(2892),l=n(7750),f=n(1436),h=n(6395),d=o("".slice),p=Math.min,v=f("startsWith");i({target:"String",proto:!0,forced:!(!h&&!v&&(r=a(String.prototype,"startsWith"),r&&!r.writable)||v)},{startsWith:function(t){var e=u(l(this));c(t);var n=s(p(arguments.length>1?arguments[1]:void 0,e.length)),r=u(t);return d(e,n,n+r.length)===r}})},6412:function(t,e,n){"use strict";n(511)("asyncIterator")},6761:function(t,e,n){"use strict";var r=n(6518),i=n(4576),o=n(9565),a=n(9504),s=n(6395),u=n(3724),c=n(4495),l=n(9039),f=n(9297),h=n(1625),d=n(8551),p=n(5397),v=n(6969),g=n(655),m=n(6980),y=n(2360),b=n(1072),w=n(8480),x=n(298),_=n(3717),k=n(7347),S=n(4913),P=n(6801),E=n(8773),O=n(6840),T=n(2106),C=n(5745),j=n(6119),M=n(421),A=n(3392),R=n(8227),I=n(1951),L=n(511),D=n(8242),N=n(687),$=n(1181),F=n(9213).forEach,B=j("hidden"),U="Symbol",z="prototype",W=$.set,H=$.getterFor(U),V=Object[z],G=i.Symbol,Y=G&&G[z],X=i.RangeError,q=i.TypeError,Z=i.QObject,K=k.f,J=S.f,Q=x.f,tt=E.f,et=a([].push),nt=C("symbols"),rt=C("op-symbols"),it=C("wks"),ot=!Z||!Z[z]||!Z[z].findChild,at=function(t,e,n){var r=K(V,e);r&&delete V[e],J(t,e,n),r&&t!==V&&J(V,e,r)},st=u&&l((function(){return 7!==y(J({},"a",{get:function(){return J(this,"a",{value:7}).a}})).a}))?at:J,ut=function(t,e){var n=nt[t]=y(Y);return W(n,{type:U,tag:t,description:e}),u||(n.description=e),n},ct=function(t,e,n){t===V&&ct(rt,e,n),d(t);var r=v(e);return d(n),f(nt,r)?(n.enumerable?(f(t,B)&&t[B][r]&&(t[B][r]=!1),n=y(n,{enumerable:m(0,!1)})):(f(t,B)||J(t,B,m(1,y(null))),t[B][r]=!0),st(t,r,n)):J(t,r,n)},lt=function(t,e){d(t);var n=p(e),r=b(n).concat(pt(n));return F(r,(function(e){u&&!o(ft,n,e)||ct(t,e,n[e])})),t},ft=function(t){var e=v(t),n=o(tt,this,e);return!(this===V&&f(nt,e)&&!f(rt,e))&&(!(n||!f(this,e)||!f(nt,e)||f(this,B)&&this[B][e])||n)},ht=function(t,e){var n=p(t),r=v(e);if(n!==V||!f(nt,r)||f(rt,r)){var i=K(n,r);return!i||!f(nt,r)||f(n,B)&&n[B][r]||(i.enumerable=!0),i}},dt=function(t){var e=Q(p(t)),n=[];return F(e,(function(t){f(nt,t)||f(M,t)||et(n,t)})),n},pt=function(t){var e=t===V,n=Q(e?rt:p(t)),r=[];return F(n,(function(t){!f(nt,t)||e&&!f(V,t)||et(r,nt[t])})),r};c||(G=function(){if(h(Y,this))throw new q("Symbol is not a constructor");var t=arguments.length&&void 0!==arguments[0]?g(arguments[0]):void 0,e=A(t),n=function(t){var r=void 0===this?i:this;r===V&&o(n,rt,t),f(r,B)&&f(r[B],e)&&(r[B][e]=!1);var a=m(1,t);try{st(r,e,a)}catch(t){if(!(t instanceof X))throw t;at(r,e,a)}};return u&&ot&&st(V,e,{configurable:!0,set:n}),ut(e,t)},O(Y=G[z],"toString",(function(){return H(this).tag})),O(G,"withoutSetter",(function(t){return ut(A(t),t)})),E.f=ft,S.f=ct,P.f=lt,k.f=ht,w.f=x.f=dt,_.f=pt,I.f=function(t){return ut(R(t),t)},u&&(T(Y,"description",{configurable:!0,get:function(){return H(this).description}}),s||O(V,"propertyIsEnumerable",ft,{unsafe:!0}))),r({global:!0,constructor:!0,wrap:!0,forced:!c,sham:!c},{Symbol:G}),F(b(it),(function(t){L(t)})),r({target:U,stat:!0,forced:!c},{useSetter:function(){ot=!0},useSimple:function(){ot=!1}}),r({target:"Object",stat:!0,forced:!c,sham:!u},{create:function(t,e){return void 0===e?y(t):lt(y(t),e)},defineProperty:ct,defineProperties:lt,getOwnPropertyDescriptor:ht}),r({target:"Object",stat:!0,forced:!c},{getOwnPropertyNames:dt}),D(),N(G,U),M[B]=!0},9463:function(t,e,n){"use strict";var r=n(6518),i=n(3724),o=n(4576),a=n(9504),s=n(9297),u=n(4901),c=n(1625),l=n(655),f=n(2106),h=n(7740),d=o.Symbol,p=d&&d.prototype;if(i&&u(d)&&(!("description"in p)||void 0!==d().description)){var v={},g=function(){var t=arguments.length<1||void 0===arguments[0]?void 0:l(arguments[0]),e=c(p,this)?new d(t):void 0===t?d():d(t);return""===t&&(v[e]=!0),e};h(g,d),g.prototype=p,p.constructor=g;var m="Symbol(description detection)"===String(d("description detection")),y=a(p.valueOf),b=a(p.toString),w=/^Symbol\((.*)\)[^)]+$/,x=a("".replace),_=a("".slice);f(p,"description",{configurable:!0,get:function(){var t=y(this);if(s(v,t))return"";var e=b(t),n=m?_(e,7,-1):x(e,w,"$1");return""===n?void 0:n}}),r({global:!0,constructor:!0,forced:!0},{Symbol:g})}},1510:function(t,e,n){"use strict";var r=n(6518),i=n(7751),o=n(9297),a=n(655),s=n(5745),u=n(1296),c=s("string-to-symbol-registry"),l=s("symbol-to-string-registry");r({target:"Symbol",stat:!0,forced:!u},{for:function(t){var e=a(t);if(o(c,e))return c[e];var n=i("Symbol")(e);return c[e]=n,l[n]=e,n}})},2259:function(t,e,n){"use strict";n(511)("iterator")},2675:function(t,e,n){"use strict";n(6761),n(1510),n(7812),n(3110),n(9773)},7812:function(t,e,n){"use strict";var r=n(6518),i=n(9297),o=n(757),a=n(6823),s=n(5745),u=n(1296),c=s("symbol-to-string-registry");r({target:"Symbol",stat:!0,forced:!u},{keyFor:function(t){if(!o(t))throw new TypeError(a(t)+" is not a symbol");if(i(c,t))return c[t]}})},5700:function(t,e,n){"use strict";var r=n(511),i=n(8242);r("toPrimitive"),i()},8125:function(t,e,n){"use strict";var r=n(7751),i=n(511),o=n(687);i("toStringTag"),o(r("Symbol"),"Symbol")},3365:function(t,e,n){"use strict";var r,i=n(2744),o=n(4576),a=n(9504),s=n(6279),u=n(3451),c=n(6468),l=n(4006),f=n(34),h=n(1181).enforce,d=n(9039),p=n(8622),v=Object,g=Array.isArray,m=v.isExtensible,y=v.isFrozen,b=v.isSealed,w=v.freeze,x=v.seal,_=!o.ActiveXObject&&"ActiveXObject"in o,k=function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}},S=c("WeakMap",k,l),P=S.prototype,E=a(P.set);if(p)if(_){r=l.getConstructor(k,"WeakMap",!0),u.enable();var O=a(P.delete),T=a(P.has),C=a(P.get);s(P,{delete:function(t){if(f(t)&&!m(t)){var e=h(this);return e.frozen||(e.frozen=new r),O(this,t)||e.frozen.delete(t)}return O(this,t)},has:function(t){if(f(t)&&!m(t)){var e=h(this);return e.frozen||(e.frozen=new r),T(this,t)||e.frozen.has(t)}return T(this,t)},get:function(t){if(f(t)&&!m(t)){var e=h(this);return e.frozen||(e.frozen=new r),T(this,t)?C(this,t):e.frozen.get(t)}return C(this,t)},set:function(t,e){if(f(t)&&!m(t)){var n=h(this);n.frozen||(n.frozen=new r),T(this,t)?E(this,t,e):n.frozen.set(t,e)}else E(this,t,e);return this}})}else i&&d((function(){var t=w([]);return E(new S,t,1),!y(t)}))&&s(P,{set:function(t,e){var n;return g(t)&&(y(t)?n=w:b(t)&&(n=x)),E(this,t,e),n&&n(t),this}})},3772:function(t,e,n){"use strict";n(3365)},2480:function(t,e,n){"use strict";n(5081)},3500:function(t,e,n){"use strict";var r=n(4576),i=n(7400),o=n(9296),a=n(235),s=n(6699),u=function(t){if(t&&t.forEach!==a)try{s(t,"forEach",a)}catch(e){t.forEach=a}};for(var c in i)i[c]&&u(r[c]&&r[c].prototype);u(o)},2953:function(t,e,n){"use strict";var r=n(4576),i=n(7400),o=n(9296),a=n(3792),s=n(6699),u=n(687),c=n(8227)("iterator"),l=a.values,f=function(t,e){if(t){if(t[c]!==l)try{s(t,c,l)}catch(e){t[c]=l}if(u(t,e,!0),i[e])for(var n in a)if(t[n]!==a[n])try{s(t,n,a[n])}catch(e){t[n]=a[n]}}};for(var h in i)f(r[h]&&r[h].prototype,h);f(o,"DOMTokenList")},8406:function(t,e,n){"use strict";n(3792),n(7337);var r=n(6518),i=n(4576),o=n(3389),a=n(7751),s=n(9565),u=n(9504),c=n(3724),l=n(7416),f=n(6840),h=n(2106),d=n(6279),p=n(687),v=n(3994),g=n(1181),m=n(679),y=n(4901),b=n(9297),w=n(6080),x=n(6955),_=n(8551),k=n(34),S=n(655),P=n(2360),E=n(6980),O=n(81),T=n(851),C=n(2529),j=n(2812),M=n(8227),A=n(4488),R=M("iterator"),I="URLSearchParams",L=I+"Iterator",D=g.set,N=g.getterFor(I),$=g.getterFor(L),F=o("fetch"),B=o("Request"),U=o("Headers"),z=B&&B.prototype,W=U&&U.prototype,H=i.TypeError,V=i.encodeURIComponent,G=String.fromCharCode,Y=a("String","fromCodePoint"),X=parseInt,q=u("".charAt),Z=u([].join),K=u([].push),J=u("".replace),Q=u([].shift),tt=u([].splice),et=u("".split),nt=u("".slice),rt=u(/./.exec),it=/\+/g,ot=/^[0-9a-f]+$/i,at=function(t,e){var n=nt(t,e,e+2);return rt(ot,n)?X(n,16):NaN},st=function(t){for(var e=0,n=128;n>0&&t&n;n>>=1)e++;return e},ut=function(t){var e=null;switch(t.length){case 1:e=t[0];break;case 2:e=(31&t[0])<<6|63&t[1];break;case 3:e=(15&t[0])<<12|(63&t[1])<<6|63&t[2];break;case 4:e=(7&t[0])<<18|(63&t[1])<<12|(63&t[2])<<6|63&t[3]}return e>1114111?null:e},ct=function(t){for(var e=(t=J(t,it," ")).length,n="",r=0;r<e;){var i=q(t,r);if("%"===i){if("%"===q(t,r+1)||r+3>e){n+="%",r++;continue}var o=at(t,r+1);if(o!=o){n+=i,r++;continue}r+=2;var a=st(o);if(0===a)i=G(o);else{if(1===a||a>4){n+="",r++;continue}for(var s=[o],u=1;u<a&&!(3+ ++r>e||"%"!==q(t,r));){var c=at(t,r+1);if(c!=c){r+=3;break}if(c>191||c<128)break;K(s,c),r+=2,u++}if(s.length!==a){n+="";continue}var l=ut(s);null===l?n+="":i=Y(l)}}n+=i,r++}return n},lt=/[!'()~]|%20/g,ft={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"},ht=function(t){return ft[t]},dt=function(t){return J(V(t),lt,ht)},pt=v((function(t,e){D(this,{type:L,target:N(t).entries,index:0,kind:e})}),I,(function(){var t=$(this),e=t.target,n=t.index++;if(!e||n>=e.length)return t.target=null,C(void 0,!0);var r=e[n];switch(t.kind){case"keys":return C(r.key,!1);case"values":return C(r.value,!1)}return C([r.key,r.value],!1)}),!0),vt=function(t){this.entries=[],this.url=null,void 0!==t&&(k(t)?this.parseObject(t):this.parseQuery("string"==typeof t?"?"===q(t,0)?nt(t,1):t:S(t)))};vt.prototype={type:I,bindURL:function(t){this.url=t,this.update()},parseObject:function(t){var e,n,r,i,o,a,u,c=this.entries,l=T(t);if(l)for(n=(e=O(t,l)).next;!(r=s(n,e)).done;){if(o=(i=O(_(r.value))).next,(a=s(o,i)).done||(u=s(o,i)).done||!s(o,i).done)throw new H("Expected sequence with length 2");K(c,{key:S(a.value),value:S(u.value)})}else for(var f in t)b(t,f)&&K(c,{key:f,value:S(t[f])})},parseQuery:function(t){if(t)for(var e,n,r=this.entries,i=et(t,"&"),o=0;o<i.length;)(e=i[o++]).length&&(n=et(e,"="),K(r,{key:ct(Q(n)),value:ct(Z(n,"="))}))},serialize:function(){for(var t,e=this.entries,n=[],r=0;r<e.length;)t=e[r++],K(n,dt(t.key)+"="+dt(t.value));return Z(n,"&")},update:function(){this.entries.length=0,this.parseQuery(this.url.query)},updateURL:function(){this.url&&this.url.update()}};var gt=function(){m(this,mt);var t=D(this,new vt(arguments.length>0?arguments[0]:void 0));c||(this.size=t.entries.length)},mt=gt.prototype;if(d(mt,{append:function(t,e){var n=N(this);j(arguments.length,2),K(n.entries,{key:S(t),value:S(e)}),c||this.length++,n.updateURL()},delete:function(t){for(var e=N(this),n=j(arguments.length,1),r=e.entries,i=S(t),o=n<2?void 0:arguments[1],a=void 0===o?o:S(o),s=0;s<r.length;){var u=r[s];if(u.key!==i||void 0!==a&&u.value!==a)s++;else if(tt(r,s,1),void 0!==a)break}c||(this.size=r.length),e.updateURL()},get:function(t){var e=N(this).entries;j(arguments.length,1);for(var n=S(t),r=0;r<e.length;r++)if(e[r].key===n)return e[r].value;return null},getAll:function(t){var e=N(this).entries;j(arguments.length,1);for(var n=S(t),r=[],i=0;i<e.length;i++)e[i].key===n&&K(r,e[i].value);return r},has:function(t){for(var e=N(this).entries,n=j(arguments.length,1),r=S(t),i=n<2?void 0:arguments[1],o=void 0===i?i:S(i),a=0;a<e.length;){var s=e[a++];if(s.key===r&&(void 0===o||s.value===o))return!0}return!1},set:function(t,e){var n=N(this);j(arguments.length,1);for(var r,i=n.entries,o=!1,a=S(t),s=S(e),u=0;u<i.length;u++)(r=i[u]).key===a&&(o?tt(i,u--,1):(o=!0,r.value=s));o||K(i,{key:a,value:s}),c||(this.size=i.length),n.updateURL()},sort:function(){var t=N(this);A(t.entries,(function(t,e){return t.key>e.key?1:-1})),t.updateURL()},forEach:function(t){for(var e,n=N(this).entries,r=w(t,arguments.length>1?arguments[1]:void 0),i=0;i<n.length;)r((e=n[i++]).value,e.key,this)},keys:function(){return new pt(this,"keys")},values:function(){return new pt(this,"values")},entries:function(){return new pt(this,"entries")}},{enumerable:!0}),f(mt,R,mt.entries,{name:"entries"}),f(mt,"toString",(function(){return N(this).serialize()}),{enumerable:!0}),c&&h(mt,"size",{get:function(){return N(this).entries.length},configurable:!0,enumerable:!0}),p(gt,I),r({global:!0,constructor:!0,forced:!l},{URLSearchParams:gt}),!l&&y(U)){var yt=u(W.has),bt=u(W.set),wt=function(t){if(k(t)){var e,n=t.body;if(x(n)===I)return e=t.headers?new U(t.headers):new U,yt(e,"content-type")||bt(e,"content-type","application/x-www-form-urlencoded;charset=UTF-8"),P(t,{body:E(0,S(n)),headers:E(0,e)})}return t};if(y(F)&&r({global:!0,enumerable:!0,dontCallGetSet:!0,forced:!0},{fetch:function(t){return F(t,arguments.length>1?wt(arguments[1]):{})}}),y(B)){var xt=function(t){return m(this,z),new B(t,arguments.length>1?wt(arguments[1]):{})};z.constructor=xt,xt.prototype=z,r({global:!0,constructor:!0,dontCallGetSet:!0,forced:!0},{Request:xt})}}t.exports={URLSearchParams:gt,getState:N}},8408:function(t,e,n){"use strict";n(8406)},1091:function(t,e,n){"use strict";function r(t){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}function i(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function o(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,a(r.key),r)}}function a(t){var e=function(t,e){if("object"!=r(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,"string");if("object"!=r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==r(e)?e:e+""}n.d(e,{OA:function(){return s},WL:function(){return c},u$:function(){return u}}),n(2675),n(9463),n(2259),n(5700),n(3418),n(3792),n(4782),n(9572),n(2010),n(8130),n(6099),n(7495),n(8781),n(7764),n(2953);var s={ATTRIBUTE:1,CHILD:2,PROPERTY:3,BOOLEAN_ATTRIBUTE:4,EVENT:5,ELEMENT:6},u=function(t){return function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return{_$litDirective$:t,values:n}}},c=function(){return function(t,e,n){return e&&o(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}((function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}),[{key:"_$AU",get:function(){return this._$AM._$AU}},{key:"_$AT",value:function(t,e,n){this._$Ct=t,this._$AM=e,this._$Ci=n}},{key:"_$AS",value:function(t,e){return this.update(t,e)}},{key:"update",value:function(t,e){return this.render.apply(this,function(t){if(Array.isArray(t))return i(t)}(n=e)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(n)||function(t,e){if(t){if("string"==typeof t)return i(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?i(t,e):void 0}}(n)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}());var n}}])}()},6681:function(t,e,n){"use strict";var r;function i(t,e,n){return e=a(e),function(t,e){if(e&&("object"==g(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,o()?Reflect.construct(e,n||[],a(t).constructor):e.apply(t,n))}function o(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(o=function(){return!!t})()}function a(t){return a=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},a(t)}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&u(t,e)}function u(t,e){return u=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},u(t,e)}function c(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=l(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function l(t,e){if(t){if("string"==typeof t)return f(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?f(t,e):void 0}}function f(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function h(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function d(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,v(r.key),r)}}function p(t,e,n){return e&&d(t.prototype,e),n&&d(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function v(t){var e=function(t,e){if("object"!=g(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!=g(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==g(e)?e:e+""}function g(t){return g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},g(t)}n.d(e,{JW:function(){return F},XX:function(){return it},c0:function(){return B},ge:function(){return nt},qy:function(){return $},s6:function(){return U}}),n(2675),n(9463),n(2259),n(5700),n(8706),n(3771),n(3418),n(3792),n(4782),n(9572),n(2010),n(8130),n(875),n(6099),n(825),n(4864),n(7495),n(8781),n(9449),n(7764),n(744),n(1392),n(3772),n(2953);var m=window,y=m.trustedTypes,b=y?y.createPolicy("lit-html",{createHTML:function(t){return t}}):void 0,w="$lit$",x="lit$".concat((Math.random()+"").slice(9),"$"),_="?"+x,k="<".concat(_,">"),S=document,P=function(){return S.createComment("")},E=function(t){return null===t||"object"!=g(t)&&"function"!=typeof t},O=Array.isArray,T=function(t){return O(t)||"function"==typeof(null==t?void 0:t[Symbol.iterator])},C="[ \t\n\f\r]",j=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g,M=/-->/g,A=/>/g,R=RegExp(">|".concat(C,"(?:([^\\s\"'>=/]+)(").concat(C,"*=").concat(C,"*(?:[^ \t\n\f\r\"'`<>=]|(\"|')|))|$)"),"g"),I=/'/g,L=/"/g,D=/^(?:script|style|textarea|title)$/i,N=function(t){return function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return{_$litType$:t,strings:e,values:r}}},$=N(1),F=N(2),B=Symbol.for("lit-noChange"),U=Symbol.for("lit-nothing"),z=new WeakMap,W=S.createTreeWalker(S,129,null,!1);function H(t,e){if(!Array.isArray(t)||!t.hasOwnProperty("raw"))throw Error("invalid template strings array");return void 0!==b?b.createHTML(e):e}var V=function(t,e){for(var n,r=t.length-1,i=[],o=2===e?"<svg>":"",a=j,s=0;s<r;s++){for(var u=t[s],c=void 0,l=void 0,f=-1,h=0;h<u.length&&(a.lastIndex=h,null!==(l=a.exec(u)));)h=a.lastIndex,a===j?"!--"===l[1]?a=M:void 0!==l[1]?a=A:void 0!==l[2]?(D.test(l[2])&&(n=RegExp("</"+l[2],"g")),a=R):void 0!==l[3]&&(a=R):a===R?">"===l[0]?(a=null!=n?n:j,f=-1):void 0===l[1]?f=-2:(f=a.lastIndex-l[2].length,c=l[1],a=void 0===l[3]?R:'"'===l[3]?L:I):a===L||a===I?a=R:a===M||a===A?a=j:(a=R,n=void 0);var d=a===R&&t[s+1].startsWith("/>")?" ":"";o+=a===j?u+k:f>=0?(i.push(c),u.slice(0,f)+w+u.slice(f)+x+d):u+x+(-2===f?(i.push(void 0),s):d)}return[H(t,o+(t[r]||"<?>")+(2===e?"</svg>":"")),i]},G=function(){return p((function t(e,n){var r,i=e.strings,o=e._$litType$;h(this,t),this.parts=[];var a=0,s=0,u=i.length-1,d=this.parts,p=function(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o,a,s=[],u=!0,c=!1;try{if(o=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);u=!0);}catch(t){c=!0,i=t}finally{try{if(!u&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}(t,e)||l(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(V(i,o),2),v=p[0],g=p[1];if(this.el=t.createElement(v,n),W.currentNode=this.el.content,2===o){var m=this.el.content,b=m.firstChild;b.remove(),m.append.apply(m,function(t){return function(t){if(Array.isArray(t))return f(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||l(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(b.childNodes))}for(;null!==(r=W.nextNode())&&d.length<u;){if(1===r.nodeType){if(r.hasAttributes()){var k,S=[],E=c(r.getAttributeNames());try{for(E.s();!(k=E.n()).done;){var O=k.value;if(O.endsWith(w)||O.startsWith(x)){var T=g[s++];if(S.push(O),void 0!==T){var C=r.getAttribute(T.toLowerCase()+w).split(x),j=/([.?@])?(.*)/.exec(T);d.push({type:1,index:a,name:j[2],strings:C,ctor:"."===j[1]?K:"?"===j[1]?Q:"@"===j[1]?tt:Z})}else d.push({type:6,index:a})}}}catch(t){E.e(t)}finally{E.f()}for(var M=0,A=S;M<A.length;M++){var R=A[M];r.removeAttribute(R)}}if(D.test(r.tagName)){var I=r.textContent.split(x),L=I.length-1;if(L>0){r.textContent=y?y.emptyScript:"";for(var N=0;N<L;N++)r.append(I[N],P()),W.nextNode(),d.push({type:2,index:++a});r.append(I[L],P())}}}else if(8===r.nodeType)if(r.data===_)d.push({type:2,index:a});else for(var $=-1;-1!==($=r.data.indexOf(x,$+1));)d.push({type:7,index:a}),$+=x.length-1;a++}}),null,[{key:"createElement",value:function(t,e){var n=S.createElement("template");return n.innerHTML=t,n}}])}();function Y(t,e){var n,r,i,o,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t,s=arguments.length>3?arguments[3]:void 0;if(e===B)return e;var u=void 0!==s?null===(n=a._$Co)||void 0===n?void 0:n[s]:a._$Cl,c=E(e)?void 0:e._$litDirective$;return(null==u?void 0:u.constructor)!==c&&(null===(r=null==u?void 0:u._$AO)||void 0===r||r.call(u,!1),void 0===c?u=void 0:(u=new c(t))._$AT(t,a,s),void 0!==s?(null!==(i=(o=a)._$Co)&&void 0!==i?i:o._$Co=[])[s]=u:a._$Cl=u),void 0!==u&&(e=Y(t,u._$AS(t,e.values),u,s)),e}var X=function(){return p((function t(e,n){h(this,t),this._$AV=[],this._$AN=void 0,this._$AD=e,this._$AM=n}),[{key:"parentNode",get:function(){return this._$AM.parentNode}},{key:"_$AU",get:function(){return this._$AM._$AU}},{key:"u",value:function(t){var e,n=this._$AD,r=n.el.content,i=n.parts,o=(null!==(e=null==t?void 0:t.creationScope)&&void 0!==e?e:S).importNode(r,!0);W.currentNode=o;for(var a=W.nextNode(),s=0,u=0,c=i[0];void 0!==c;){if(s===c.index){var l=void 0;2===c.type?l=new q(a,a.nextSibling,this,t):1===c.type?l=new c.ctor(a,c.name,c.strings,this,t):6===c.type&&(l=new et(a,this,t)),this._$AV.push(l),c=i[++u]}s!==(null==c?void 0:c.index)&&(a=W.nextNode(),s++)}return W.currentNode=S,o}},{key:"v",value:function(t){var e,n=0,r=c(this._$AV);try{for(r.s();!(e=r.n()).done;){var i=e.value;void 0!==i&&(void 0!==i.strings?(i._$AI(t,i,n),n+=i.strings.length-2):i._$AI(t[n])),n++}}catch(t){r.e(t)}finally{r.f()}}}])}(),q=function(){function t(e,n,r,i){var o;h(this,t),this.type=2,this._$AH=U,this._$AN=void 0,this._$AA=e,this._$AB=n,this._$AM=r,this.options=i,this._$Cp=null===(o=null==i?void 0:i.isConnected)||void 0===o||o}return p(t,[{key:"_$AU",get:function(){var t,e;return null!==(e=null===(t=this._$AM)||void 0===t?void 0:t._$AU)&&void 0!==e?e:this._$Cp}},{key:"parentNode",get:function(){var t=this._$AA.parentNode,e=this._$AM;return void 0!==e&&11===(null==t?void 0:t.nodeType)&&(t=e.parentNode),t}},{key:"startNode",get:function(){return this._$AA}},{key:"endNode",get:function(){return this._$AB}},{key:"_$AI",value:function(t){t=Y(this,t,arguments.length>1&&void 0!==arguments[1]?arguments[1]:this),E(t)?t===U||null==t||""===t?(this._$AH!==U&&this._$AR(),this._$AH=U):t!==this._$AH&&t!==B&&this._(t):void 0!==t._$litType$?this.g(t):void 0!==t.nodeType?this.$(t):T(t)?this.T(t):this._(t)}},{key:"k",value:function(t){return this._$AA.parentNode.insertBefore(t,this._$AB)}},{key:"$",value:function(t){this._$AH!==t&&(this._$AR(),this._$AH=this.k(t))}},{key:"_",value:function(t){this._$AH!==U&&E(this._$AH)?this._$AA.nextSibling.data=t:this.$(S.createTextNode(t)),this._$AH=t}},{key:"g",value:function(t){var e,n=t.values,r=t._$litType$,i="number"==typeof r?this._$AC(t):(void 0===r.el&&(r.el=G.createElement(H(r.h,r.h[0]),this.options)),r);if((null===(e=this._$AH)||void 0===e?void 0:e._$AD)===i)this._$AH.v(n);else{var o=new X(i,this),a=o.u(this.options);o.v(n),this.$(a),this._$AH=o}}},{key:"_$AC",value:function(t){var e=z.get(t.strings);return void 0===e&&z.set(t.strings,e=new G(t)),e}},{key:"T",value:function(e){O(this._$AH)||(this._$AH=[],this._$AR());var n,r,i=this._$AH,o=0,a=c(e);try{for(a.s();!(r=a.n()).done;){var s=r.value;o===i.length?i.push(n=new t(this.k(P()),this.k(P()),this,this.options)):n=i[o],n._$AI(s),o++}}catch(t){a.e(t)}finally{a.f()}o<i.length&&(this._$AR(n&&n._$AB.nextSibling,o),i.length=o)}},{key:"_$AR",value:function(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this._$AA.nextSibling,n=arguments.length>1?arguments[1]:void 0;for(null===(t=this._$AP)||void 0===t||t.call(this,!1,!0,n);e&&e!==this._$AB;){var r=e.nextSibling;e.remove(),e=r}}},{key:"setConnected",value:function(t){var e;void 0===this._$AM&&(this._$Cp=t,null===(e=this._$AP)||void 0===e||e.call(this,t))}}])}(),Z=function(){return p((function t(e,n,r,i,o){h(this,t),this.type=1,this._$AH=U,this._$AN=void 0,this.element=e,this.name=n,this._$AM=i,this.options=o,r.length>2||""!==r[0]||""!==r[1]?(this._$AH=Array(r.length-1).fill(new String),this.strings=r):this._$AH=U}),[{key:"tagName",get:function(){return this.element.tagName}},{key:"_$AU",get:function(){return this._$AM._$AU}},{key:"_$AI",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this,n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0,i=this.strings,o=!1;if(void 0===i)t=Y(this,t,e,0),(o=!E(t)||t!==this._$AH&&t!==B)&&(this._$AH=t);else{var a,s,u=t;for(t=i[0],a=0;a<i.length-1;a++)(s=Y(this,u[n+a],e,a))===B&&(s=this._$AH[a]),o||(o=!E(s)||s!==this._$AH[a]),s===U?t=U:t!==U&&(t+=(null!=s?s:"")+i[a+1]),this._$AH[a]=s}o&&!r&&this.j(t)}},{key:"j",value:function(t){t===U?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,null!=t?t:"")}}])}(),K=function(t){function e(){var t;return h(this,e),(t=i(this,e,arguments)).type=3,t}return s(e,t),p(e,[{key:"j",value:function(t){this.element[this.name]=t===U?void 0:t}}])}(Z),J=y?y.emptyScript:"",Q=function(t){function e(){var t;return h(this,e),(t=i(this,e,arguments)).type=4,t}return s(e,t),p(e,[{key:"j",value:function(t){t&&t!==U?this.element.setAttribute(this.name,J):this.element.removeAttribute(this.name)}}])}(Z),tt=function(t){function e(t,n,r,o,a){var s;return h(this,e),(s=i(this,e,[t,n,r,o,a])).type=5,s}return s(e,t),p(e,[{key:"_$AI",value:function(t){var e;if((t=null!==(e=Y(this,t,arguments.length>1&&void 0!==arguments[1]?arguments[1]:this,0))&&void 0!==e?e:U)!==B){var n=this._$AH,r=t===U&&n!==U||t.capture!==n.capture||t.once!==n.once||t.passive!==n.passive,i=t!==U&&(n===U||r);r&&this.element.removeEventListener(this.name,this,n),i&&this.element.addEventListener(this.name,this,t),this._$AH=t}}},{key:"handleEvent",value:function(t){var e,n;"function"==typeof this._$AH?this._$AH.call(null!==(n=null===(e=this.options)||void 0===e?void 0:e.host)&&void 0!==n?n:this.element,t):this._$AH.handleEvent(t)}}])}(Z),et=function(){return p((function t(e,n,r){h(this,t),this.element=e,this.type=6,this._$AN=void 0,this._$AM=n,this.options=r}),[{key:"_$AU",get:function(){return this._$AM._$AU}},{key:"_$AI",value:function(t){Y(this,t)}}])}(),nt={O:w,P:x,A:_,C:1,M:V,L:X,R:T,D:Y,I:q,V:Z,H:Q,N:tt,U:K,F:et},rt=m.litHtmlPolyfillSupport;null==rt||rt(G,q),(null!==(r=m.litHtmlVersions)&&void 0!==r?r:m.litHtmlVersions=[]).push("2.8.0");var it=function(t,e,n){var r,i,o=null!==(r=null==n?void 0:n.renderBefore)&&void 0!==r?r:e,a=o._$litPart$;if(void 0===a){var s=null!==(i=null==n?void 0:n.renderBefore)&&void 0!==i?i:null;o._$litPart$=a=new q(e.insertBefore(P(),s),s,void 0,null!=n?n:{})}return a._$AI(t),a}},9696:function(t,e,n){"use strict";n.d(e,{EM:function(){return r},MZ:function(){return l},P:function(){return k},wk:function(){return v}});var r=function(t){return function(e){return"function"==typeof e?function(t,e){return customElements.define(t,e),e}(t,e):function(t,e){return{kind:e.kind,elements:e.elements,finisher:function(e){customElements.define(t,e)}}}(t,e)}};function i(t){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i(t)}function o(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function a(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?o(Object(n),!0).forEach((function(e){s(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function s(t,e,n){return(e=function(t){var e=function(t,e){if("object"!=i(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!=i(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==i(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}n(2675),n(9463),n(2259),n(5700),n(2008),n(3792),n(9572),n(8130),n(3851),n(1278),n(9432),n(6099),n(7764),n(3500),n(2953);var u=function(t,e){return"method"===e.kind&&e.descriptor&&!("value"in e.descriptor)?a(a({},e),{},{finisher:function(n){n.createProperty(e.key,t)}}):{kind:"field",key:Symbol(),placement:"own",descriptor:{},originalKey:e.key,initializer:function(){"function"==typeof e.initializer&&(this[e.key]=e.initializer.call(this))},finisher:function(n){n.createProperty(e.key,t)}}},c=function(t,e,n){e.constructor.createProperty(n,t)};function l(t){return function(e,n){return void 0!==n?c(t,e,n):u(t,e)}}function f(t){return f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},f(t)}function h(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function d(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?h(Object(n),!0).forEach((function(e){p(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function p(t,e,n){return(e=function(t){var e=function(t,e){if("object"!=f(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!=f(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==f(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function v(t){return l(d(d({},t),{},{state:!0}))}function g(t){return g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},g(t)}function m(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function y(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?m(Object(n),!0).forEach((function(e){b(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function b(t,e,n){return(e=function(t){var e=function(t,e){if("object"!=g(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!=g(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==g(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}n(9085);var w,x=function(t){var e=t.finisher,n=t.descriptor;return function(t,r){var i;if(void 0===r){var o=null!==(i=t.originalKey)&&void 0!==i?i:t.key,a=null!=n?{kind:"method",placement:"prototype",key:o,descriptor:n(t.key)}:y(y({},t),{},{key:o});return null!=e&&(a.finisher=function(t){e(t,o)}),a}var s=t.constructor;void 0!==n&&Object.defineProperty(t,r,n(r)),null==e||e(s,r)}};function _(t){return _="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_(t)}function k(t,e){return x({descriptor:function(n){var r={get:function(){var e,n;return null!==(n=null===(e=this.renderRoot)||void 0===e?void 0:e.querySelector(t))&&void 0!==n?n:null},enumerable:!0,configurable:!0};if(e){var i="symbol"==_(n)?Symbol():"__"+n;r.get=function(){var e,n;return void 0===this[i]&&(this[i]=null!==(n=null===(e=this.renderRoot)||void 0===e?void 0:e.querySelector(t))&&void 0!==n?n:null),this[i]}}return r}})}n(6412),n(8125),n(4490),n(4782),n(2010),n(4731),n(479),n(875),n(3362),null===(w=window.HTMLSlotElement)||void 0===w||w.prototype.assignedElements},8900:function(t,e,n){"use strict";n.d(e,{W:function(){return v}}),n(2675),n(9463),n(2259),n(5700),n(8706),n(3418),n(4423),n(3792),n(2712),n(4782),n(9572),n(2010),n(8130),n(875),n(9432),n(6099),n(825),n(7495),n(8781),n(1415),n(9449),n(1699),n(7764),n(5440),n(3500),n(2953);var r=n(6681),i=n(1091);function o(t){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o(t)}function a(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function s(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,u(r.key),r)}}function u(t){var e=function(t,e){if("object"!=o(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!=o(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==o(e)?e:e+""}function c(t,e,n){return e=f(e),function(t,e){if(e&&("object"==o(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,l()?Reflect.construct(e,n||[],f(t).constructor):e.apply(t,n))}function l(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(l=function(){return!!t})()}function f(t){return f=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},f(t)}function h(t,e){return h=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},h(t,e)}var d="important",p=" !"+d,v=(0,i.u$)(function(t){function e(t){var n,r;if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),n=c(this,e,[t]),t.type!==i.OA.ATTRIBUTE||"style"!==t.name||(null===(r=t.strings)||void 0===r?void 0:r.length)>2)throw Error("The `styleMap` directive must be used in the `style` attribute and must be the only part in the attribute.");return n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&h(t,e)}(e,t),n=e,o=[{key:"render",value:function(t){return Object.keys(t).reduce((function(e,n){var r=t[n];return null==r?e:e+"".concat(n=n.includes("-")?n:n.replace(/(?:^(webkit|moz|ms|o)|)(?=[A-Z])/g,"-$&").toLowerCase(),":").concat(r,";")}),"")}},{key:"update",value:function(t,e){var n=this,i=function(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o,a,s=[],u=!0,c=!1;try{if(o=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);u=!0);}catch(t){c=!0,i=t}finally{try{if(!u&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}(t,e)||function(t,e){if(t){if("string"==typeof t)return a(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?a(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(e,1)[0],o=t.element.style;if(void 0===this.ht){for(var s in this.ht=new Set,i)this.ht.add(s);return this.render(i)}for(var u in this.ht.forEach((function(t){null==i[t]&&(n.ht.delete(t),t.includes("-")?o.removeProperty(t):o[t]="")})),i){var c=i[u];if(null!=c){this.ht.add(u);var l="string"==typeof c&&c.endsWith(p);u.includes("-")||l?o.setProperty(u,l?c.slice(0,-11):c,l?d:""):o[u]=c}}return r.c0}}],o&&s(n.prototype,o),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,o}(i.WL))},420:function(t,e,n){"use strict";function r(t){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}function i(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function o(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,a(r.key),r)}}function a(t){var e=function(t,e){if("object"!=r(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,"string");if("object"!=r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==r(e)?e:e+""}n.d(e,{WF:function(){return Z},AH:function(){return d},qy:function(){return F.qy},s6:function(){return F.s6},XX:function(){return F.XX},JW:function(){return F.JW}}),n(2675),n(9463),n(6412),n(2259),n(5700),n(8125),n(8706),n(6449),n(3418),n(3792),n(4490),n(4782),n(4554),n(3514),n(739),n(9572),n(2010),n(4731),n(6033),n(479),n(8130),n(1480),n(875),n(9432),n(6099),n(3362),n(825),n(7495),n(8781),n(1415),n(7764),n(3500),n(2953),n(2062),n(2712),n(3772);var s,u=window,c=u.ShadowRoot&&(void 0===u.ShadyCSS||u.ShadyCSS.nativeShadow)&&"adoptedStyleSheets"in Document.prototype&&"replace"in CSSStyleSheet.prototype,l=Symbol(),f=new WeakMap,h=function(){return function(t,e,n){return e&&o(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}((function t(e,n,r){if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._$cssResult$=!0,r!==l)throw Error("CSSResult is not constructable. Use `unsafeCSS` or `css` instead.");this.cssText=e,this.t=n}),[{key:"styleSheet",get:function(){var t=this.o,e=this.t;if(c&&void 0===t){var n=void 0!==e&&1===e.length;n&&(t=f.get(e)),void 0===t&&((this.o=t=new CSSStyleSheet).replaceSync(this.cssText),n&&f.set(e,t))}return t}},{key:"toString",value:function(){return this.cssText}}])}(),d=function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];var i=1===t.length?t[0]:n.reduce((function(e,n,r){return e+function(t){if(!0===t._$cssResult$)return t.cssText;if("number"==typeof t)return t;throw Error("Value passed to 'css' function must be a 'css' function result: "+t+". Use 'unsafeCSS' to pass non-literal values, but take care to ensure page security.")}(n)+t[r+1]}),t[0]);return new h(i,t,l)},p=c?function(t){return t}:function(t){return t instanceof CSSStyleSheet?function(t){var e,n="",r=function(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(t){if("string"==typeof t)return i(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?i(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,s=!0,u=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return s=t.done,t},e:function(t){u=!0,a=t},f:function(){try{s||null==n.return||n.return()}finally{if(u)throw a}}}}(t.cssRules);try{for(r.s();!(e=r.n()).done;)n+=e.value.cssText}catch(t){r.e(t)}finally{r.f()}return function(t){return new h("string"==typeof t?t:t+"",void 0,l)}(n)}(t):t};function v(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=m(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function g(t){return function(t){if(Array.isArray(t))return y(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||m(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function m(t,e){if(t){if("string"==typeof t)return y(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?y(t,e):void 0}}function y(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function b(t){return b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},b(t)}function w(){w=function(){return e};var t,e={},n=Object.prototype,r=n.hasOwnProperty,i=Object.defineProperty||function(t,e,n){t[e]=n.value},o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",s=o.asyncIterator||"@@asyncIterator",u=o.toStringTag||"@@toStringTag";function c(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(t){c=function(t,e,n){return t[e]=n}}function l(t,e,n,r){var o=e&&e.prototype instanceof m?e:m,a=Object.create(o.prototype),s=new A(r||[]);return i(a,"_invoke",{value:T(t,n,s)}),a}function f(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var h="suspendedStart",d="suspendedYield",p="executing",v="completed",g={};function m(){}function y(){}function x(){}var _={};c(_,a,(function(){return this}));var k=Object.getPrototypeOf,S=k&&k(k(R([])));S&&S!==n&&r.call(S,a)&&(_=S);var P=x.prototype=m.prototype=Object.create(_);function E(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function O(t,e){function n(i,o,a,s){var u=f(t[i],t,o);if("throw"!==u.type){var c=u.arg,l=c.value;return l&&"object"==b(l)&&r.call(l,"__await")?e.resolve(l.__await).then((function(t){n("next",t,a,s)}),(function(t){n("throw",t,a,s)})):e.resolve(l).then((function(t){c.value=t,a(c)}),(function(t){return n("throw",t,a,s)}))}s(u.arg)}var o;i(this,"_invoke",{value:function(t,r){function i(){return new e((function(e,i){n(t,r,e,i)}))}return o=o?o.then(i,i):i()}})}function T(e,n,r){var i=h;return function(o,a){if(i===p)throw Error("Generator is already running");if(i===v){if("throw"===o)throw a;return{value:t,done:!0}}for(r.method=o,r.arg=a;;){var s=r.delegate;if(s){var u=C(s,r);if(u){if(u===g)continue;return u}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(i===h)throw i=v,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);i=p;var c=f(e,n,r);if("normal"===c.type){if(i=r.done?v:d,c.arg===g)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(i=v,r.method="throw",r.arg=c.arg)}}}function C(e,n){var r=n.method,i=e.iterator[r];if(i===t)return n.delegate=null,"throw"===r&&e.iterator.return&&(n.method="return",n.arg=t,C(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),g;var o=f(i,e.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,g;var a=o.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,g):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,g)}function j(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function M(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function A(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(j,this),this.reset(!0)}function R(e){if(e||""===e){var n=e[a];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var i=-1,o=function n(){for(;++i<e.length;)if(r.call(e,i))return n.value=e[i],n.done=!1,n;return n.value=t,n.done=!0,n};return o.next=o}}throw new TypeError(b(e)+" is not iterable")}return y.prototype=x,i(P,"constructor",{value:x,configurable:!0}),i(x,"constructor",{value:y,configurable:!0}),y.displayName=c(x,u,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===y||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,x):(t.__proto__=x,c(t,u,"GeneratorFunction")),t.prototype=Object.create(P),t},e.awrap=function(t){return{__await:t}},E(O.prototype),c(O.prototype,s,(function(){return this})),e.AsyncIterator=O,e.async=function(t,n,r,i,o){void 0===o&&(o=Promise);var a=new O(l(t,n,r,i),o);return e.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},E(P),c(P,u,"Generator"),c(P,a,(function(){return this})),c(P,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},e.values=R,A.prototype={constructor:A,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(M),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function i(r,i){return s.type="throw",s.arg=e,n.next=r,i&&(n.method="next",n.arg=t),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],s=a.completion;if("root"===a.tryLoc)return i("end");if(a.tryLoc<=this.prev){var u=r.call(a,"catchLoc"),c=r.call(a,"finallyLoc");if(u&&c){if(this.prev<a.catchLoc)return i(a.catchLoc,!0);if(this.prev<a.finallyLoc)return i(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return i(a.catchLoc,!0)}else{if(!c)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return i(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,g):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),g},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),M(n),g}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var i=r.arg;M(n)}return i}}throw Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:R(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),g}},e}function x(t,e,n,r,i,o,a){try{var s=t[o](a),u=s.value}catch(t){return void n(t)}s.done?e(u):Promise.resolve(u).then(r,i)}function _(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,k(r.key),r)}}function k(t){var e=function(t,e){if("object"!=b(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!=b(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==b(e)?e:e+""}function S(t){var e="function"==typeof Map?new Map:void 0;return S=function(t){if(null===t||!function(t){try{return-1!==Function.toString.call(t).indexOf("[native code]")}catch(e){return"function"==typeof t}}(t))return t;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,n)}function n(){return function(t,e,n){if(P())return Reflect.construct.apply(null,arguments);var r=[null];r.push.apply(r,e);var i=new(t.bind.apply(t,r));return n&&E(i,n.prototype),i}(t,arguments,O(this).constructor)}return n.prototype=Object.create(t.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),E(n,t)},S(t)}function P(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(P=function(){return!!t})()}function E(t,e){return E=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},E(t,e)}function O(t){return O=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},O(t)}var T=window,C=T.trustedTypes,j=C?C.emptyScript:"",M=T.reactiveElementPolyfillSupport,A={toAttribute:function(t,e){switch(e){case Boolean:t=t?j:null;break;case Object:case Array:t=null==t?t:JSON.stringify(t)}return t},fromAttribute:function(t,e){var n=t;switch(e){case Boolean:n=null!==t;break;case Number:n=null===t?null:Number(t);break;case Object:case Array:try{n=JSON.parse(t)}catch(t){n=null}}return n}},R=function(t,e){return e!==t&&(e==e||t==t)},I={attribute:!0,type:String,converter:A,reflect:!1,hasChanged:R},L="finalized",D=function(t){function e(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(t=function(t,e,n){return e=O(e),function(t,e){if(e&&("object"==b(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,P()?Reflect.construct(e,n||[],O(t).constructor):e.apply(t,n))}(this,e))._$Ei=new Map,t.isUpdatePending=!1,t.hasUpdated=!1,t._$El=null,t._$Eu(),t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&E(t,e)}(e,t),function(t,e,n){return e&&_(t.prototype,e),n&&_(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}(e,[{key:"_$Eu",value:function(){var t,e=this;this._$E_=new Promise((function(t){return e.enableUpdating=t})),this._$AL=new Map,this._$Eg(),this.requestUpdate(),null===(t=this.constructor.h)||void 0===t||t.forEach((function(t){return t(e)}))}},{key:"addController",value:function(t){var e,n;(null!==(e=this._$ES)&&void 0!==e?e:this._$ES=[]).push(t),void 0!==this.renderRoot&&this.isConnected&&(null===(n=t.hostConnected)||void 0===n||n.call(t))}},{key:"removeController",value:function(t){var e;null===(e=this._$ES)||void 0===e||e.splice(this._$ES.indexOf(t)>>>0,1)}},{key:"_$Eg",value:function(){var t=this;this.constructor.elementProperties.forEach((function(e,n){t.hasOwnProperty(n)&&(t._$Ei.set(n,t[n]),delete t[n])}))}},{key:"createRenderRoot",value:function(){var t,e=null!==(t=this.shadowRoot)&&void 0!==t?t:this.attachShadow(this.constructor.shadowRootOptions);return function(t,e){c?t.adoptedStyleSheets=e.map((function(t){return t instanceof CSSStyleSheet?t:t.styleSheet})):e.forEach((function(e){var n=document.createElement("style"),r=u.litNonce;void 0!==r&&n.setAttribute("nonce",r),n.textContent=e.cssText,t.appendChild(n)}))}(e,this.constructor.elementStyles),e}},{key:"connectedCallback",value:function(){var t;void 0===this.renderRoot&&(this.renderRoot=this.createRenderRoot()),this.enableUpdating(!0),null===(t=this._$ES)||void 0===t||t.forEach((function(t){var e;return null===(e=t.hostConnected)||void 0===e?void 0:e.call(t)}))}},{key:"enableUpdating",value:function(t){}},{key:"disconnectedCallback",value:function(){var t;null===(t=this._$ES)||void 0===t||t.forEach((function(t){var e;return null===(e=t.hostDisconnected)||void 0===e?void 0:e.call(t)}))}},{key:"attributeChangedCallback",value:function(t,e,n){this._$AK(t,n)}},{key:"_$EO",value:function(t,e){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:I,i=this.constructor._$Ep(t,r);if(void 0!==i&&!0===r.reflect){var o=(void 0!==(null===(n=r.converter)||void 0===n?void 0:n.toAttribute)?r.converter:A).toAttribute(e,r.type);this._$El=t,null==o?this.removeAttribute(i):this.setAttribute(i,o),this._$El=null}}},{key:"_$AK",value:function(t,e){var n,r=this.constructor,i=r._$Ev.get(t);if(void 0!==i&&this._$El!==i){var o=r.getPropertyOptions(i),a="function"==typeof o.converter?{fromAttribute:o.converter}:void 0!==(null===(n=o.converter)||void 0===n?void 0:n.fromAttribute)?o.converter:A;this._$El=i,this[i]=a.fromAttribute(e,o.type),this._$El=null}}},{key:"requestUpdate",value:function(t,e,n){var r=!0;void 0!==t&&(((n=n||this.constructor.getPropertyOptions(t)).hasChanged||R)(this[t],e)?(this._$AL.has(t)||this._$AL.set(t,e),!0===n.reflect&&this._$El!==t&&(void 0===this._$EC&&(this._$EC=new Map),this._$EC.set(t,n))):r=!1),!this.isUpdatePending&&r&&(this._$E_=this._$Ej())}},{key:"_$Ej",value:(n=function(t){return function(){var e=this,n=arguments;return new Promise((function(r,i){var o=t.apply(e,n);function a(t){x(o,r,i,a,s,"next",t)}function s(t){x(o,r,i,a,s,"throw",t)}a(void 0)}))}}(w().mark((function t(){var e;return w().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.isUpdatePending=!0,t.prev=1,t.next=4,this._$E_;case 4:t.next=9;break;case 6:t.prev=6,t.t0=t.catch(1),Promise.reject(t.t0);case 9:if(e=this.scheduleUpdate(),t.t1=null!=e,!t.t1){t.next=14;break}return t.next=14,e;case 14:return t.abrupt("return",!this.isUpdatePending);case 15:case"end":return t.stop()}}),t,this,[[1,6]])}))),function(){return n.apply(this,arguments)})},{key:"scheduleUpdate",value:function(){return this.performUpdate()}},{key:"performUpdate",value:function(){var t,e=this;if(this.isUpdatePending){this.hasUpdated,this._$Ei&&(this._$Ei.forEach((function(t,n){return e[n]=t})),this._$Ei=void 0);var n=!1,r=this._$AL;try{(n=this.shouldUpdate(r))?(this.willUpdate(r),null===(t=this._$ES)||void 0===t||t.forEach((function(t){var e;return null===(e=t.hostUpdate)||void 0===e?void 0:e.call(t)})),this.update(r)):this._$Ek()}catch(t){throw n=!1,this._$Ek(),t}n&&this._$AE(r)}}},{key:"willUpdate",value:function(t){}},{key:"_$AE",value:function(t){var e;null===(e=this._$ES)||void 0===e||e.forEach((function(t){var e;return null===(e=t.hostUpdated)||void 0===e?void 0:e.call(t)})),this.hasUpdated||(this.hasUpdated=!0,this.firstUpdated(t)),this.updated(t)}},{key:"_$Ek",value:function(){this._$AL=new Map,this.isUpdatePending=!1}},{key:"updateComplete",get:function(){return this.getUpdateComplete()}},{key:"getUpdateComplete",value:function(){return this._$E_}},{key:"shouldUpdate",value:function(t){return!0}},{key:"update",value:function(t){var e=this;void 0!==this._$EC&&(this._$EC.forEach((function(t,n){return e._$EO(n,e[n],t)})),this._$EC=void 0),this._$Ek()}},{key:"updated",value:function(t){}},{key:"firstUpdated",value:function(t){}}],[{key:"addInitializer",value:function(t){var e;this.finalize(),(null!==(e=this.h)&&void 0!==e?e:this.h=[]).push(t)}},{key:"observedAttributes",get:function(){var t=this;this.finalize();var e=[];return this.elementProperties.forEach((function(n,r){var i=t._$Ep(r,n);void 0!==i&&(t._$Ev.set(i,r),e.push(i))})),e}},{key:"createProperty",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:I;if(e.state&&(e.attribute=!1),this.finalize(),this.elementProperties.set(t,e),!e.noAccessor&&!this.prototype.hasOwnProperty(t)){var n="symbol"==b(t)?Symbol():"__"+t,r=this.getPropertyDescriptor(t,n,e);void 0!==r&&Object.defineProperty(this.prototype,t,r)}}},{key:"getPropertyDescriptor",value:function(t,e,n){return{get:function(){return this[e]},set:function(r){var i=this[t];this[e]=r,this.requestUpdate(t,i,n)},configurable:!0,enumerable:!0}}},{key:"getPropertyOptions",value:function(t){return this.elementProperties.get(t)||I}},{key:"finalize",value:function(){if(this.hasOwnProperty(L))return!1;this[L]=!0;var t=Object.getPrototypeOf(this);if(t.finalize(),void 0!==t.h&&(this.h=g(t.h)),this.elementProperties=new Map(t.elementProperties),this._$Ev=new Map,this.hasOwnProperty("properties")){var e,n=this.properties,r=v([].concat(g(Object.getOwnPropertyNames(n)),g(Object.getOwnPropertySymbols(n))));try{for(r.s();!(e=r.n()).done;){var i=e.value;this.createProperty(i,n[i])}}catch(t){r.e(t)}finally{r.f()}}return this.elementStyles=this.finalizeStyles(this.styles),!0}},{key:"finalizeStyles",value:function(t){var e=[];if(Array.isArray(t)){var n,r=v(new Set(t.flat(1/0).reverse()));try{for(r.s();!(n=r.n()).done;){var i=n.value;e.unshift(p(i))}}catch(t){r.e(t)}finally{r.f()}}else void 0!==t&&e.push(p(t));return e}},{key:"_$Ep",value:function(t,e){var n=e.attribute;return!1===n?void 0:"string"==typeof n?n:"string"==typeof t?t.toLowerCase():void 0}}]);var n}(S(HTMLElement));D[L]=!0,D.elementProperties=new Map,D.elementStyles=[],D.shadowRootOptions={mode:"open"},null==M||M({ReactiveElement:D}),(null!==(s=T.reactiveElementVersions)&&void 0!==s?s:T.reactiveElementVersions=[]).push("1.6.3");var N,$,F=n(6681);function B(t){return B="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},B(t)}function U(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,z(r.key),r)}}function z(t){var e=function(t,e){if("object"!=B(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!=B(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==B(e)?e:e+""}function W(t,e,n){return e=X(e),function(t,e){if(e&&("object"==B(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return H(t)}(t,V()?Reflect.construct(e,n||[],X(t).constructor):e.apply(t,n))}function H(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function V(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(V=function(){return!!t})()}function G(t,e,n,r){var i=Y(X(1&r?t.prototype:t),e,n);return 2&r&&"function"==typeof i?function(t){return i.apply(n,t)}:i}function Y(){return Y="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=function(t,e){for(;!{}.hasOwnProperty.call(t,e)&&null!==(t=X(t)););return t}(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(arguments.length<3?t:n):i.value}},Y.apply(null,arguments)}function X(t){return X=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},X(t)}function q(t,e){return q=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},q(t,e)}n(3851),n(888),n(2480);var Z=function(t){function e(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(t=W(this,e,arguments)).renderOptions={host:H(t)},t._$Do=void 0,t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&q(t,e)}(e,t),function(t,e,n){return e&&U(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}(e,[{key:"createRenderRoot",value:function(){var t,n,r=G(e,"createRenderRoot",this,3)([]);return null!==(t=(n=this.renderOptions).renderBefore)&&void 0!==t||(n.renderBefore=r.firstChild),r}},{key:"update",value:function(t){var n=this.render();this.hasUpdated||(this.renderOptions.isConnected=this.isConnected),G(e,"update",this,3)([t]),this._$Do=(0,F.XX)(n,this.renderRoot,this.renderOptions)}},{key:"connectedCallback",value:function(){var t;G(e,"connectedCallback",this,3)([]),null===(t=this._$Do)||void 0===t||t.setConnected(!0)}},{key:"disconnectedCallback",value:function(){var t;G(e,"disconnectedCallback",this,3)([]),null===(t=this._$Do)||void 0===t||t.setConnected(!1)}},{key:"render",value:function(){return F.c0}}])}(D);Z.finalized=!0,Z._$litElement$=!0,null===(N=globalThis.litElementHydrateSupport)||void 0===N||N.call(globalThis,{LitElement:Z});var K=globalThis.litElementPolyfillSupport;null==K||K({LitElement:Z}),(null!==($=globalThis.litElementVersions)&&void 0!==$?$:globalThis.litElementVersions=[]).push("3.3.3")}},n={};function r(t){var i=n[t];if(void 0!==i)return i.exports;var o=n[t]={id:t,loaded:!1,exports:{}};return e[t].call(o.exports,o,o.exports,r),o.loaded=!0,o.exports}r.m=e,t=[],r.O=function(e,n,i,o){if(!n){var a=1/0;for(l=0;l<t.length;l++){n=t[l][0],i=t[l][1],o=t[l][2];for(var s=!0,u=0;u<n.length;u++)(!1&o||a>=o)&&Object.keys(r.O).every((function(t){return r.O[t](n[u])}))?n.splice(u--,1):(s=!1,o<a&&(a=o));if(s){t.splice(l--,1);var c=i();void 0!==c&&(e=c)}}return e}o=o||0;for(var l=t.length;l>0&&t[l-1][2]>o;l--)t[l]=t[l-1];t[l]=[n,i,o]},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,{a:e}),e},r.d=function(t,e){for(var n in e)r.o(e,n)&&!r.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.nmd=function(t){return t.paths=[],t.children||(t.children=[]),t},function(){var t={340:0};r.O.j=function(e){return 0===t[e]};var e=function(e,n){var i,o,a=n[0],s=n[1],u=n[2],c=0;if(a.some((function(e){return 0!==t[e]}))){for(i in s)r.o(s,i)&&(r.m[i]=s[i]);if(u)var l=u(r)}for(e&&e(n);c<a.length;c++)o=a[c],r.o(t,o)&&t[o]&&t[o][0](),t[o]=0;return r.O(l)},n=self.webpackChunk_internetarchive_bookreader=self.webpackChunk_internetarchive_bookreader||[];n.forEach(e.bind(null,0)),n.push=e.bind(null,n.push.bind(n))}();var i={};!function(){"use strict";r(2675),r(9463),r(6412),r(2259),r(8125),r(8706),r(2008),r(113),r(3418),r(4423),r(3792),r(8598),r(2062),r(2712),r(4490),r(4782),r(2010),r(4731),r(479),r(875),r(9432),r(6099),r(6034),r(8940),r(3362),r(7495),r(8781),r(1699),r(7764),r(5746),r(3500),r(2953),r(8408),r(9139),r(3662),r(8497);var t=r(6257);r(5700),r(9572),r(8130),r(8459),r(4720);var e={fragmentChange:"fragmentChange",pageChanged:"pageChanged",PostInit:"PostInit",stop:"stop",resize:"resize",userAction:"userAction",fullscreenToggled:"fullscreenToggled",zoomOut:"zoomOut",zoomIn:"zoomIn","1PageViewSelected":"1PageViewSelected","2PageViewSelected":"2PageViewSelected","3PageViewSelected":"3PageViewSelected"},n=r(1669);function i(t){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i(t)}function o(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,a(r.key),r)}}function a(t){var e=function(t,e){if("object"!=i(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!=i(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==i(e)?e:e+""}var s=function(){return r=function e(n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),this.br=n,this.$root=null,this.$nav=null,this.maxPageNum=null,this.minimumControls=["viewmode"],this.maximumControls=["book_left","book_right","zoom_in","zoom_out","onepg","twopg","thumb"],this.updateNavIndexThrottled=(0,t.throttle)(this.updateNavIndex.bind(this),250,!1)},i=[{key:"controlFor",value:function(t){var e=this.br.options.controls[t];return e.visible?e.template?"<li>".concat(e.template(this.br),"</li>"):'<li>\n      <button class="BRicon '.concat(e.className,'" title="').concat(e.label,'">\n        <div class="icon icon-').concat(e.iconClassName,'"></div>\n        <span class="BRtooltip">').concat(e.label,"</span>\n      </button>\n    </li>"):""}},{key:"_renderControls",value:function(){var t=this;return["bookLeft","bookRight","onePage","twoPage","thumbnail","viewmode","zoomOut","zoomIn","fullScreen"].map((function(e){return t.controlFor(e)})).join("")}},{key:"_bindViewModeButton",value:function(){var t=this,r=this.br,i=r.options.controls.viewmode,o=[{mode:r.constMode1up,className:"onepg",title:"One-page view"},{mode:r.constMode2up,className:"twopg",title:"Two-page view"},{mode:r.constModeThumb,className:"thumb",title:"Thumbnail view"}].filter((function(t){return!i.excludedModes.includes(t.mode)})),a=o.map((function(t){return t.mode}));i.excludedModes.includes(r.mode)&&r.switchMode(a[0]);for(var s=a.indexOf(r.mode),u=0;u<=s;u++)a.push(a.shift());o.length<2&&this.$nav.find(".".concat(i.className)).remove(),this.br.bind(e.PostInit,(function(){var e=t.$nav.find(".".concat(i.className)).off(".bindNavigationHandlers").on("click",(function(e){var i=a.shift(),s=o.find((function(t){return t.mode===i})),u=o.find((function(t){return t.mode===a[0]}));a.push(i),r.viewModeOrder=a,t.updateViewModeButton(n(e.currentTarget),u.className,u.title),r.switchMode(s.mode)})),s=o.find((function(t){return t.mode===a[0]}));t.updateViewModeButton(e,s.className,s.title)}))}},{key:"updateViewModeButton",value:function(t,e,n){t.attr("title",n).find(".icon").removeClass().addClass("icon icon-".concat(e)).end().find(".BRtooltip").text(n)}},{key:"switchNavbarControls",value:function(){"linerNotes"!==this.br.options.bookType&&(this.br.refs.$brContainer.prop("clientWidth")<640?this.showMinimumNavbarControls():this.showMaximumNavbarControls())}},{key:"showMinimumNavbarControls",value:function(){this.minimumControls.forEach((function(t){var e=document.querySelector(".controls .".concat(t));e&&e.classList.remove("hide")})),this.maximumControls.forEach((function(t){var e=document.querySelector(".controls .".concat(t));e&&e.classList.add("hide")}))}},{key:"showMaximumNavbarControls",value:function(){this.maximumControls.forEach((function(t){var e=document.querySelector(".controls .".concat(t));e&&e.classList.remove("hide")})),this.minimumControls.forEach((function(t){var e=document.querySelector(".controls .".concat(t));e&&e.classList.add("hide")}))}},{key:"init",value:function(){var t=this,e=this.br,r=e.options.navbarTitle,i="rl"===e.pageProgression,o=i?"book_flip_next":"book_flip_prev",a=i?"book_flip_prev":"book_flip_next";this.br.options.controls.bookLeft.className="book_left ".concat(o),this.br.options.controls.bookRight.className="book_right ".concat(a),e.refs.$BRfooter=this.$root=n('<div class="BRfooter"></div>'),e.refs.$BRnav=this.$nav=n('<div class="BRnav BRnavDesktop">\n          '.concat(r?'<div class="BRnavTitle">'.concat(r,"</div>"):"",'\n          <nav class="BRcontrols">\n            <ul class="controls">\n              <li class="scrubber">\n                <div class="BRnavpos">\n                  <div class="BRpager"></div>\n                  <div class="BRnavline"></div>\n                </div>\n                <p><span class=\'BRcurrentpage\'></span></p>\n              </li>\n              ').concat(this._renderControls(),"\n            </ul>\n          </nav>\n        </div>")),this.$root.append(this.$nav),e.refs.$br.append(this.$root);var s=this.$root.find(".BRpager").slider({animate:!0,min:0,max:e.book.getNumLeafs()-1,value:e.currentIndex(),range:"min"});return s.on("slide",(function(e,n){return t.updateNavPageNum(n.value),!0})),s.on("slidechange",(function(n,r){return t.updateNavPageNum(r.value),s.data("swallowchange")?s.data("swallowchange",!1):e.jumpToIndex(r.value),!0})),e.options.controls.viewmode.visible&&this._bindViewModeButton(),this.updateNavPageNum(e.currentIndex()),this.$nav}},{key:"getNavPageNumString",value:function(t){var e=this.br,n=e.book.getPageNum(t),r=(e.book.getPageProp(t,"pageType"),e.book.getNumLeafs());if(!this.maxPageNum){for(var i,o=0,a=0;a<r;a++)i=parseFloat(e.book.getPageNum(a)),!isNaN(i)&&i>o&&(o=i);this.maxPageNum=o}return function(t,e,n,r,i){if("n"==n[0])return"(".concat(t+1," of ").concat(e,")");var o=i&&parseFloat(n)?" of ".concat(i):"";return"".concat(n).concat(o)}(t,r,n,0,this.maxPageNum)}},{key:"updateNavPageNum",value:function(t){this.$root.find(".BRcurrentpage").html(this.getNavPageNumString(t))}},{key:"updateNavIndex",value:function(t){t=void 0!==t?t:this.br.currentIndex(),this.$root.find(".BRpager").data("swallowchange",!0).slider("value",t)}}],i&&o(r.prototype,i),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,i}();function u(t){return u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},u(t)}function c(t){var e="function"==typeof Map?new Map:void 0;return c=function(t){if(null===t||!function(t){try{return-1!==Function.toString.call(t).indexOf("[native code]")}catch(e){return"function"==typeof t}}(t))return t;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,n)}function n(){return function(t,e,n){if(l())return Reflect.construct.apply(null,arguments);var r=[null];r.push.apply(r,e);var i=new(t.bind.apply(t,r));return n&&f(i,n.prototype),i}(t,arguments,h(this).constructor)}return n.prototype=Object.create(t.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),f(n,t)},c(t)}function l(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(l=function(){return!!t})()}function f(t,e){return f=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},f(t,e)}function h(t){return h=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},h(t)}r(6033),r(825);var d={defaults:null,padding:10,ui:"full",uiAutoHide:!1,thumbRowBuffer:1,thumbColumns:6,thumbMaxLoading:4,thumbPadding:10,thumbMinZoomColumns:2,thumbMaxZoomColumns:8,flipSpeed:400,showToolbar:!0,showNavbar:!0,navBarTitle:"",showLogo:!0,logoURL:"https://archive.org",imagesBaseURL:"/BookReader/images/",reduceSet:"pow2",reductionFactors:[{reduce:.25,autofit:null},{reduce:.5,autofit:null},{reduce:1,autofit:null},{reduce:2,autofit:null},{reduce:3,autofit:null},{reduce:4,autofit:null},{reduce:6,autofit:null}],onePage:{autofit:"auto"},twoPage:{coverInternalPadding:0,coverExternalPadding:0,bookSpineDivWidth:64,autofit:"auto"},onePageMinBreakpoint:800,bookTitle:"",bookUrl:null,bookUrlText:null,bookUrlTitle:null,enableBookTitleLink:!0,bookLanguage:null,metadata:[],thumbnail:null,bookUrlMoreInfo:null,enableExperimentalControls:!1,el:"#BookReader",pageProgression:"lr",ppi:500,protected:!1,plugins:{textSelection:null},vars:{},data:[],table_of_contents:null,getNumLeafs:null,getPageWidth:null,getPageHeight:null,getPageURI:null,getPageSide:null,getSpreadIndices:null,getPageNum:null,getPageProp:null,leafNumToIndex:null,getEmbedCode:null,controls:{bookLeft:{visible:!0,label:"Flip left",className:"book_left",iconClassName:"left-arrow"},bookRight:{visible:!0,label:"Flip right",className:"book_right",iconClassName:"left-arrow hflip"},onePage:{visible:!0,label:"One-page view",className:"onepg",iconClassName:"onepg"},twoPage:{visible:!0,label:"Two-page view",className:"twopg",iconClassName:"twopg"},thumbnail:{visible:!0,label:"Thumbnail view",className:"thumb",iconClassName:"thumb"},viewmode:{visible:!0,className:"viewmode",excludedModes:[]},zoomOut:{visible:!0,label:"Zoom out",className:"zoom_out",iconClassName:"magnify"},zoomIn:{visible:!0,label:"Zoom in",className:"zoom_in",iconClassName:"magnify plus"},fullScreen:{visible:!0,label:"Toggle fullscreen",className:"full",iconClassName:"fullscreen"}},startFullscreen:!1,enableFSLogoShortcut:!1,autoResize:!0,useSrcSet:!1,unviewablePageURI:"./unviewable_page.png"},p=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),t=this,r=arguments,n=h(n=e),function(t,e){if(e&&("object"==u(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,l()?Reflect.construct(n,r||[],h(t).constructor):n.apply(t,r));var t,n,r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&f(t,e)}(e,t),n=e,Object.defineProperty(n,"prototype",{writable:!1}),n;var n}(c(Error)),v=(r(5440),r(4638),r(1669));function g(t){return g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},g(t)}function m(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function y(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,b(r.key),r)}}function b(t){var e=function(t,e){if("object"!=g(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!=g(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==g(e)?e:e+""}var w=function(){return n=function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.br=e},r=[{key:"buildToolbarElement",value:function(){var t=this.br,e=t.showLogo?'\n      <span class="BRtoolbarSection BRtoolbarSectionLogo">\n        <a class="logo" href="'.concat(t.logoURL,'"></a>\n      </span>'):"";t.refs.$BRtoolbar=v('\n      <div class="BRtoolbar header">\n        <div class="BRtoolbarbuttons">\n          <div class="BRtoolbarLeft">\n            '.concat(e,'\n            <span class="BRtoolbarSection BRtoolbarSectionTitle"></span>\n          </div>\n          <div class="BRtoolbarRight">\n            <span class="BRtoolbarSection BRtoolbarSectionInfo">\n              <button class="BRpill info js-tooltip">Info</button>\n              <button class="BRpill share js-tooltip">Share</button>\n            </span>\n          </div>\n        </div>\n      </div>'));var n=t.refs.$BRtoolbar.find(".BRtoolbarSectionTitle");return t.bookUrl&&t.options.enableBookTitleLink?n.append(v("<a>").attr({href:t.bookUrl,title:t.bookUrlTitle}).addClass("BRreturn").html(t.bookUrlText||t.bookTitle)):t.bookTitle&&n.append(t.bookUrlText||t.bookTitle),t.refs.$BRtoolbar}},{key:"initToolbar",value:function(t,n){var r=this.br;r.refs.$br.append(this.buildToolbarElement()),r.$(".BRnavCntl").addClass("BRup"),r.$(".pause").hide(),r.refs.$BRtoolbar.append(),r.canSwitchToMode(r.constMode2up)||r.$(".two_page_mode, .play, .pause").hide(),r.canSwitchToMode(r.constModeThumb)||r.$(".thumbnail_mode").hide(),r.canSwitchToMode(r.constMode2up)||r.canSwitchToMode(r.constModeThumb)||r.$(".one_page_mode").hide(),v('<div style="display: none;"></div>').append(v('\n    <div class="BRfloat BRshare">\n      <div class="BRfloatHead">\n        Share\n        <button class="floatShut" href="javascript:;" onclick="$.fn.colorbox.close();"><span class="br-colorbox-shift">Close</span></button>\n      </div>\n    </div>')).append(v('\n    <div class="BRfloat BRinfo">\n      <div class="BRfloatHead">About this book\n        <button class="floatShut" href="javascript:;" onclick="$.fn.colorbox.close();"><span class="br-colorbox-shift">Close</span></button>\n      </div>\n      <div class="BRfloatBody">\n        <div class="BRfloatCover"></div>\n        <div class="BRfloatMeta">\n          <div class="BRfloatTitle">\n            <h2><a /></h2>\n          </div>\n        </div>\n      </div>\n      <div class="BRfloatFoot">\n        <a href="https://openlibrary.org/dev/docs/bookreader">About the BookReader</a>\n      </div>\n    </div>')).appendTo(r.refs.$br),r.$(".BRinfo .BRfloatTitle a").attr({href:r.bookUrl}).text(r.bookTitle).addClass("title"),this.buildInfoDiv(r.$(".BRinfo")),this.buildShareDiv(r.$(".BRshare")),r.$(".share").colorbox({inline:!0,opacity:"0.5",href:r.$(".BRshare"),onLoad:function(){r.trigger(e.stop),r.$(".BRpageviewValue").val(window.location.href)}}),r.$(".info").colorbox({inline:!0,opacity:"0.5",href:r.$(".BRinfo"),onLoad:function(){r.trigger(e.stop)}})}},{key:"buildShareDiv",value:function(t){var e=this,n=this.br,r=document.location+"",i=(r+"").replace(/#.*/,""),o=n.getEmbedCode?'\n      <div class="share-embed">\n        <p class="share-embed-prompt">Copy and paste one of these options to share this book elsewhere.</p>\n        <form method="post" action="">\n          <fieldset class="fieldset-share-pageview">\n            <label for="pageview">Link to this page view</label>\n            <input type="text" name="pageview" class="BRpageviewValue" value="'.concat(r,'"/>\n          </fieldset>\n          <fieldset class="fieldset-share-book-link">\n            <label for="booklink">Link to the book</label>\n            <input type="text" name="booklink" class="booklink" value="').concat(i,'"/>\n          </fieldset>\n          <fieldset class="fieldset-embed">\n            <label for="iframe">Embed a mini Book Reader</label>\n            <fieldset class="sub">\n              <label class="sub">\n                <input type="radio" name="pages" value="').concat(n.constMode1up,'" checked="checked"/>\n                1 page\n              </label>\n              <label class="sub">\n                <input type="radio" name="pages" value="').concat(n.constMode2up,'"/>\n                2 pages\n              </label>\n              <label class="sub">\n                <input type="checkbox" name="thispage" value="thispage"/>\n                Open to this page?\n              </label>\n            </fieldset>\n            <textarea cols="30" rows="4" name="iframe" class="BRframeEmbed"></textarea>\n          </fieldset>\n        </form>\n      </div>'):"",a=v('\n      <div class="share-title">Share this book</div>\n      <div class="share-social">\n        <label class="sub open-to-this-page">\n          <input class="thispage-social" type="checkbox" />\n          Open to this page?\n        </label>\n        <div><button class="BRaction share facebook-share-button"><i class="BRicon fb" /> Facebook</button></div>\n        <div><button class="BRaction share twitter-share-button"><i class="BRicon twitter" /> Twitter</button></div>\n        <div><button class="BRaction share email-share-button"><i class="BRicon email" /> Email</button></div>\n      </div>\n      '.concat(o,'\n      <div class="BRfloatFoot">\n        <button class="share-finished" type="button" onclick="$.fn.colorbox.close();">Finished</button>\n      </div>'));a.appendTo(t),a.find(".fieldset-embed input").on("change",(function(t){var e=v(t.target).parents("form").first(),r={};r.mode=v(e.find(".fieldset-embed input[name=pages]:checked")).val(),e.find(".fieldset-embed input[name=thispage]").prop("checked")&&(r.page=n.book.getPageNum(n.currentIndex())),n.getEmbedCode&&e.find(".BRframeEmbed").val(n.getEmbedCode("480px","430px",r))})),a.find("input, textarea").on("focus",(function(t){return t.target.select()})),a.find(".facebook-share-button").on("click",(function(){x("https://www.facebook.com/sharer.php?"+v.param({u:e._getSocialShareUrl()}),600,400,"Share")})),a.find(".twitter-share-button").on("click",(function(){x("https://twitter.com/intent/tweet?"+v.param({url:e._getSocialShareUrl(),text:n.bookTitle}),600,400,"Share")})),a.find(".email-share-button").on("click",(function(){var t="".concat(n.bookTitle,"\n\n").concat(e._getSocialShareUrl());window.location.href="mailto:?subject=".concat(encodeURI(n.bookTitle),"&body=").concat(encodeURI(t))})),a.find("input[name=thispage]").trigger("change"),a.appendTo(t)}},{key:"_getSocialShareUrl",value:function(){return this.br.$(".thispage-social").prop("checked")?window.location.href:"".concat(document.location.protocol,"//").concat(window.location.hostname).concat(window.location.pathname)}},{key:"buildInfoDiv",value:function(e){var n=this.br;e.find(".BRfloatBody, .BRfloatCover, .BRfloatFoot").remove();var r=v('<div class="BRinfoLeftCol"></div>');n.thumbnail&&r.append(v('\n        <div class="BRimageW">\n          <img src="'.concat(n.thumbnail,'" alt="').concat((0,t.escapeHTML)(n.bookTitle),'" />\n        </div>')));var i,o=v('<div class="BRinfoRightCol">'),a=function(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(t){if("string"==typeof t)return m(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?m(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}(n.metadata);try{for(a.s();!(i=a.n()).done;){var s=i.value,u=s.extraValueClass,c=void 0===u?"":u,l=s.label,f=s.value,h="Title"===l?(0,t.escapeHTML)(f):f;o.append(v('\n        <div class="BRinfoValueWrapper">\n          <div class="BRinfoLabel">'.concat(l,'</div>\n          <div class="BRinfoValue ').concat(c,'">').concat(h,"</div>\n        </div>")))}}catch(t){a.e(t)}finally{a.f()}var d=n.bookUrlMoreInfo?n.bookUrlMoreInfo:n.bookTitle;d&&n.bookUrl&&o.append(v('\n        <div class="BRinfoValueWrapper">\n          <div class="BRinfoMoreInfoWrapper">\n            <a class="BRinfoMoreInfo" href="'.concat(n.bookUrl,'">\n              ').concat((0,t.escapeHTML)(d),"\n            </a>\n          </div>\n        </div>")));var p=v('<div class="BRfloatFoot BRinfoFooter"></div>'),g=v('<div class="BRinfoW mv20-lg">').append([r,o,v('<br style="clear:both"/>')]);e.append(g,p).addClass("wide")}},{key:"getToolBarHeight",value:function(){var t=this.br.refs.$BRtoolbar;return t&&"block"===t.css("display")?t.outerHeight()+parseInt(t.css("top")):0}}],r&&y(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r}();function x(t,e,n,r){var i=null!=window.screenLeft?window.screenLeft:screen.left,o=null!=window.screenTop?window.screenTop:screen.top,a=(window.innerWidth||document.documentElement.clientWidth||screen.width)/2-e/2+i,s=(window.innerHeight||document.documentElement.clientHeight||screen.height)/2-n/2+o,u="status=1,width=".concat(e,",height=").concat(n,",top=").concat(s,",left=").concat(a);window.open(t,r,u)}function _(t){return _="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_(t)}function k(){k=function(){return e};var t,e={},n=Object.prototype,r=n.hasOwnProperty,i=Object.defineProperty||function(t,e,n){t[e]=n.value},o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",s=o.asyncIterator||"@@asyncIterator",u=o.toStringTag||"@@toStringTag";function c(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(t){c=function(t,e,n){return t[e]=n}}function l(t,e,n,r){var o=e&&e.prototype instanceof m?e:m,a=Object.create(o.prototype),s=new A(r||[]);return i(a,"_invoke",{value:T(t,n,s)}),a}function f(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var h="suspendedStart",d="suspendedYield",p="executing",v="completed",g={};function m(){}function y(){}function b(){}var w={};c(w,a,(function(){return this}));var x=Object.getPrototypeOf,S=x&&x(x(R([])));S&&S!==n&&r.call(S,a)&&(w=S);var P=b.prototype=m.prototype=Object.create(w);function E(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function O(t,e){function n(i,o,a,s){var u=f(t[i],t,o);if("throw"!==u.type){var c=u.arg,l=c.value;return l&&"object"==_(l)&&r.call(l,"__await")?e.resolve(l.__await).then((function(t){n("next",t,a,s)}),(function(t){n("throw",t,a,s)})):e.resolve(l).then((function(t){c.value=t,a(c)}),(function(t){return n("throw",t,a,s)}))}s(u.arg)}var o;i(this,"_invoke",{value:function(t,r){function i(){return new e((function(e,i){n(t,r,e,i)}))}return o=o?o.then(i,i):i()}})}function T(e,n,r){var i=h;return function(o,a){if(i===p)throw Error("Generator is already running");if(i===v){if("throw"===o)throw a;return{value:t,done:!0}}for(r.method=o,r.arg=a;;){var s=r.delegate;if(s){var u=C(s,r);if(u){if(u===g)continue;return u}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(i===h)throw i=v,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);i=p;var c=f(e,n,r);if("normal"===c.type){if(i=r.done?v:d,c.arg===g)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(i=v,r.method="throw",r.arg=c.arg)}}}function C(e,n){var r=n.method,i=e.iterator[r];if(i===t)return n.delegate=null,"throw"===r&&e.iterator.return&&(n.method="return",n.arg=t,C(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),g;var o=f(i,e.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,g;var a=o.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,g):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,g)}function j(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function M(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function A(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(j,this),this.reset(!0)}function R(e){if(e||""===e){var n=e[a];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var i=-1,o=function n(){for(;++i<e.length;)if(r.call(e,i))return n.value=e[i],n.done=!1,n;return n.value=t,n.done=!0,n};return o.next=o}}throw new TypeError(_(e)+" is not iterable")}return y.prototype=b,i(P,"constructor",{value:b,configurable:!0}),i(b,"constructor",{value:y,configurable:!0}),y.displayName=c(b,u,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===y||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,c(t,u,"GeneratorFunction")),t.prototype=Object.create(P),t},e.awrap=function(t){return{__await:t}},E(O.prototype),c(O.prototype,s,(function(){return this})),e.AsyncIterator=O,e.async=function(t,n,r,i,o){void 0===o&&(o=Promise);var a=new O(l(t,n,r,i),o);return e.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},E(P),c(P,u,"Generator"),c(P,a,(function(){return this})),c(P,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},e.values=R,A.prototype={constructor:A,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(M),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function i(r,i){return s.type="throw",s.arg=e,n.next=r,i&&(n.method="next",n.arg=t),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],s=a.completion;if("root"===a.tryLoc)return i("end");if(a.tryLoc<=this.prev){var u=r.call(a,"catchLoc"),c=r.call(a,"finallyLoc");if(u&&c){if(this.prev<a.catchLoc)return i(a.catchLoc,!0);if(this.prev<a.finallyLoc)return i(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return i(a.catchLoc,!0)}else{if(!c)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return i(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,g):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),g},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),M(n),g}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var i=r.arg;M(n)}return i}}throw Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:R(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),g}},e}function S(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(t){if("string"==typeof t)return P(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?P(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function P(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function E(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function O(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,C(r.key),r)}}function T(t,e,n){return e&&O(t.prototype,e),n&&O(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function C(t){var e=function(t,e){if("object"!=_(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!=_(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==_(e)?e:e+""}r(8980),r(8350),r(6910),r(237),r(1392);var j=function(){return T((function t(e){var n,r,i,o;E(this,t),this.br=e,this.reduceSet=e.reduceSet,this.ppi=null!==(n=null===(r=e.options)||void 0===r?void 0:r.ppi)&&void 0!==n?n:d.ppi,this.pageProgression=null!==(i=null===(o=e.options)||void 0===o?void 0:o.pageProgression)&&void 0!==i?i:d.pageProgression,this._medianPageSize=null,this._getDataFlattenedCached=null}),[{key:"getMedianPageSizeInches",value:function(){if(this._medianPageSize)return this._medianPageSize;var t,e=[],n=[],r=S(this.pagesIterator());try{for(r.s();!(t=r.n()).done;){var i=t.value;e.push(i.widthInches),n.push(i.heightInches)}}catch(t){r.e(t)}finally{r.f()}return e.sort((function(t,e){return t-e})),n.sort((function(t,e){return t-e})),this._medianPageSize={width:e[Math.floor(e.length/2)],height:n[Math.floor(n.length/2)]},this._medianPageSize}},{key:"_getPageWidth",value:function(e){return e=(0,t.clamp)(e,0,this.getNumLeafs()-1),this.getPageWidth(e)}},{key:"_getPageHeight",value:function(e){var n=(0,t.clamp)(e,0,this.getNumLeafs()-1);return this.getPageHeight(n)}},{key:"getPageIndex",value:function(t){var e=this.getPageIndices(t);return e.length?e[e.length-1]:void 0}},{key:"getPageIndices",value:function(t){var e=[];if("n"==t.slice(0,1))try{var n=t.slice(1,t.length),r=parseInt(n);return e.push(r),e}catch(t){}for(var i=0;i<this.getNumLeafs();i++)this.getPageNum(i)==t&&e.push(i);return e}},{key:"getPageName",value:function(t){return"Page "+this.getPageNum(t)}},{key:"getNumLeafs",value:function(){return void 0!==this.br.numLeafs?this.br.numLeafs:this._getDataFlattened().length}},{key:"getPageWidth",value:function(t){return this.getPageProp(t,"width")}},{key:"getPageHeight",value:function(t){return this.getPageProp(t,"height")}},{key:"getPageURI",value:function(t,e,n){if(this.getPageProp(t,"viewable",!0))return this.getPageProp(t,"uri");var r=this.br.options.unviewablePageURI;return r.startsWith(".")?this.br.options.imagesBaseURL+r:r}},{key:"getPageSide",value:function(t){return this.getPageProp(t,"pageSide")||(t%2==0?"R":"L")}},{key:"getPageNum",value:function(t){var e=this.getPageProp(t,"pageNum");return void 0===e?"n".concat(t):e}},{key:"getPageProp",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;return this._getDataProp(t,e,n)}},{key:"getSpreadIndices",value:function(t){return"rl"==this.pageProgression?"R"==this.getPageSide(t)?[t+1,t]:[t,t-1]:"L"==this.getPageSide(t)?[t,t+1]:[t-1,t]}},{key:"leafNumToIndex",value:function(t){var e=this._getDataFlattened().findIndex((function(e){return e.leafNum==t}));return e>-1?e:t}},{key:"parsePageString",value:function(t){var e,n=/^leaf(\d+)/.exec(t);return n?null===(e=this.leafNumToIndex(parseInt(n[1],10)))&&(e=void 0):e=this.getPageIndex(t),e}},{key:"getPage",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=this.getNumLeafs();if(e||!(t<0||t>=n))return t<0&&t>=-n&&(t+=n),new M(this,t%=n)}},{key:"pagesIterator",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.start,r=void 0===n?0:n,i=e.end,o=void 0===i?1/0:i,a=e.combineConsecutiveUnviewables,s=void 0!==a&&a;return k().mark((function e(){var n,i;return k().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=Math.max(0,r),o=Math.min(o,t.getNumLeafs()),n=r;case 3:if(!(n<o)){e.next=12;break}if(i=t.getPage(n),!s||!i.isConsecutiveUnviewable){e.next=7;break}return e.abrupt("continue",9);case 7:return e.next=9,i;case 9:n++,e.next=3;break;case 12:case"end":return e.stop()}}),e)}))()}},{key:"_getDataFlattened",value:function(){if(this._getDataFlattenedCached&&this._getDataFlattenedCached[1]===this.br.data.length)return this._getDataFlattenedCached[0];var t=null,e=null,n=0,r=this.br.data.flatMap((function(r){return r.map((function(i){return i.pageSide||(i.pageSide=null===t?2===r.length?"L":"R":"L"===t?"R":"L"),t=i.pageSide,!1===i.viewable?i.unviewablesStart=null===e?e=n:e:e=null,n++,i}))}));return this._getDataFlattenedCached=[r,this.br.data.length],r}},{key:"_getDataProp",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,r=this._getDataFlattened();return isNaN(t)||t<0||t>=r.length||void 0===r[t][e]?n:r[t][e]}}])}(),M=function(){function t(e,n){E(this,t);var r=e._getDataProp(n,"ppi",e.ppi);this.ppi=Math.max(r<10?e.ppi:r,10),this.book=e,this.index=n,this.width=e.getPageWidth(n),this.widthInches=this.width/this.ppi,this.height=e.getPageHeight(n),this.heightInches=this.height/this.ppi,this.pageSide=e.getPageSide(n),this.leafNum=e._getDataProp(n,"leafNum",this.index),this.isViewable=e._getDataProp(n,"viewable",!0),this.unviewablesStart=e._getDataProp(n,"unviewablesStart")||null,this.isConsecutiveUnviewable=!this.isViewable&&this.unviewablesStart!=this.index,this._rawData=this.book._getDataFlattened()[this.index]}return T(t,[{key:"makeViewable",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(this.isViewable!=t)if(t){this._rawData.viewable=!0,delete this._rawData.unviewablesStart;var e,n=S(this.book.pagesIterator({start:this.index+1}));try{for(n.s();!(e=n.n()).done;){var r=e.value;if(r.isViewable)break;r._rawData.unviewablesStart=this.index+1}}catch(t){n.e(t)}finally{n.f()}}else{this._rawData.viewable=!1,this._rawData.unviewablesStart=this.prev&&!this.prev.isViewable?this.prev.unviewablesStart:this.index;var i,o=S(this.book.pagesIterator({start:this.index+1}));try{for(o.s();!(i=o.n()).done;){var a=i.value;if(!a.isViewable)break;a._rawData.unviewablesStart=this._rawData.unviewablesStart}}catch(t){o.e(t)}finally{o.f()}}}},{key:"prev",get:function(){return this.findPrev()}},{key:"next",get:function(){return this.findNext()}},{key:"left",get:function(){return"lr"===this.book.pageProgression?this.prev:this.next}},{key:"right",get:function(){return"lr"===this.book.pageProgression?this.next:this.prev}},{key:"spread",get:function(){return{left:"L"===this.pageSide?this:this.left,right:"R"===this.pageSide?this:this.right}}},{key:"goLeft",value:function(t){var e="lr"===this.book.pageProgression?this.index-t:this.index+t;return this.book.getPage(e)}},{key:"goRight",value:function(t){var e="lr"===this.book.pageProgression?this.index+t:this.index-t;return this.book.getPage(e)}},{key:"getURI",value:function(t,e){return this.book.getPageURI(this.index,t,e)}},{key:"getURISrcSet",value:function(t){for(var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=this.book.reduceSet,i=r.floor(t),o=[],a=r.decr(i);a>=1;a=r.decr(a))o.push(a);return o.map((function(t){return"".concat(e.getURI(t,n)," ").concat(i/t,"x")})).join(", ")}},{key:"findNext",value:function(){var t=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).combineConsecutiveUnviewables,e=void 0!==t&&t;return this.book.pagesIterator({start:this.index+1,combineConsecutiveUnviewables:e}).next().value}},{key:"findPrev",value:function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).combineConsecutiveUnviewables,n=void 0!==e&&e;if(0!=this.index){if(n){if(this.isConsecutiveUnviewable)return this.book.getPage(this.unviewablesStart);var r=new t(this.book,this.index-1);return r.isViewable?r:r.findPrev({combineConsecutiveUnviewables:n})}return new t(this.book,this.index-1)}}},{key:"findLeft",value:function(){var t=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).combineConsecutiveUnviewables,e=void 0!==t&&t;return"lr"===this.book.pageProgression?this.findPrev({combineConsecutiveUnviewables:e}):this.findNext({combineConsecutiveUnviewables:e})}},{key:"findRight",value:function(){var t=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).combineConsecutiveUnviewables,e=void 0!==t&&t;return"lr"===this.book.pageProgression?this.findNext({combineConsecutiveUnviewables:e}):this.findPrev({combineConsecutiveUnviewables:e})}}])}(),A=(r(4554),r(9085),r(2811),r(3851),r(888),r(9696)),R=r(420),I=r(8900),L=(r(5914),r(2617)),D=r.n(L),N=r(542);function $(t){return $="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$(t)}function F(){F=function(){return e};var t,e={},n=Object.prototype,r=n.hasOwnProperty,i=Object.defineProperty||function(t,e,n){t[e]=n.value},o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",s=o.asyncIterator||"@@asyncIterator",u=o.toStringTag||"@@toStringTag";function c(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(t){c=function(t,e,n){return t[e]=n}}function l(t,e,n,r){var o=e&&e.prototype instanceof m?e:m,a=Object.create(o.prototype),s=new j(r||[]);return i(a,"_invoke",{value:E(t,n,s)}),a}function f(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var h="suspendedStart",d="suspendedYield",p="executing",v="completed",g={};function m(){}function y(){}function b(){}var w={};c(w,a,(function(){return this}));var x=Object.getPrototypeOf,_=x&&x(x(M([])));_&&_!==n&&r.call(_,a)&&(w=_);var k=b.prototype=m.prototype=Object.create(w);function S(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function P(t,e){function n(i,o,a,s){var u=f(t[i],t,o);if("throw"!==u.type){var c=u.arg,l=c.value;return l&&"object"==$(l)&&r.call(l,"__await")?e.resolve(l.__await).then((function(t){n("next",t,a,s)}),(function(t){n("throw",t,a,s)})):e.resolve(l).then((function(t){c.value=t,a(c)}),(function(t){return n("throw",t,a,s)}))}s(u.arg)}var o;i(this,"_invoke",{value:function(t,r){function i(){return new e((function(e,i){n(t,r,e,i)}))}return o=o?o.then(i,i):i()}})}function E(e,n,r){var i=h;return function(o,a){if(i===p)throw Error("Generator is already running");if(i===v){if("throw"===o)throw a;return{value:t,done:!0}}for(r.method=o,r.arg=a;;){var s=r.delegate;if(s){var u=O(s,r);if(u){if(u===g)continue;return u}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(i===h)throw i=v,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);i=p;var c=f(e,n,r);if("normal"===c.type){if(i=r.done?v:d,c.arg===g)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(i=v,r.method="throw",r.arg=c.arg)}}}function O(e,n){var r=n.method,i=e.iterator[r];if(i===t)return n.delegate=null,"throw"===r&&e.iterator.return&&(n.method="return",n.arg=t,O(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),g;var o=f(i,e.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,g;var a=o.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,g):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,g)}function T(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function C(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function j(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(T,this),this.reset(!0)}function M(e){if(e||""===e){var n=e[a];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var i=-1,o=function n(){for(;++i<e.length;)if(r.call(e,i))return n.value=e[i],n.done=!1,n;return n.value=t,n.done=!0,n};return o.next=o}}throw new TypeError($(e)+" is not iterable")}return y.prototype=b,i(k,"constructor",{value:b,configurable:!0}),i(b,"constructor",{value:y,configurable:!0}),y.displayName=c(b,u,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===y||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,c(t,u,"GeneratorFunction")),t.prototype=Object.create(k),t},e.awrap=function(t){return{__await:t}},S(P.prototype),c(P.prototype,s,(function(){return this})),e.AsyncIterator=P,e.async=function(t,n,r,i,o){void 0===o&&(o=Promise);var a=new P(l(t,n,r,i),o);return e.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},S(k),c(k,u,"Generator"),c(k,a,(function(){return this})),c(k,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},e.values=M,j.prototype={constructor:j,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(C),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function i(r,i){return s.type="throw",s.arg=e,n.next=r,i&&(n.method="next",n.arg=t),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],s=a.completion;if("root"===a.tryLoc)return i("end");if(a.tryLoc<=this.prev){var u=r.call(a,"catchLoc"),c=r.call(a,"finallyLoc");if(u&&c){if(this.prev<a.catchLoc)return i(a.catchLoc,!0);if(this.prev<a.finallyLoc)return i(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return i(a.catchLoc,!0)}else{if(!c)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return i(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,g):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),g},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),C(n),g}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var i=r.arg;C(n)}return i}}throw Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:M(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),g}},e}function B(t,e,n,r,i,o,a){try{var s=t[o](a),u=s.value}catch(t){return void n(t)}s.done?e(u):Promise.resolve(u).then(r,i)}function U(t){return function(){var e=this,n=arguments;return new Promise((function(r,i){var o=t.apply(e,n);function a(t){B(o,r,i,a,s,"next",t)}function s(t){B(o,r,i,a,s,"throw",t)}a(void 0)}))}}function z(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function W(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,G(r.key),r)}}function H(t,e,n){return e&&W(t.prototype,e),n&&W(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function V(t,e,n){return(e=G(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function G(t){var e=function(t,e){if("object"!=$(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!=$(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==$(e)?e:e+""}var Y=function(){return H((function e(n){var r=this;z(this,e),V(this,"scaleCenter",{x:.5,y:.5}),V(this,"_preventEvent",(function(t){return t.preventDefault(),!1})),V(this,"_pinchStart",U(F().mark((function e(){var n,i;return F().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!r.pinching){e.next=2;break}return e.abrupt("return");case 2:if(!(0,N.un)()){e.next=7;break}return e.next=5,(0,t.sleep)(0);case 5:if(!(r.touchesMonitor.touches<2)){e.next=7;break}return e.abrupt("return");case 7:r.pinching=!0,r.oldScale=1,r.mode.$visibleWorld.classList.add("BRsmooth-zooming"),r.mode.$visibleWorld.style.willChange="transform",r.mode.autoFit="none",r.detachCtrlZoom(),null===(n=(i=r.mode).detachScrollListeners)||void 0===n||n.call(i),r.interact.gesturable({listeners:{start:r._pinchStart,move:r._pinchMove,end:r._pinchEnd}});case 15:case"end":return e.stop()}}),e)})))),V(this,"_pinchMove",function(){var t=U(F().mark((function t(e){return F().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r.pinching){t.next=2;break}return t.abrupt("return");case 2:r.lastEvent={scale:e.scale,clientX:e.clientX,clientY:e.clientY},r.pinchMoveFrame||(r.pinchMoveFrame=r.bufferFn(r._drawPinchZoomFrame));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),V(this,"_pinchEnd",U(F().mark((function t(){var e,n;return F().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r.pinching){t.next=2;break}return t.abrupt("return");case 2:return r.pinching=!1,r.interact.gesturable({listeners:{start:r._pinchStart,end:r._pinchEnd}}),t.next=6,r.pinchMoveFramePromise;case 6:r.scaleCenter={x:.5,y:.5},r.oldScale=1,r.mode.$visibleWorld.classList.remove("BRsmooth-zooming"),r.mode.$visibleWorld.style.willChange="auto",r.attachCtrlZoom(),null===(e=(n=r.mode).attachScrollListeners)||void 0===e||e.call(n);case 12:case"end":return t.stop()}}),t)})))),V(this,"_drawPinchZoomFrame",U(F().mark((function t(){var e,n;return F().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r.pinching){t.next=3;break}return r.pinchMoveFrame=null,t.abrupt("return");case 3:if(r.mode.$container.style.overflow="hidden",r.pinchMoveFramePromiseRes=null,r.pinchMoveFramePromise=new Promise((function(t){return r.pinchMoveFramePromiseRes=t})),r.updateScaleCenter({clientX:r.lastEvent.clientX,clientY:r.lastEvent.clientY}),e=r.mode.scale,n=e*r.lastEvent.scale/r.oldScale,e==n){t.next=13;break}return r.mode.scale=n,t.next=13,r.pinchMoveFramePromise;case 13:r.mode.$container.style.overflow="auto",r.oldScale=r.lastEvent.scale,r.pinchMoveFrame=null;case 16:case"end":return t.stop()}}),t)})))),V(this,"_dragMove",function(){var t=U(F().mark((function t(e){return F().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!r.pinching){t.next=3;break}return t.next=3,r._pinchEnd();case 3:r.mode.$container.scrollTop-=e.dy,r.mode.$container.scrollLeft-=e.dx;case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),V(this,"_handleCtrlWheel",(function(t){if(t.ctrlKey){t.preventDefault();var e=/Mac/i.test(navigator.platform)?.045:.03;r.updateScaleCenter(t),r.mode.autoFit="none",r.mode.scale*=1-Math.sign(t.deltaY)*e}})),this.mode=n,this.pinching=!1,this.pinchMoveFrame=null,this.pinchMoveFramePromise=Promise.resolve(),this.oldScale=1,this.lastEvent=null,this.attached=!1,this.bufferFn=window.requestAnimationFrame.bind(window)}),[{key:"attach",value:function(){this.attached||(this.attachCtrlZoom(),this.mode.$container.addEventListener("gesturestart",this._pinchStart),this.mode.$container.addEventListener("gesturechange",this._preventEvent),this.mode.$container.addEventListener("gestureend",this._pinchEnd),(0,N.un)()&&(this.touchesMonitor=new X(this.mode.$container),this.touchesMonitor.attach()),this.mode.$container.style.touchAction="pan-x pan-y",this.interact=D()(this.mode.$container),this.interact.gesturable({listeners:{start:this._pinchStart,end:this._pinchEnd}}),(0,N.ij)()&&(this.mode.$container.style.touchAction="none",this.interact.draggable({inertia:{resistance:2,minSpeed:100,allowResume:!0},listeners:{move:this._dragMove}})),this.attached=!0)}},{key:"detach",value:function(){var t,e;this.detachCtrlZoom(),this.mode.$container.removeEventListener("gesturestart",this._pinchStart),this.mode.$container.removeEventListener("gesturechange",this._preventEvent),this.mode.$container.removeEventListener("gestureend",this._pinchEnd),null===(t=this.touchesMonitor)||void 0===t||null===(e=t.detach)||void 0===e||e.call(t),this.interact.unset(),D().removeDocument(document),this.attached=!1}},{key:"attachCtrlZoom",value:function(){window.addEventListener("wheel",this._handleCtrlWheel,{passive:!1})}},{key:"detachCtrlZoom",value:function(){window.removeEventListener("wheel",this._handleCtrlWheel)}},{key:"updateScaleCenter",value:function(t){var e=t.clientX,n=t.clientY,r=this.mode.htmlDimensionsCacher.boundingClientRect;this.scaleCenter={x:(e-r.left)/this.mode.htmlDimensionsCacher.clientWidth,y:(n-r.top)/this.mode.htmlDimensionsCacher.clientHeight}}},{key:"updateViewportOnZoom",value:function(t,e){var n,r=this.mode.$container,i=r.scrollTop,o=r.scrollLeft,a=this.mode.htmlDimensionsCacher.clientWidth,s=this.mode.htmlDimensionsCacher.clientHeight,u=t/e,c=this.scaleCenter.x,l=this.scaleCenter.y,f=u*(o+c*a),h=u*(i+l*s);r.scrollTop=h-l*s,r.scrollLeft=f-c*a,null===(n=this.pinchMoveFramePromiseRes)||void 0===n||n.call(this)}}])}(),X=function(){return H((function t(e){var n=this;z(this,t),V(this,"_updateTouchCount",(function(t){n.touches=t.touches.length})),this.container=e,this.touches=0}),[{key:"attach",value:function(){this.container.addEventListener("touchstart",this._updateTouchCount),this.container.addEventListener("touchend",this._updateTouchCount)}},{key:"detach",value:function(){this.container.removeEventListener("touchstart",this._updateTouchCount),this.container.removeEventListener("touchend",this._updateTouchCount)}}])}();function q(t){return q="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},q(t)}function Z(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,J(r.key),r)}}function K(t,e,n){return(e=J(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function J(t){var e=function(t,e){if("object"!=q(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!=q(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==q(e)?e:e+""}var Q=function(){return e=function e(n){var r=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),K(this,"clientWidth",100),K(this,"clientHeight",100),K(this,"boundingClientRect",{top:0,left:0}),K(this,"updateClientSizes",(function(){var t=r.element.getBoundingClientRect();r.clientWidth=r.element.clientWidth,r.clientHeight=r.element.clientHeight,r.boundingClientRect.top=t.top,r.boundingClientRect.left=t.left})),K(this,"debouncedUpdateClientSizes",(0,t.debounce)(this.updateClientSizes,150,!1)),this.element=n},n=[{key:"attachResizeListener",value:function(){(arguments.length>0&&void 0!==arguments[0]?arguments[0]:window).addEventListener("resize",this.debouncedUpdateClientSizes)}},{key:"detachResizeListener",value:function(){(arguments.length>0&&void 0!==arguments[0]?arguments[0]:window).removeEventListener("resize",this.debouncedUpdateClientSizes)}}],n&&Z(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,n}();function tt(t){return tt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},tt(t)}function et(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,nt(r.key),r)}}function nt(t){var e=function(t,e){if("object"!=tt(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!=tt(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==tt(e)?e:e+""}var rt=function(){return t=function t(e,n){var r,i,o,a=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,o=function(){a.element.classList.add(a.className),clearTimeout(a.timeout),a.timeout=setTimeout((function(){a.element.classList.remove(a.className)}),600)},(i=nt(i="onScroll"))in r?Object.defineProperty(r,i,{value:o,enumerable:!0,configurable:!0,writable:!0}):r[i]=o,this.element=e,this.className=n,this.timeout=null},(e=[{key:"attach",value:function(){this.element.addEventListener("scroll",this.onScroll)}},{key:"detach",value:function(){this.element.removeEventListener("scroll",this.onScroll)}}])&&et(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e}();function it(t){return it="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},it(t)}function ot(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,ut(r.key),r)}}function at(t,e,n){return e&&ot(t.prototype,e),n&&ot(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function st(t,e,n){return(e=ut(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ut(t){var e=function(t,e){if("object"!=it(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!=it(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==it(e)?e:e+""}var ct,lt=at((function e(n){var r=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),st(this,"screenDPI",(0,t.calcScreenDPI)()),st(this,"worldUnitsToRenderedPixels",(function(t){return t*r.screenDPI})),st(this,"renderedPixelsToWorldUnits",(function(t){return t/r.screenDPI})),st(this,"renderedPixelsToVisiblePixels",(function(t){return t*r.mode.scale})),st(this,"visiblePixelsToRenderedPixels",(function(t){return t/r.mode.scale})),st(this,"worldUnitsToVisiblePixels",(function(t){return r.renderedPixelsToVisiblePixels(r.worldUnitsToRenderedPixels(t))})),st(this,"visiblePixelsToWorldUnits",(function(t){return r.renderedPixelsToWorldUnits(r.visiblePixelsToRenderedPixels(t))})),this.mode=n}));function ft(t){return ft="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ft(t)}function ht(t){return function(t){if(Array.isArray(t))return Pt(t)}(t)||Et(t)||St(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function dt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,kt(r.key),r)}}function pt(t,e,n){return e=Ct(e),function(t,e){if(e&&("object"==ft(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,vt()?Reflect.construct(e,n||[],Ct(t).constructor):e.apply(t,n))}function vt(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(vt=function(){return!!t})()}function gt(t,e){return gt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},gt(t,e)}function mt(){mt=function(){return t};var t={elementsDefinitionOrder:[["method"],["field"]],initializeInstanceElements:function(t,e){["method","field"].forEach((function(n){e.forEach((function(e){e.kind===n&&"own"===e.placement&&this.defineClassElement(t,e)}),this)}),this)},initializeClassElements:function(t,e){var n=t.prototype;["method","field"].forEach((function(r){e.forEach((function(e){var i=e.placement;if(e.kind===r&&("static"===i||"prototype"===i)){var o="static"===i?t:n;this.defineClassElement(o,e)}}),this)}),this)},defineClassElement:function(t,e){var n=e.descriptor;if("field"===e.kind){var r=e.initializer;n={enumerable:n.enumerable,writable:n.writable,configurable:n.configurable,value:void 0===r?void 0:r.call(t)}}Object.defineProperty(t,e.key,n)},decorateClass:function(t,e){var n=[],r=[],i={static:[],prototype:[],own:[]};if(t.forEach((function(t){this.addElementPlacement(t,i)}),this),t.forEach((function(t){if(!wt(t))return n.push(t);var e=this.decorateElement(t,i);n.push(e.element),n.push.apply(n,e.extras),r.push.apply(r,e.finishers)}),this),!e)return{elements:n,finishers:r};var o=this.decorateConstructor(n,e);return r.push.apply(r,o.finishers),o.finishers=r,o},addElementPlacement:function(t,e,n){var r=e[t.placement];if(!n&&-1!==r.indexOf(t.key))throw new TypeError("Duplicated element ("+t.key+")");r.push(t.key)},decorateElement:function(t,e){for(var n=[],r=[],i=t.decorators,o=i.length-1;o>=0;o--){var a=e[t.placement];a.splice(a.indexOf(t.key),1);var s=this.fromElementDescriptor(t),u=this.toElementFinisherExtras((0,i[o])(s)||s);t=u.element,this.addElementPlacement(t,e),u.finisher&&r.push(u.finisher);var c=u.extras;if(c){for(var l=0;l<c.length;l++)this.addElementPlacement(c[l],e);n.push.apply(n,c)}}return{element:t,finishers:r,extras:n}},decorateConstructor:function(t,e){for(var n=[],r=e.length-1;r>=0;r--){var i=this.fromClassDescriptor(t),o=this.toClassDescriptor((0,e[r])(i)||i);if(void 0!==o.finisher&&n.push(o.finisher),void 0!==o.elements){t=o.elements;for(var a=0;a<t.length-1;a++)for(var s=a+1;s<t.length;s++)if(t[a].key===t[s].key&&t[a].placement===t[s].placement)throw new TypeError("Duplicated element ("+t[a].key+")")}}return{elements:t,finishers:n}},fromElementDescriptor:function(t){var e={kind:t.kind,key:t.key,placement:t.placement,descriptor:t.descriptor};return Object.defineProperty(e,Symbol.toStringTag,{value:"Descriptor",configurable:!0}),"field"===t.kind&&(e.initializer=t.initializer),e},toElementDescriptors:function(t){if(void 0!==t)return(e=t,function(t){if(Array.isArray(t))return t}(e)||Et(e)||St(e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()).map((function(t){var e=this.toElementDescriptor(t);return this.disallowProperty(t,"finisher","An element descriptor"),this.disallowProperty(t,"extras","An element descriptor"),e}),this);var e},toElementDescriptor:function(t){var e=t.kind+"";if("method"!==e&&"field"!==e)throw new TypeError('An element descriptor\'s .kind property must be either "method" or "field", but a decorator created an element descriptor with .kind "'+e+'"');var n=kt(t.key),r=t.placement+"";if("static"!==r&&"prototype"!==r&&"own"!==r)throw new TypeError('An element descriptor\'s .placement property must be one of "static", "prototype" or "own", but a decorator created an element descriptor with .placement "'+r+'"');var i=t.descriptor;this.disallowProperty(t,"elements","An element descriptor");var o={kind:e,key:n,placement:r,descriptor:Object.assign({},i)};return"field"!==e?this.disallowProperty(t,"initializer","A method descriptor"):(this.disallowProperty(i,"get","The property descriptor of a field descriptor"),this.disallowProperty(i,"set","The property descriptor of a field descriptor"),this.disallowProperty(i,"value","The property descriptor of a field descriptor"),o.initializer=t.initializer),o},toElementFinisherExtras:function(t){return{element:this.toElementDescriptor(t),finisher:_t(t,"finisher"),extras:this.toElementDescriptors(t.extras)}},fromClassDescriptor:function(t){var e={kind:"class",elements:t.map(this.fromElementDescriptor,this)};return Object.defineProperty(e,Symbol.toStringTag,{value:"Descriptor",configurable:!0}),e},toClassDescriptor:function(t){var e=t.kind+"";if("class"!==e)throw new TypeError('A class descriptor\'s .kind property must be "class", but a decorator created a class descriptor with .kind "'+e+'"');this.disallowProperty(t,"key","A class descriptor"),this.disallowProperty(t,"placement","A class descriptor"),this.disallowProperty(t,"descriptor","A class descriptor"),this.disallowProperty(t,"initializer","A class descriptor"),this.disallowProperty(t,"extras","A class descriptor");var n=_t(t,"finisher");return{elements:this.toElementDescriptors(t.elements),finisher:n}},runClassFinishers:function(t,e){for(var n=0;n<e.length;n++){var r=(0,e[n])(t);if(void 0!==r){if("function"!=typeof r)throw new TypeError("Finishers must return a constructor.");t=r}}return t},disallowProperty:function(t,e,n){if(void 0!==t[e])throw new TypeError(n+" can't have a ."+e+" property.")}};return t}function yt(t){var e,n=kt(t.key);"method"===t.kind?e={value:t.value,writable:!0,configurable:!0,enumerable:!1}:"get"===t.kind?e={get:t.value,configurable:!0,enumerable:!1}:"set"===t.kind?e={set:t.value,configurable:!0,enumerable:!1}:"field"===t.kind&&(e={configurable:!0,writable:!0,enumerable:!0});var r={kind:"field"===t.kind?"field":"method",key:n,placement:t.static?"static":"field"===t.kind?"own":"prototype",descriptor:e};return t.decorators&&(r.decorators=t.decorators),"field"===t.kind&&(r.initializer=t.value),r}function bt(t,e){void 0!==t.descriptor.get?e.descriptor.get=t.descriptor.get:e.descriptor.set=t.descriptor.set}function wt(t){return t.decorators&&t.decorators.length}function xt(t){return void 0!==t&&!(void 0===t.value&&void 0===t.writable)}function _t(t,e){var n=t[e];if(void 0!==n&&"function"!=typeof n)throw new TypeError("Expected '"+e+"' to be a function");return n}function kt(t){var e=function(t,e){if("object"!=ft(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!=ft(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==ft(e)?e:e+""}function St(t,e){if(t){if("string"==typeof t)return Pt(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Pt(t,e):void 0}}function Pt(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function Et(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}function Ot(t,e,n,r){var i=Tt(Ct(1&r?t.prototype:t),e,n);return 2&r&&"function"==typeof i?function(t){return i.apply(n,t)}:i}function Tt(){return Tt="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=function(t,e){for(;!{}.hasOwnProperty.call(t,e)&&null!==(t=Ct(t)););return t}(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(arguments.length<3?t:n):i.value}},Tt.apply(null,arguments)}function Ct(t){return Ct=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Ct(t)}var jt,Mt,At,Rt,It,Lt=(jt=[(0,A.EM)("br-mode-1up")],Mt=R.WF,At=mt(),Rt=function(e,n){var r=function(t){function n(t,r){var i;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,n),i=pt(this,n),e(i),i.book=t,i.br=r,i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&gt(t,e)}(n,t),function(t,e,n){return e&&dt(t.prototype,e),n&&dt(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}(n)}(n);return{F:r,d:[{kind:"field",key:"br",value:void 0},{kind:"field",decorators:[(0,A.MZ)({type:Object})],key:"book",value:void 0},{kind:"field",decorators:[(0,A.MZ)({type:Array})],key:"pages",value:function(){return[]}},{kind:"field",decorators:[(0,A.MZ)({type:Object})],key:"pageTops",value:function(){return{}}},{kind:"field",key:"coordSpace",value:function(){return new lt(this)}},{kind:"field",decorators:[(0,A.MZ)({type:Number})],key:"scale",value:function(){return 1}},{kind:"field",decorators:[(0,A.MZ)({type:Object})],key:"visibleRegion",value:function(){return{top:0,left:0,width:100,height:100}}},{kind:"field",decorators:[(0,A.MZ)({type:Array,hasChanged:t.arrChanged})],key:"visiblePages",value:function(){return[]}},{kind:"field",decorators:[(0,A.MZ)({type:Array})],key:"renderedPages",value:function(){return[]}},{kind:"field",key:"pageContainerCache",value:function(){return{}}},{kind:"field",decorators:[(0,A.P)(".br-mode-1up__world")],key:"$world",value:void 0},{kind:"field",key:"worldDimensions",value:function(){return{width:100,height:100}}},{kind:"get",key:"worldStyle",value:function(){var t=this.coordSpace.worldUnitsToRenderedPixels;return{width:t(this.worldDimensions.width)+"px",height:t(this.worldDimensions.height)+"px"}}},{kind:"get",key:"$container",value:function(){return this}},{kind:"field",decorators:[(0,A.P)(".br-mode-1up__visible-world")],key:"$visibleWorld",value:void 0},{kind:"field",key:"htmlDimensionsCacher",value:function(){return new Q(this)}},{kind:"field",key:"smoothZoomer",value:function(){return new Y(this)}},{kind:"field",key:"scrollClassAdder",value:function(){return new rt(this,"BRscrolling-active")}},{kind:"field",key:"SPACING_IN",value:function(){return.2}},{kind:"field",key:"ZOOM_FACTOR",value:function(){return 1.1}},{kind:"method",key:"jumpToIndex",value:function(t){var e=this,n=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).smooth,r=void 0!==n&&n;r&&(this.style.scrollBehavior="smooth"),this.scrollTop=this.coordSpace.worldUnitsToVisiblePixels(this.pageTops[t]-this.SPACING_IN/2),r&&setTimeout((function(){return e.style.scrollBehavior=""}),100)}},{kind:"method",key:"zoomIn",value:function(){this.scale*=this.ZOOM_FACTOR}},{kind:"method",key:"zoomOut",value:function(){this.scale*=1/this.ZOOM_FACTOR}},{kind:"method",key:"firstUpdated",value:function(t){Ot(r,"firstUpdated",this,3)([t]),this.htmlDimensionsCacher.updateClientSizes(),this.smoothZoomer.attach()}},{kind:"method",key:"initFirstRender",value:function(t){var e=this.book.getPage(t);this.scale=this.computeDefaultScale(e)}},{kind:"method",key:"updated",value:function(t){if(t.has("book")&&this.updatePages(),t.has("pages")&&(this.worldDimensions=this.computeWorldDimensions(),this.pageTops=this.computePageTops(this.pages,this.SPACING_IN)),t.has("visibleRegion")&&(this.visiblePages=this.computeVisiblePages()),t.has("visiblePages")&&(this.throttledUpdateRenderedPages(),this.visiblePages.length&&(this.br.displayedIndices=this.visiblePages.map((function(t){return t.index})),this.br.updateFirstIndex(this.br.displayedIndices[0]),this.br._components.navbar.updateNavIndexThrottled())),t.has("scale")){var e=t.get("scale");this.$visibleWorld.style.transform="scale(".concat(this.scale,")"),this.smoothZoomer.updateViewportOnZoom(this.scale,e),this.updateVisibleRegion(),this.$world.style.transform="scale(".concat(this.scale,")")}}},{kind:"method",key:"updatePages",value:function(){this.pages=(0,t.genToArray)(this.book.pagesIterator({combineConsecutiveUnviewables:!0}))}},{kind:"method",key:"connectedCallback",value:function(){Ot(r,"connectedCallback",this,3)([]),this.htmlDimensionsCacher.attachResizeListener(),this.attachScrollListeners(),this.smoothZoomer.attach()}},{kind:"method",key:"disconnectedCallback",value:function(){this.htmlDimensionsCacher.detachResizeListener(),this.detachScrollListeners(),this.smoothZoomer.detach(),Ot(r,"disconnectedCallback",this,3)([])}},{kind:"method",key:"createRenderRoot",value:function(){return this}},{kind:"method",key:"render",value:function(){var t=this;return(0,R.qy)(ct||(ct=function(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}(['\n      <div class="br-mode-1up__world" style=','></div>\n      <div class="br-mode-1up__visible-world">\n        ',"\n      </div>"])),(0,I.W)(this.worldStyle),this.renderedPages.map((function(e){return t.renderPage(e)})))}},{kind:"field",key:"createPageContainer",value:function(){var t=this;return function(e){return t.pageContainerCache[e.index]||(t.pageContainerCache[e.index]=t.br._createPageContainer(e.index))}}},{kind:"field",key:"renderPage",value:function(){var t=this;return function(e){var n=t.coordSpace.worldUnitsToRenderedPixels,r=t.coordSpace.worldUnitsToVisiblePixels,i=t.coordSpace.visiblePixelsToWorldUnits(t.htmlDimensionsCacher.clientWidth),o=n(e.widthInches),a=n(e.heightInches),s=Math.max(t.SPACING_IN,(i-e.widthInches)/2),u=t.pageTops[e.index],c="translate(".concat(n(s),"px, ").concat(n(u),"px)"),l=t.createPageContainer(e).update({dimensions:{width:o,height:a,top:0,left:0},reduce:e.width/r(e.widthInches)}).$container[0];return l.style.transform=c,l.classList.toggle("BRpage-visible",t.visiblePages.includes(e)),l}}},{kind:"field",key:"updateVisibleRegion",value:function(){var t=this;return function(){var e=t.scrollTop,n=t.scrollLeft,r=t.htmlDimensionsCacher.clientWidth,i=t.htmlDimensionsCacher.clientHeight,o=t.coordSpace.visiblePixelsToWorldUnits;t.visibleRegion={top:o(e),height:o(i),left:o(n),width:o(r)}}}},{kind:"method",key:"computeRenderedPages",value:function(){var t,e;return[null===(t=this.visiblePages[0])||void 0===t?void 0:t.prev].concat(ht(this.visiblePages),[null===(e=this.visiblePages[this.visiblePages.length-1])||void 0===e?void 0:e.next]).filter((function(t){return t})).slice(0,10)}},{kind:"field",key:"throttledUpdateRenderedPages",value:function(){var e=this;return(0,t.throttle)((function(){e.renderedPages=e.computeRenderedPages(),e.requestUpdate()}),100,null)}},{kind:"method",key:"computePageTops",value:function(t,e){var n,r={},i=e,o=function(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=St(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}(t);try{for(o.s();!(n=o.n()).done;){var a=n.value;r[a.index]=i,i+=a.heightInches+e}}catch(t){o.e(t)}finally{o.f()}return r}},{kind:"method",key:"computeDefaultScale",value:function(t){var e=this.coordSpace.renderedPixelsToWorldUnits(this.clientWidth);return Math.min(1,e/(t.widthInches+2*this.SPACING_IN))||1}},{kind:"method",key:"computeWorldDimensions",value:function(){return{width:Math.max.apply(Math,ht(this.pages.map((function(t){return t.widthInches}))))+2*this.SPACING_IN,height:(0,t.sum)(this.pages.map((function(t){return t.heightInches})))+(this.pages.length+1)*this.SPACING_IN}}},{kind:"method",key:"computeVisiblePages",value:function(){var t=this;return this.pages.filter((function(e){var n=t.pageTops[e.index],r=n+e.heightInches,i=t.visibleRegion.top;return n<=i+t.visibleRegion.height&&r>=i}))}},{kind:"field",key:"attachScrollListeners",value:function(){var t=this;return function(){t.addEventListener("scroll",t.updateVisibleRegion),t.scrollClassAdder.attach()}}},{kind:"field",key:"detachScrollListeners",value:function(){var t=this;return function(){t.removeEventListener("scroll",t.updateVisibleRegion),t.scrollClassAdder.detach()}}}]}}((function(t){At.initializeInstanceElements(t,It.elements)}),Mt),It=At.decorateClass(function(t){for(var e=[],n=function(t){return"method"===t.kind&&t.key===o.key&&t.placement===o.placement},r=0;r<t.length;r++){var i,o=t[r];if("method"===o.kind&&(i=e.find(n)))if(xt(o.descriptor)||xt(i.descriptor)){if(wt(o)||wt(i))throw new ReferenceError("Duplicated methods ("+o.key+") can't be decorated.");i.descriptor=o.descriptor}else{if(wt(o)){if(wt(i))throw new ReferenceError("Decorators can't be placed on different accessors with for the same property ("+o.key+").");i.decorators=o.decorators}bt(o,i)}else e.push(o)}return e}(Rt.d.map(yt)),jt),At.initializeClassElements(Rt.F,It.elements),At.runClassFinishers(Rt.F,It.finishers)),Dt=r(1669);function Nt(t){return Nt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Nt(t)}function $t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Bt(r.key),r)}}function Ft(t,e,n){return(e=Bt(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Bt(t){var e=function(t,e){if("object"!=Nt(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!=Nt(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==Nt(e)?e:e+""}function Ut(t,e){return t.split(" ").map((function(t){return t+e})).join(" ")}function zt(t){var e,n;return void 0!==t.clientX?(e=t.clientX,n=t.clientY):void 0!==t.screenX?(e=t.screenX,n=t.screenY):void 0!==t.targetTouches?(e=t.targetTouches[0].pageX,n=t.targetTouches[0].pageY):void 0===t.originalEvent?console.error("don't understand x and y for "+t.type,t):void 0!==t.originalEvent.clientX?(e=t.originalEvent.clientX,n=t.originalEvent.clientY):void 0!==t.originalEvent.screenX?(e=t.originalEvent.screenX,n=t.originalEvent.screenY):void 0!==t.originalEvent.targetTouches&&(e=t.originalEvent.targetTouches[0].pageX,n=t.originalEvent.targetTouches[0].pageY),{left:e,top:n}}var Wt={dragSelector:">:first",acceptPropagatedEvent:!0,preventDefault:!0,dragstart:"mousedown touchstart",dragcontinue:"mousemove touchmove",dragend:"mouseup touchend",dragMinDistance:5,namespace:".ds",scrollWindow:!1},Ht=function(){return function(t,e,n){return e&&$t(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}((function t(e){var n=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),Ft(this,"_dragStartHandler",(function(t){return!!n._shouldAbort()||!(t.which>1||!n.settings.acceptPropagatedEvent&&t.target!=n.handling_element[0])&&(n.lastCoord=n.firstCoord=zt(t),n.handling_element.on(n.settings.dragcontinue,n._dragContinueHandler),n.settings.dragend.split(" ").forEach((function(t){n.handling_element[0].addEventListener(t,n._dragEndHandler,!0)})),n.settings.preventDefault?(t.preventDefault(),!1):void 0)})),Ft(this,"_dragContinueHandler",(function(t){if(n._shouldAbort())return!0;var e=zt(t),r=e.left-n.lastCoord.left,i=e.top-n.lastCoord.top,o=n.settings.scrollWindow?Dt(window):n.handling_element;return o.scrollLeft(o.scrollLeft()-r),o.scrollTop(o.scrollTop()-i),n.lastCoord=e,n.settings.preventDefault?(t.preventDefault(),!1):void 0})),Ft(this,"_dragEndHandler",(function(t){if(n._shouldAbort())return!0;n.handling_element.off(n.settings.dragcontinue).off(n.settings.dragend),n.settings.dragend.split(" ").forEach((function(t){n.handling_element[0].removeEventListener(t,n._dragEndHandler,!0)}));var e={left:Math.abs(n.lastCoord.left-n.firstCoord.left),top:Math.abs(n.lastCoord.top-n.firstCoord.top)},r=Math.max(e.left,e.top);return n.settings.preventDefault&&r>n.settings.dragMinDistance?(t.preventDefault(),t.stopImmediatePropagation(),t.stopPropagation(),!1):void 0})),this.handling_element=Dt(e),this.settings=Dt.extend({},Wt,r||{}),this.firstCoord={left:0,top:0},this.lastCoord={left:0,top:0},this.settings.dragstart=Ut(this.settings.dragstart,this.settings.namespace),this.settings.dragcontinue=Ut(this.settings.dragcontinue,this.settings.namespace),this.handling_element.find(this.settings.dragSelector).on(this.settings.dragstart,this._dragStartHandler)}),[{key:"_shouldAbort",value:function(){return!!("ontouchstart"in window)||!!("msmaxtouchpoints"in window.navigator)}}])}(),Vt=r(1669);function Gt(t){return Gt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Gt(t)}function Yt(){Yt=function(){return e};var t,e={},n=Object.prototype,r=n.hasOwnProperty,i=Object.defineProperty||function(t,e,n){t[e]=n.value},o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",s=o.asyncIterator||"@@asyncIterator",u=o.toStringTag||"@@toStringTag";function c(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(t){c=function(t,e,n){return t[e]=n}}function l(t,e,n,r){var o=e&&e.prototype instanceof m?e:m,a=Object.create(o.prototype),s=new j(r||[]);return i(a,"_invoke",{value:E(t,n,s)}),a}function f(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var h="suspendedStart",d="suspendedYield",p="executing",v="completed",g={};function m(){}function y(){}function b(){}var w={};c(w,a,(function(){return this}));var x=Object.getPrototypeOf,_=x&&x(x(M([])));_&&_!==n&&r.call(_,a)&&(w=_);var k=b.prototype=m.prototype=Object.create(w);function S(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function P(t,e){function n(i,o,a,s){var u=f(t[i],t,o);if("throw"!==u.type){var c=u.arg,l=c.value;return l&&"object"==Gt(l)&&r.call(l,"__await")?e.resolve(l.__await).then((function(t){n("next",t,a,s)}),(function(t){n("throw",t,a,s)})):e.resolve(l).then((function(t){c.value=t,a(c)}),(function(t){return n("throw",t,a,s)}))}s(u.arg)}var o;i(this,"_invoke",{value:function(t,r){function i(){return new e((function(e,i){n(t,r,e,i)}))}return o=o?o.then(i,i):i()}})}function E(e,n,r){var i=h;return function(o,a){if(i===p)throw Error("Generator is already running");if(i===v){if("throw"===o)throw a;return{value:t,done:!0}}for(r.method=o,r.arg=a;;){var s=r.delegate;if(s){var u=O(s,r);if(u){if(u===g)continue;return u}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(i===h)throw i=v,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);i=p;var c=f(e,n,r);if("normal"===c.type){if(i=r.done?v:d,c.arg===g)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(i=v,r.method="throw",r.arg=c.arg)}}}function O(e,n){var r=n.method,i=e.iterator[r];if(i===t)return n.delegate=null,"throw"===r&&e.iterator.return&&(n.method="return",n.arg=t,O(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),g;var o=f(i,e.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,g;var a=o.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,g):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,g)}function T(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function C(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function j(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(T,this),this.reset(!0)}function M(e){if(e||""===e){var n=e[a];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var i=-1,o=function n(){for(;++i<e.length;)if(r.call(e,i))return n.value=e[i],n.done=!1,n;return n.value=t,n.done=!0,n};return o.next=o}}throw new TypeError(Gt(e)+" is not iterable")}return y.prototype=b,i(k,"constructor",{value:b,configurable:!0}),i(b,"constructor",{value:y,configurable:!0}),y.displayName=c(b,u,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===y||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,c(t,u,"GeneratorFunction")),t.prototype=Object.create(k),t},e.awrap=function(t){return{__await:t}},S(P.prototype),c(P.prototype,s,(function(){return this})),e.AsyncIterator=P,e.async=function(t,n,r,i,o){void 0===o&&(o=Promise);var a=new P(l(t,n,r,i),o);return e.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},S(k),c(k,u,"Generator"),c(k,a,(function(){return this})),c(k,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},e.values=M,j.prototype={constructor:j,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(C),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function i(r,i){return s.type="throw",s.arg=e,n.next=r,i&&(n.method="next",n.arg=t),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],s=a.completion;if("root"===a.tryLoc)return i("end");if(a.tryLoc<=this.prev){var u=r.call(a,"catchLoc"),c=r.call(a,"finallyLoc");if(u&&c){if(this.prev<a.catchLoc)return i(a.catchLoc,!0);if(this.prev<a.finallyLoc)return i(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return i(a.catchLoc,!0)}else{if(!c)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return i(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,g):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),g},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),C(n),g}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var i=r.arg;C(n)}return i}}throw Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:M(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),g}},e}function Xt(t,e,n,r,i,o,a){try{var s=t[o](a),u=s.value}catch(t){return void n(t)}s.done?e(u):Promise.resolve(u).then(r,i)}function qt(t){return function(){var e=this,n=arguments;return new Promise((function(r,i){var o=t.apply(e,n);function a(t){Xt(o,r,i,a,s,"next",t)}function s(t){Xt(o,r,i,a,s,"throw",t)}a(void 0)}))}}function Zt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Kt(r.key),r)}}function Kt(t){var e=function(t,e){if("object"!=Gt(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!=Gt(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==Gt(e)?e:e+""}var Jt,Qt,te,ee,ne,re,ie,oe,ae=function(){return function(t,e,n){return e&&Zt(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}((function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.br=e,this.book=n,this.mode1UpLit=new Lt(n,e),this.$el=Vt(this.mode1UpLit).addClass("br-mode-1up__root BRmode1up"),this.everShown=!1}),[{key:"$brContainer",get:function(){return this.br.refs.$brContainer}},{key:"prepare",value:function(){var t=this,e=this.br.currentIndex();this.$brContainer.empty().css({overflow:"hidden"}).append(this.$el),setTimeout(qt(Yt().mark((function n(){return Yt().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(t.everShown){n.next=7;break}return t.mode1UpLit.initFirstRender(e),t.everShown=!0,t.mode1UpLit.requestUpdate(),n.next=6,t.mode1UpLit.updateComplete;case 6:new Ht(t.mode1UpLit,{preventDefault:!0,dragSelector:".br-mode-1up__visible-world",dragstart:"mousedown",dragcontinue:"mousemove",dragend:"mouseup"});case 7:t.mode1UpLit.jumpToIndex(e),setTimeout((function(){t.mode1UpLit.updateVisibleRegion()}));case 9:case"end":return n.stop()}}),n)})))),this.br.updateBrClasses()}},{key:"jumpToIndex",value:function(t,e,n,r){var i=Math.abs(this.br.currentIndex()-t),o=!r&&i>0&&i<=4;this.mode1UpLit.jumpToIndex(t,{smooth:o})}},{key:"zoom",value:function(t){switch(t){case"in":this.mode1UpLit.zoomIn();break;case"out":this.mode1UpLit.zoomOut();break;default:console.error("Unsupported direction: ".concat(t))}}},{key:"resizePageView",value:function(){this.mode1UpLit.htmlDimensionsCacher.updateClientSizes(),this.mode1UpLit.requestUpdate()}}])}(),se=(r(1761),r(1669));function ue(t){return ue="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ue(t)}function ce(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}function le(){le=function(){return e};var t,e={},n=Object.prototype,r=n.hasOwnProperty,i=Object.defineProperty||function(t,e,n){t[e]=n.value},o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",s=o.asyncIterator||"@@asyncIterator",u=o.toStringTag||"@@toStringTag";function c(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(t){c=function(t,e,n){return t[e]=n}}function l(t,e,n,r){var o=e&&e.prototype instanceof m?e:m,a=Object.create(o.prototype),s=new j(r||[]);return i(a,"_invoke",{value:E(t,n,s)}),a}function f(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var h="suspendedStart",d="suspendedYield",p="executing",v="completed",g={};function m(){}function y(){}function b(){}var w={};c(w,a,(function(){return this}));var x=Object.getPrototypeOf,_=x&&x(x(M([])));_&&_!==n&&r.call(_,a)&&(w=_);var k=b.prototype=m.prototype=Object.create(w);function S(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function P(t,e){function n(i,o,a,s){var u=f(t[i],t,o);if("throw"!==u.type){var c=u.arg,l=c.value;return l&&"object"==ue(l)&&r.call(l,"__await")?e.resolve(l.__await).then((function(t){n("next",t,a,s)}),(function(t){n("throw",t,a,s)})):e.resolve(l).then((function(t){c.value=t,a(c)}),(function(t){return n("throw",t,a,s)}))}s(u.arg)}var o;i(this,"_invoke",{value:function(t,r){function i(){return new e((function(e,i){n(t,r,e,i)}))}return o=o?o.then(i,i):i()}})}function E(e,n,r){var i=h;return function(o,a){if(i===p)throw Error("Generator is already running");if(i===v){if("throw"===o)throw a;return{value:t,done:!0}}for(r.method=o,r.arg=a;;){var s=r.delegate;if(s){var u=O(s,r);if(u){if(u===g)continue;return u}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(i===h)throw i=v,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);i=p;var c=f(e,n,r);if("normal"===c.type){if(i=r.done?v:d,c.arg===g)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(i=v,r.method="throw",r.arg=c.arg)}}}function O(e,n){var r=n.method,i=e.iterator[r];if(i===t)return n.delegate=null,"throw"===r&&e.iterator.return&&(n.method="return",n.arg=t,O(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),g;var o=f(i,e.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,g;var a=o.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,g):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,g)}function T(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function C(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function j(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(T,this),this.reset(!0)}function M(e){if(e||""===e){var n=e[a];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var i=-1,o=function n(){for(;++i<e.length;)if(r.call(e,i))return n.value=e[i],n.done=!1,n;return n.value=t,n.done=!0,n};return o.next=o}}throw new TypeError(ue(e)+" is not iterable")}return y.prototype=b,i(k,"constructor",{value:b,configurable:!0}),i(b,"constructor",{value:y,configurable:!0}),y.displayName=c(b,u,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===y||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,c(t,u,"GeneratorFunction")),t.prototype=Object.create(k),t},e.awrap=function(t){return{__await:t}},S(P.prototype),c(P.prototype,s,(function(){return this})),e.AsyncIterator=P,e.async=function(t,n,r,i,o){void 0===o&&(o=Promise);var a=new P(l(t,n,r,i),o);return e.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},S(k),c(k,u,"Generator"),c(k,a,(function(){return this})),c(k,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},e.values=M,j.prototype={constructor:j,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(C),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function i(r,i){return s.type="throw",s.arg=e,n.next=r,i&&(n.method="next",n.arg=t),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],s=a.completion;if("root"===a.tryLoc)return i("end");if(a.tryLoc<=this.prev){var u=r.call(a,"catchLoc"),c=r.call(a,"finallyLoc");if(u&&c){if(this.prev<a.catchLoc)return i(a.catchLoc,!0);if(this.prev<a.finallyLoc)return i(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return i(a.catchLoc,!0)}else{if(!c)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return i(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,g):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),g},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),C(n),g}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var i=r.arg;C(n)}return i}}throw Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:M(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),g}},e}function fe(t,e,n,r,i,o,a){try{var s=t[o](a),u=s.value}catch(t){return void n(t)}s.done?e(u):Promise.resolve(u).then(r,i)}function he(t){return function(){var e=this,n=arguments;return new Promise((function(r,i){var o=t.apply(e,n);function a(t){fe(o,r,i,a,s,"next",t)}function s(t){fe(o,r,i,a,s,"throw",t)}a(void 0)}))}}function de(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Oe(r.key),r)}}function pe(t,e,n){return e&&de(t.prototype,e),n&&de(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function ve(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ge(t,e,n){return e=Re(e),function(t,e){if(e&&("object"==ue(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,me()?Reflect.construct(e,n||[],Re(t).constructor):e.apply(t,n))}function me(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(me=function(){return!!t})()}function ye(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&be(t,e)}function be(t,e){return be=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},be(t,e)}function we(t,e,n,r){var i=xe();if(r)for(var o=0;o<r.length;o++)i=r[o](i);var a=e((function(t){i.initializeInstanceElements(t,s.elements)}),n),s=i.decorateClass(function(t){for(var e=[],n=function(t){return"method"===t.kind&&t.key===o.key&&t.placement===o.placement},r=0;r<t.length;r++){var i,o=t[r];if("method"===o.kind&&(i=e.find(n)))if(Pe(o.descriptor)||Pe(i.descriptor)){if(Se(o)||Se(i))throw new ReferenceError("Duplicated methods ("+o.key+") can't be decorated.");i.descriptor=o.descriptor}else{if(Se(o)){if(Se(i))throw new ReferenceError("Decorators can't be placed on different accessors with for the same property ("+o.key+").");i.decorators=o.decorators}ke(o,i)}else e.push(o)}return e}(a.d.map(_e)),t);return i.initializeClassElements(a.F,s.elements),i.runClassFinishers(a.F,s.finishers)}function xe(){xe=function(){return t};var t={elementsDefinitionOrder:[["method"],["field"]],initializeInstanceElements:function(t,e){["method","field"].forEach((function(n){e.forEach((function(e){e.kind===n&&"own"===e.placement&&this.defineClassElement(t,e)}),this)}),this)},initializeClassElements:function(t,e){var n=t.prototype;["method","field"].forEach((function(r){e.forEach((function(e){var i=e.placement;if(e.kind===r&&("static"===i||"prototype"===i)){var o="static"===i?t:n;this.defineClassElement(o,e)}}),this)}),this)},defineClassElement:function(t,e){var n=e.descriptor;if("field"===e.kind){var r=e.initializer;n={enumerable:n.enumerable,writable:n.writable,configurable:n.configurable,value:void 0===r?void 0:r.call(t)}}Object.defineProperty(t,e.key,n)},decorateClass:function(t,e){var n=[],r=[],i={static:[],prototype:[],own:[]};if(t.forEach((function(t){this.addElementPlacement(t,i)}),this),t.forEach((function(t){if(!Se(t))return n.push(t);var e=this.decorateElement(t,i);n.push(e.element),n.push.apply(n,e.extras),r.push.apply(r,e.finishers)}),this),!e)return{elements:n,finishers:r};var o=this.decorateConstructor(n,e);return r.push.apply(r,o.finishers),o.finishers=r,o},addElementPlacement:function(t,e,n){var r=e[t.placement];if(!n&&-1!==r.indexOf(t.key))throw new TypeError("Duplicated element ("+t.key+")");r.push(t.key)},decorateElement:function(t,e){for(var n=[],r=[],i=t.decorators,o=i.length-1;o>=0;o--){var a=e[t.placement];a.splice(a.indexOf(t.key),1);var s=this.fromElementDescriptor(t),u=this.toElementFinisherExtras((0,i[o])(s)||s);t=u.element,this.addElementPlacement(t,e),u.finisher&&r.push(u.finisher);var c=u.extras;if(c){for(var l=0;l<c.length;l++)this.addElementPlacement(c[l],e);n.push.apply(n,c)}}return{element:t,finishers:r,extras:n}},decorateConstructor:function(t,e){for(var n=[],r=e.length-1;r>=0;r--){var i=this.fromClassDescriptor(t),o=this.toClassDescriptor((0,e[r])(i)||i);if(void 0!==o.finisher&&n.push(o.finisher),void 0!==o.elements){t=o.elements;for(var a=0;a<t.length-1;a++)for(var s=a+1;s<t.length;s++)if(t[a].key===t[s].key&&t[a].placement===t[s].placement)throw new TypeError("Duplicated element ("+t[a].key+")")}}return{elements:t,finishers:n}},fromElementDescriptor:function(t){var e={kind:t.kind,key:t.key,placement:t.placement,descriptor:t.descriptor};return Object.defineProperty(e,Symbol.toStringTag,{value:"Descriptor",configurable:!0}),"field"===t.kind&&(e.initializer=t.initializer),e},toElementDescriptors:function(t){if(void 0!==t)return(e=t,function(t){if(Array.isArray(t))return t}(e)||je(e)||Te(e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()).map((function(t){var e=this.toElementDescriptor(t);return this.disallowProperty(t,"finisher","An element descriptor"),this.disallowProperty(t,"extras","An element descriptor"),e}),this);var e},toElementDescriptor:function(t){var e=t.kind+"";if("method"!==e&&"field"!==e)throw new TypeError('An element descriptor\'s .kind property must be either "method" or "field", but a decorator created an element descriptor with .kind "'+e+'"');var n=Oe(t.key),r=t.placement+"";if("static"!==r&&"prototype"!==r&&"own"!==r)throw new TypeError('An element descriptor\'s .placement property must be one of "static", "prototype" or "own", but a decorator created an element descriptor with .placement "'+r+'"');var i=t.descriptor;this.disallowProperty(t,"elements","An element descriptor");var o={kind:e,key:n,placement:r,descriptor:Object.assign({},i)};return"field"!==e?this.disallowProperty(t,"initializer","A method descriptor"):(this.disallowProperty(i,"get","The property descriptor of a field descriptor"),this.disallowProperty(i,"set","The property descriptor of a field descriptor"),this.disallowProperty(i,"value","The property descriptor of a field descriptor"),o.initializer=t.initializer),o},toElementFinisherExtras:function(t){return{element:this.toElementDescriptor(t),finisher:Ee(t,"finisher"),extras:this.toElementDescriptors(t.extras)}},fromClassDescriptor:function(t){var e={kind:"class",elements:t.map(this.fromElementDescriptor,this)};return Object.defineProperty(e,Symbol.toStringTag,{value:"Descriptor",configurable:!0}),e},toClassDescriptor:function(t){var e=t.kind+"";if("class"!==e)throw new TypeError('A class descriptor\'s .kind property must be "class", but a decorator created a class descriptor with .kind "'+e+'"');this.disallowProperty(t,"key","A class descriptor"),this.disallowProperty(t,"placement","A class descriptor"),this.disallowProperty(t,"descriptor","A class descriptor"),this.disallowProperty(t,"initializer","A class descriptor"),this.disallowProperty(t,"extras","A class descriptor");var n=Ee(t,"finisher");return{elements:this.toElementDescriptors(t.elements),finisher:n}},runClassFinishers:function(t,e){for(var n=0;n<e.length;n++){var r=(0,e[n])(t);if(void 0!==r){if("function"!=typeof r)throw new TypeError("Finishers must return a constructor.");t=r}}return t},disallowProperty:function(t,e,n){if(void 0!==t[e])throw new TypeError(n+" can't have a ."+e+" property.")}};return t}function _e(t){var e,n=Oe(t.key);"method"===t.kind?e={value:t.value,writable:!0,configurable:!0,enumerable:!1}:"get"===t.kind?e={get:t.value,configurable:!0,enumerable:!1}:"set"===t.kind?e={set:t.value,configurable:!0,enumerable:!1}:"field"===t.kind&&(e={configurable:!0,writable:!0,enumerable:!0});var r={kind:"field"===t.kind?"field":"method",key:n,placement:t.static?"static":"field"===t.kind?"own":"prototype",descriptor:e};return t.decorators&&(r.decorators=t.decorators),"field"===t.kind&&(r.initializer=t.value),r}function ke(t,e){void 0!==t.descriptor.get?e.descriptor.get=t.descriptor.get:e.descriptor.set=t.descriptor.set}function Se(t){return t.decorators&&t.decorators.length}function Pe(t){return void 0!==t&&!(void 0===t.value&&void 0===t.writable)}function Ee(t,e){var n=t[e];if(void 0!==n&&"function"!=typeof n)throw new TypeError("Expected '"+e+"' to be a function");return n}function Oe(t){var e=function(t,e){if("object"!=ue(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!=ue(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==ue(e)?e:e+""}function Te(t,e){if(t){if("string"==typeof t)return Ce(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ce(t,e):void 0}}function Ce(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function je(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}function Me(t,e,n,r){var i=Ae(Re(1&r?t.prototype:t),e,n);return 2&r&&"function"==typeof i?function(t){return i.apply(n,t)}:i}function Ae(){return Ae="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=function(t,e){for(;!{}.hasOwnProperty.call(t,e)&&null!==(t=Re(t)););return t}(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(arguments.length<3?t:n):i.value}},Ae.apply(null,arguments)}function Re(t){return Re=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Re(t)}var Ie=we([(0,A.EM)("br-mode-2up")],(function(e,n){var r,i,o=function(t){function n(t,r){var i;return ve(this,n),i=ge(this,n),e(i),i.book=t,i.br=r,i}return ye(n,t),pe(n)}(n);return{F:o,d:[{kind:"field",key:"br",value:void 0},{kind:"field",decorators:[(0,A.MZ)({type:Object})],key:"book",value:void 0},{kind:"field",key:"coordSpace",value:function(){return new lt(this)}},{kind:"field",decorators:[(0,A.MZ)({type:Number})],key:"scale",value:function(){return 1}},{kind:"field",key:"initialScale",value:function(){return 1}},{kind:"field",decorators:[(0,A.MZ)({type:String})],key:"autoFit",value:function(){return"auto"}},{kind:"field",key:"flipSpeed",value:function(){return 400}},{kind:"field",decorators:[(0,A.P)(".br-mode-2up__leafs--flipping")],key:"$flippingEdges",value:void 0},{kind:"field",decorators:[(0,A.MZ)({type:Array,hasChanged:t.arrChanged})],key:"visiblePages",value:function(){return[]}},{kind:"get",key:"pageLeft",value:function(){return this.visiblePages.find((function(t){return"L"==t.pageSide}))}},{kind:"get",key:"pageRight",value:function(){return this.visiblePages.find((function(t){return"R"==t.pageSide}))}},{kind:"field",decorators:[(0,A.MZ)({type:Array})],key:"renderedPages",value:function(){return[]}},{kind:"field",key:"pageContainerCache",value:function(){return{}}},{kind:"field",key:"activeFlip",value:function(){return null}},{kind:"field",key:"_leftCoverWidth",value:function(){return 0}},{kind:"get",key:"$container",value:function(){return this}},{kind:"get",key:"$visibleWorld",value:function(){return this.$book}},{kind:"field",decorators:[(0,A.P)(".br-mode-2up__book")],key:"$book",value:void 0},{kind:"get",key:"positions",value:function(){return this.computePositions(this.pageLeft,this.pageRight)}},{kind:"method",key:"computePageHeight",value:function(t){return this.book.getMedianPageSizeInches().height}},{kind:"method",key:"computePageWidth",value:function(t){return t.widthInches*this.computePageHeight(t)/t.heightInches}},{kind:"method",key:"computePositions",value:function(t,e){var n,r,i,o,a=this.computePageWidth.bind(this),s=this.book.getNumLeafs(),u=this.activeFlip?Math.ceil(this.activeFlip.pagesFlippingCount/2)*this.PAGE_THICKNESS_IN:0,c="lr"==this.book.pageProgression?null!==(n=null==t?void 0:t.index)&&void 0!==n?n:0:t?s-t.index:0,l=this._leftCoverWidth+c*this.PAGE_THICKNESS_IN,f=l,h=a(t||e.right),d=l-h,p=d,v="left"!=(null===(r=this.activeFlip)||void 0===r?void 0:r.direction)?0:u,g=Math.ceil(c/2)*this.PAGE_THICKNESS_IN-v,m=v+g,y=p-v,b=y-g,w=l,x=e?a(e):0,_=w+x,k="lr"==this.book.pageProgression?e?s-e.index:0:null!==(i=null==e?void 0:e.index)&&void 0!==i?i:0,S=_,P="right"!=(null===(o=this.activeFlip)||void 0===o?void 0:o.direction)?0:u,E=S+P,O=Math.ceil(k/2)*this.PAGE_THICKNESS_IN-P,T=S+O+P;return{leafEdgesLeftStart:b,leafEdgesLeftMainWidth:g,leafEdgesLeftMovingStart:y,leafEdgesLeftMovingWidth:v,leafEdgesLeftEnd:p,leafEdgesLeftFullWidth:m,pageLeftStart:d,pageLeftWidth:h,pageLeftEnd:f,gutter:l,pageRightStart:w,pageRightWidth:x,pageRightEnd:_,leafEdgesRightStart:S,leafEdgesRightMovingWidth:P,leafEdgesRightMainStart:E,leafEdgesRightMainWidth:O,leafEdgesRightEnd:T,leafEdgesRightFullWidth:P+O,spreadWidth:_-d,bookWidth:T-b}}},{kind:"field",key:"htmlDimensionsCacher",value:function(){return new Q(this)}},{kind:"field",key:"smoothZoomer",value:function(){return new Y(this)}},{kind:"field",key:"ZOOM_FACTOR",value:function(){return 1.1}},{kind:"field",key:"PAGE_THICKNESS_IN",value:function(){return.002}},{kind:"method",key:"jumpToIndex",value:(i=he(le().mark((function t(e){var n,r,i=arguments;return le().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=(i.length>1&&void 0!==i[1]?i[1]:{}).smooth,r=void 0===n||n,t.next=3,this.flipAnimation(e,{animate:r});case 3:case"end":return t.stop()}}),t,this)}))),function(t){return i.apply(this,arguments)})},{kind:"method",key:"zoomIn",value:function(){this.scale*=this.ZOOM_FACTOR}},{kind:"method",key:"zoomOut",value:function(){this.scale*=1/this.ZOOM_FACTOR}},{kind:"method",key:"firstUpdated",value:function(t){Me(o,"firstUpdated",this,3)([t]),this.htmlDimensionsCacher.updateClientSizes(),this.smoothZoomer.attach()}},{kind:"method",key:"connectedCallback",value:function(){Me(o,"connectedCallback",this,3)([]),this.htmlDimensionsCacher.attachResizeListener(),this.smoothZoomer.attach()}},{kind:"method",key:"disconnectedCallback",value:function(){this.htmlDimensionsCacher.detachResizeListener(),this.smoothZoomer.detach(),Me(o,"disconnectedCallback",this,3)([])}},{kind:"method",key:"updated",value:function(t){if(t.has("book")&&(this._leftCoverWidth=this.computePageWidth(this.book.getPage("lr"==this.book.pageProgression?0:-1))),t.has("visiblePages")&&(this.renderedPages=this.computeRenderedPages(),this.br.displayedIndices=this.visiblePages.map((function(t){return t.index})),this.br.updateFirstIndex(this.br.displayedIndices[0]),this.br._components.navbar.updateNavIndexThrottled()),t.has("autoFit")&&"none"!=this.autoFit&&this.resizeViaAutofit(),t.has("scale")){var e=t.get("scale");this.recenter(),this.smoothZoomer.updateViewportOnZoom(this.scale,e)}}},{kind:"method",key:"createRenderRoot",value:function(){return this}},{kind:"method",key:"render",value:function(){var t=this;return(0,R.qy)(Jt||(Jt=ce(['\n      <div class="br-mode-2up__book" @mouseup=',">\n        ","\n        ","\n        ","\n      </div>"])),this.handlePageClick,this.renderLeafEdges("left"),this.renderedPages.map((function(e){return t.renderPage(e)})),this.renderLeafEdges("right"))}},{kind:"field",key:"createPageContainer",value:function(){var t=this;return function(e){return t.pageContainerCache[e.index]||(t.pageContainerCache[e.index]=t.br._createPageContainer(e.index))}}},{kind:"method",key:"initFirstRender",value:function(t){var e=this.book.getPage(t),n=e.spread;this.visiblePages=("lr"==this.book.pageProgression?[n.left,n.right]:[n.right,n.left]).filter((function(t){return t})),this.htmlDimensionsCacher.updateClientSizes(),this.resizeViaAutofit(e),this.initialScale=this.scale}},{kind:"field",key:"renderPage",value:function(){var t=this;return function(e){var n=t.coordSpace.worldUnitsToRenderedPixels,r=t.coordSpace.worldUnitsToVisiblePixels,i=n(t.computePageWidth(e)),o=n(t.computePageHeight(e)),a=t.visiblePages.map((function(t){return t.index})).includes(e.index),s=t.computePositions(e.spread.left,e.spread.right),u=t.createPageContainer(e).update({dimensions:{width:i,height:o,top:0,left:n("L"==e.pageSide?s.pageLeftStart:s.pageLeftEnd)},reduce:e.width/r(t.computePageWidth(e))}).$container[0];return u.classList.toggle("BRpage-visible",a),u}}},{kind:"field",key:"renderLeafEdges",value:function(){var t=this;return function(e){var n;if(!t.visiblePages.length)return(0,R.qy)(Qt||(Qt=ce([""])));if(!("left"==e?t.positions.leafEdgesLeftFullWidth:t.positions.leafEdgesRightFullWidth))return(0,R.qy)(te||(te=ce([""])));var r=t.coordSpace.worldUnitsToRenderedPixels,i=r(t.computePageHeight(t.visiblePages[0])),o=(null===(n=t.activeFlip)||void 0===n?void 0:n.direction)==e,a=t.book.getPage("lr"==t.book.pageProgression?0:t.book.getNumLeafs()-1),s=t.book.getPage("lr"==t.book.pageProgression?t.book.getNumLeafs()-1:0),u=o?t.activeFlip.pagesFlippingCount:0,c="left"==e?[a.index,t.pageLeft.goLeft(u).index]:[t.pageRight.goRight(u).index,s.index],l={width:"".concat(r("left"==e?t.positions.leafEdgesLeftMainWidth:t.positions.leafEdgesRightMainWidth),"px"),height:"".concat(i,"px"),left:"".concat(r("left"==e?t.positions.leafEdgesLeftStart:t.positions.leafEdgesRightMainStart),"px")},f=(0,R.qy)(ee||(ee=ce(["\n      <br-leaf-edges\n        leftIndex=","\n        rightIndex=","\n        .book=","\n        .pageClickHandler=","\n        side=",'\n        class="br-mode-2up__leafs br-mode-2up__leafs--','"\n        style=',"\n      ></br-leaf-edges>\n    "])),c[0],c[1],t.book,(function(e){return t.br.jumpToIndex(e)}),e,e,(0,I.W)(l));if(o){var h=r("left"==e?t.positions.leafEdgesLeftMovingWidth:t.positions.leafEdgesRightMovingWidth),d={width:"".concat(h,"px"),height:"".concat(i,"px"),left:"".concat(r("left"==e?t.positions.leafEdgesLeftMovingStart:t.positions.leafEdgesRightStart),"px"),pointerEvents:"none",transformOrigin:"".concat(r("left"==e?t.positions.pageLeftWidth:-t.positions.pageRightWidth)+h/2,"px 0")},p=(0,R.qy)(ne||(ne=ce(["\n        <br-leaf-edges\n          leftIndex=","\n          rightIndex=","\n          .book=","\n          side=",'\n          class="br-mode-2up__leafs br-mode-2up__leafs--',' br-mode-2up__leafs--flipping"\n          style=',"\n        ></br-leaf-edges>\n      "])),t.activeFlip.pagesFlipping[0],t.activeFlip.pagesFlipping[1],t.book,e,e,(0,I.W)(d));return"left"==e?(0,R.qy)(re||(re=ce(["","",""])),f,p):(0,R.qy)(ie||(ie=ce(["","",""])),p,f)}return f}}},{kind:"method",key:"resizeViaAutofit",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.visiblePages[0];this.scale=this.computeScale(t,this.autoFit)}},{kind:"method",key:"recenter",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.visiblePages[0],e=this.computeTranslate(t,this.scale);this.$book.style.transform="translateX(".concat(e.x,"px) translateY(").concat(e.y,"px) scale(").concat(this.scale,")")}},{kind:"method",key:"computeRenderedPages",value:function(){var t,e,n,r,i;return[null===(t=this.visiblePages[0])||void 0===t||null===(t=t.prev)||void 0===t?void 0:t.prev,null===(e=this.visiblePages[0])||void 0===e?void 0:e.prev].concat((i=this.visiblePages,function(t){if(Array.isArray(t))return Ce(t)}(i)||je(i)||Te(i)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),[null===(n=this.visiblePages[this.visiblePages.length-1])||void 0===n?void 0:n.next,null===(r=this.visiblePages[this.visiblePages.length-1])||void 0===r||null===(r=r.next)||void 0===r?void 0:r.next]).filter((function(t){return t})).slice(0,10)}},{kind:"method",key:"computeScale",value:function(t,e){if(!t)return 1;var n=t.spread,r=this.computePositions(n.left,n.right).bookWidth,i=this.computePageHeight(n.left||n.right),o=this.scale;this.scale=1;var a=this.coordSpace.renderedPixelsToWorldUnits(this.htmlDimensionsCacher.clientWidth-20)/r,s=this.coordSpace.renderedPixelsToWorldUnits(this.htmlDimensionsCacher.clientHeight-20)/i;this.scale=o;var u=1;if("width"==e)u=a;else if("height"==e)u=s;else if("auto"==e)u=Math.min(a,s);else{if("none"!=e)throw new Error("Invalid autoFit value: ".concat(e));u=this.scale}return u}},{kind:"method",key:"computeTranslate",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.scale;if(!t)return{x:0,y:0};var n=t.spread,r=this.computePositions(n.left,n.right),i=r.bookWidth,o=this.computePageHeight(n.left||n.right),a=this.coordSpace.worldUnitsToRenderedPixels(i)*e,s=this.coordSpace.worldUnitsToRenderedPixels(o)*e,u=this.coordSpace.worldUnitsToRenderedPixels(-r.leafEdgesLeftStart)*e,c=(this.htmlDimensionsCacher.clientWidth-a)/2+u,l=(this.htmlDimensionsCacher.clientHeight-s)/2;return{x:Math.max(u,c),y:Math.max(0,l)}}},{kind:"method",key:"flipAnimation",value:(r=he(le().mark((function e(n){var r,i,o,a,s,u,c,l,f,h,d,p,v,g,m,y,b,w,x,_,k,S,P,E,O,T,C,j,M,A=this,R=arguments;return le().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(u=(R.length>1&&void 0!==R[1]?R[1]:{}).animate,c=void 0===u||u,l=null===(r=this.pageLeft||this.pageRight)||void 0===r?void 0:r.spread){e.next=4;break}return e.abrupt("return");case 4:if(n=this.parseNextSpread(n),!this.activeFlip&&n){e.next=7;break}return e.abrupt("return");case 7:if(f=this.book.pageProgression,h=null!==(i=null===(o=l.left)||void 0===o?void 0:o.index)&&void 0!==i?i:"lr"==f?-1:this.book.getNumLeafs(),d=null!==(a=null===(s=n.left)||void 0===s?void 0:s.index)&&void 0!==a?a:"lr"==f?-1:this.book.getNumLeafs(),h!=d){e.next=12;break}return e.abrupt("return");case 12:p=this.renderedPages.map((function(t){return t.index})),v=[],g=0,m=[n.left,n.right];case 15:if(!(g<m.length)){e.next=24;break}if(y=m[g]){e.next=19;break}return e.abrupt("continue",21);case 19:v.push(this.createPageContainer(y)),p.includes(y.index)||this.renderedPages.push(y);case 21:g++,e.next=15;break;case 24:if(b=this.computeTranslate(l.left||l.right,this.scale),w=this.computeTranslate(n.left||n.right,this.scale),x=Math.sqrt(Math.pow(w.x-b.x,2)+Math.pow(w.y-b.y,2)),_="translate(".concat(w.x,"px, ").concat(w.y,"px)"),x<50&&(S=null===(k=this.$book.style.transform.match(/translate\([^)]+\)/))||void 0===k?void 0:k[0])&&(_=S),P="".concat(_," scale(").concat(this.scale,")"),!c||!("animate"in Element.prototype)){e.next=57;break}return E="lr"==f?d>h?"right":"left":d>h?"left":"right",this.activeFlip={direction:E,pagesFlipping:[h,d],pagesFlippingCount:Math.abs(d-h)},this.classList.add("br-mode-2up--flipping-".concat(E)),this.classList.add("BRpageFlipping"),this.requestUpdate(),e.next=38,this.updateComplete;case 38:return this.visiblePages.map((function(t){return A.pageContainerCache[t.index].$container})).forEach((function(t){return t.addClass("BRpage-exiting")})),v.forEach((function(t){return t.$container.addClass("BRpage-entering")})),O={duration:this.flipSpeed+this.activeFlip.pagesFlippingCount,easing:"ease-in",fill:"none"},T=this.$book.animate([{transform:P}],O),C=this.$flippingEdges.animate([{transform:"rotateY(0deg)"},{transform:"left"==E?"rotateY(-180deg)":"rotateY(180deg)"}],O),j="left"==E?this.querySelector(".BRpage-exiting[data-side=L]").animate([{transform:"rotateY(0deg)"},{transform:"rotateY(180deg)"}],O):this.querySelector(".BRpage-exiting[data-side=R]").animate([{transform:"rotateY(0deg)"},{transform:"rotateY(-180deg)"}],O),M="left"==E?this.querySelector(".BRpage-entering[data-side=R]").animate([{transform:"rotateY(-180deg)"},{transform:"rotateY(0deg)"}],O):this.querySelector(".BRpage-entering[data-side=L]").animate([{transform:"rotateY(180deg)"},{transform:"rotateY(0deg)"}],O),T.play(),C.play(),j.play(),M.play(),v.forEach((function(t){return t.$container.addClass("BRpage-visible")})),e.next=52,Promise.race([(0,t.promisifyEvent)(T,"finish"),(0,t.promisifyEvent)(C,"finish"),(0,t.promisifyEvent)(j,"finish"),(0,t.promisifyEvent)(M,"finish")]);case 52:this.classList.remove("br-mode-2up--flipping-".concat(E)),this.classList.remove("BRpageFlipping"),this.visiblePages.map((function(t){return A.pageContainerCache[t.index].$container})).forEach((function(t){return t.removeClass("BRpage-exiting BRpage-visible")})),v.forEach((function(t){return t.$container.removeClass("BRpage-entering")})),this.activeFlip=null;case 57:this.$book.style.transform=P,this.visiblePages=("lr"==f?[n.left,n.right]:[n.right,n.left]).filter((function(t){return t}));case 59:case"end":return e.stop()}}),e,this)}))),function(t){return r.apply(this,arguments)})},{kind:"method",key:"parseNextSpread",value:function(t){"next"==t?t="lr"==this.book.pageProgression?"right":"left":"prev"==t&&(t="lr"==this.book.pageProgression?"left":"right");var e,n=(this.pageLeft||this.pageRight).spread;if("left"==t)t=null===(e=n.left)||void 0===e||null===(e=e.findLeft({combineConsecutiveUnviewables:!0}))||void 0===e?void 0:e.spread;else if("right"==t){var r;t=null===(r=n.right)||void 0===r||null===(r=r.findRight({combineConsecutiveUnviewables:!0}))||void 0===r?void 0:r.spread}return"number"==typeof t&&(t=this.book.getPage(t).spread),t instanceof M&&(t=t.spread),t}},{kind:"field",key:"handlePageClick",value:function(){var t=this;return function(e){if(3==e.which&&t.br.protected)return!1;if(1==e.which){var n=se(e.target).closest(".BRpagecontainer");n.length&&("L"==n.data("side")?t.flipAnimation("left"):"R"==n.data("side")&&t.flipAnimation("right"))}}}}]}}),R.WF),Le=(we([(0,A.EM)("br-leaf-edges")],(function(t,e){var n=function(e){function n(){var e;ve(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return e=ge(this,n,[].concat(i)),t(e),e}return ye(n,e),pe(n)}(e);return{F:n,d:[{kind:"field",decorators:[(0,A.MZ)({type:Number})],key:"leftIndex",value:function(){return 0}},{kind:"field",decorators:[(0,A.MZ)({type:Number})],key:"rightIndex",value:function(){return 0}},{kind:"field",decorators:[(0,A.MZ)({type:String})],key:"side",value:function(){return"left"}},{kind:"field",decorators:[(0,A.MZ)({attribute:!1})],key:"book",value:function(){return null}},{kind:"field",decorators:[(0,A.MZ)({attribute:!1,type:Function})],key:"pageClickHandler",value:function(){return null}},{kind:"field",decorators:[(0,A.P)(".br-leaf-edges__bar")],key:"$hoverBar",value:void 0},{kind:"field",decorators:[(0,A.P)(".br-leaf-edges__label")],key:"$hoverLabel",value:void 0},{kind:"get",key:"pageWidthPercent",value:function(){return 100/(this.rightIndex-this.leftIndex+1)}},{kind:"method",key:"render",value:function(){return(0,R.qy)(oe||(oe=ce(['\n      <div\n        class="br-leaf-edges__bar"\n        style="','"\n      ></div>\n      <div class="br-leaf-edges__label">Page</div>'])),(0,I.W)({width:"".concat(this.pageWidthPercent,"%")}))}},{kind:"method",key:"connectedCallback",value:function(){Me(n,"connectedCallback",this,3)([]),this.addEventListener("mouseenter",this.onMouseEnter),this.addEventListener("mouseleave",this.onMouseLeave),this.addEventListener("click",this.onClick)}},{kind:"method",key:"disconnectedCallback",value:function(){Me(n,"disconnectedCallback",this,3)([]),this.addEventListener("mouseenter",this.onMouseEnter),this.removeEventListener("mousemove",this.onMouseMove),this.removeEventListener("mouseleave",this.onMouseLeave)}},{kind:"method",key:"createRenderRoot",value:function(){return this}},{kind:"field",key:"onMouseEnter",value:function(){var t=this;return function(e){t.addEventListener("mousemove",t.onMouseMove),t.$hoverBar.style.display="block",t.$hoverLabel.style.display="block"}}},{kind:"field",key:"onMouseMove",value:function(){var t=this;return function(e){t.$hoverBar.style.left="".concat(e.offsetX,"px"),"right"==t.side?t.$hoverLabel.style.left="".concat(e.offsetX,"px"):t.$hoverLabel.style.right="".concat(t.offsetWidth-e.offsetX,"px"),t.$hoverLabel.style.top="".concat(e.offsetY,"px");var n=t.mouseEventToPageIndex(e);t.$hoverLabel.textContent=t.book.getPageName(n)}}},{kind:"field",key:"onMouseLeave",value:function(){var t=this;return function(e){t.removeEventListener("mousemove",t.onMouseMove),t.$hoverBar.style.display="none",t.$hoverLabel.style.display="none"}}},{kind:"field",key:"onClick",value:function(){var t=this;return function(e){t.pageClickHandler(t.mouseEventToPageIndex(e))}}},{kind:"method",key:"mouseEventToPageIndex",value:function(t){return Math.floor(this.leftIndex+t.offsetX/this.offsetWidth*(this.rightIndex-this.leftIndex+1))}}]}}),R.WF),r(1669));function De(t){return De="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},De(t)}function Ne(){Ne=function(){return e};var t,e={},n=Object.prototype,r=n.hasOwnProperty,i=Object.defineProperty||function(t,e,n){t[e]=n.value},o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",s=o.asyncIterator||"@@asyncIterator",u=o.toStringTag||"@@toStringTag";function c(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(t){c=function(t,e,n){return t[e]=n}}function l(t,e,n,r){var o=e&&e.prototype instanceof m?e:m,a=Object.create(o.prototype),s=new j(r||[]);return i(a,"_invoke",{value:E(t,n,s)}),a}function f(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var h="suspendedStart",d="suspendedYield",p="executing",v="completed",g={};function m(){}function y(){}function b(){}var w={};c(w,a,(function(){return this}));var x=Object.getPrototypeOf,_=x&&x(x(M([])));_&&_!==n&&r.call(_,a)&&(w=_);var k=b.prototype=m.prototype=Object.create(w);function S(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function P(t,e){function n(i,o,a,s){var u=f(t[i],t,o);if("throw"!==u.type){var c=u.arg,l=c.value;return l&&"object"==De(l)&&r.call(l,"__await")?e.resolve(l.__await).then((function(t){n("next",t,a,s)}),(function(t){n("throw",t,a,s)})):e.resolve(l).then((function(t){c.value=t,a(c)}),(function(t){return n("throw",t,a,s)}))}s(u.arg)}var o;i(this,"_invoke",{value:function(t,r){function i(){return new e((function(e,i){n(t,r,e,i)}))}return o=o?o.then(i,i):i()}})}function E(e,n,r){var i=h;return function(o,a){if(i===p)throw Error("Generator is already running");if(i===v){if("throw"===o)throw a;return{value:t,done:!0}}for(r.method=o,r.arg=a;;){var s=r.delegate;if(s){var u=O(s,r);if(u){if(u===g)continue;return u}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(i===h)throw i=v,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);i=p;var c=f(e,n,r);if("normal"===c.type){if(i=r.done?v:d,c.arg===g)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(i=v,r.method="throw",r.arg=c.arg)}}}function O(e,n){var r=n.method,i=e.iterator[r];if(i===t)return n.delegate=null,"throw"===r&&e.iterator.return&&(n.method="return",n.arg=t,O(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),g;var o=f(i,e.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,g;var a=o.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,g):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,g)}function T(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function C(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function j(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(T,this),this.reset(!0)}function M(e){if(e||""===e){var n=e[a];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var i=-1,o=function n(){for(;++i<e.length;)if(r.call(e,i))return n.value=e[i],n.done=!1,n;return n.value=t,n.done=!0,n};return o.next=o}}throw new TypeError(De(e)+" is not iterable")}return y.prototype=b,i(k,"constructor",{value:b,configurable:!0}),i(b,"constructor",{value:y,configurable:!0}),y.displayName=c(b,u,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===y||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,c(t,u,"GeneratorFunction")),t.prototype=Object.create(k),t},e.awrap=function(t){return{__await:t}},S(P.prototype),c(P.prototype,s,(function(){return this})),e.AsyncIterator=P,e.async=function(t,n,r,i,o){void 0===o&&(o=Promise);var a=new P(l(t,n,r,i),o);return e.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},S(k),c(k,u,"Generator"),c(k,a,(function(){return this})),c(k,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},e.values=M,j.prototype={constructor:j,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(C),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function i(r,i){return s.type="throw",s.arg=e,n.next=r,i&&(n.method="next",n.arg=t),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],s=a.completion;if("root"===a.tryLoc)return i("end");if(a.tryLoc<=this.prev){var u=r.call(a,"catchLoc"),c=r.call(a,"finallyLoc");if(u&&c){if(this.prev<a.catchLoc)return i(a.catchLoc,!0);if(this.prev<a.finallyLoc)return i(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return i(a.catchLoc,!0)}else{if(!c)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return i(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,g):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),g},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),C(n),g}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var i=r.arg;C(n)}return i}}throw Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:M(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),g}},e}function $e(t,e,n,r,i,o,a){try{var s=t[o](a),u=s.value}catch(t){return void n(t)}s.done?e(u):Promise.resolve(u).then(r,i)}function Fe(t){return function(){var e=this,n=arguments;return new Promise((function(r,i){var o=t.apply(e,n);function a(t){$e(o,r,i,a,s,"next",t)}function s(t){$e(o,r,i,a,s,"throw",t)}a(void 0)}))}}function Be(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Ue(r.key),r)}}function Ue(t){var e=function(t,e){if("object"!=De(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!=De(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==De(e)?e:e+""}var ze=function(){return function(t,e,n){return e&&Be(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}((function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.br=e,this.book=n,this.mode2UpLit=new Ie(n,e),this.mode2UpLit.flipSpeed=e.flipSpeed,this.$el=Le(this.mode2UpLit).attr("autoFit",this.br.options.twoPage.autofit).addClass("br-mode-2up__root BRmode2up"),this.everShown=!1}),[{key:"prepare",value:function(){var t=this,e=this.br.currentIndex();this.br.refs.$brContainer.empty().css({overflow:"hidden"}).append(this.$el),this.mode2UpLit.style.opacity="0",setTimeout(Fe(Ne().mark((function n(){return Ne().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(t.everShown){n.next=9;break}return t.mode2UpLit.initFirstRender(e),t.everShown=!0,t.mode2UpLit.requestUpdate(),n.next=6,t.mode2UpLit.updateComplete;case 6:new Ht(t.mode2UpLit,{preventDefault:!0,dragSelector:".br-mode-2up__book",dragstart:"mousedown",dragcontinue:"mousemove",dragend:"mouseup"}),n.next=12;break;case 9:return n.next=11,t.mode2UpLit.jumpToIndex(e,{smooth:!1});case 11:t.resizePageView();case 12:t.mode2UpLit.style.opacity="1";case 13:case"end":return n.stop()}}),n)})))),this.br.updateBrClasses()}},{key:"jumpToIndex",value:function(t,e,n,r){this.mode2UpLit.jumpToIndex(t)}},{key:"zoom",value:function(t){switch(t){case"in":this.mode2UpLit.zoomIn();break;case"out":this.mode2UpLit.zoomOut();break;default:console.error("Unsupported direction: ".concat(t))}}},{key:"resizePageView",value:function(){this.mode2UpLit.htmlDimensionsCacher.updateClientSizes(),this.mode2UpLit.scale<this.mode2UpLit.initialScale&&"none"==this.mode2UpLit.autoFit&&(this.mode2UpLit.autoFit="auto"),"none"!=this.mode2UpLit.autoFit&&this.mode2UpLit.resizeViaAutofit(),this.mode2UpLit.recenter()}}])}(),We=r(1669);function He(t){return He="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},He(t)}function Ve(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(t){if("string"==typeof t)return Ge(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ge(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function Ge(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function Ye(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Xe(r.key),r)}}function Xe(t){var e=function(t,e){if("object"!=He(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!=He(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==He(e)?e:e+""}var qe=function(){return function(t,e,n){return e&&Ye(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}((function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.br=e,this.book=n}),[{key:"drawLeafs",value:function(n){var r,i,o,a=this,s=Math.floor,u=this.book,c=this.br.refs.$brContainer.prop("scrollWidth")-20,l=0,f=0,h=0,d=0,p=0,v=[],g=Ve(u.pagesIterator({combineConsecutiveUnviewables:!0}));try{for(g.s();!(o=g.n()).done;){var m=o.value,y=this.br.thumbWidth;l+(y+this.br.thumbPadding)>c&&(d++,l=0,p=0),v[d]||(v[d]={}),v[d].leafs||(v[d].leafs=[],v[d].height=0,v[d].top=0),v[d].leafs[p]={num:m.index,left:l},(r=s(m.height*this.br.thumbWidth/m.width))>v[d].height&&(v[d].height=r),0===p&&(f+=this.br.thumbPadding+v[d].height),(l+=y+this.br.thumbPadding)>h&&(h=l),p++,m.index==n&&(i=f-this.br.thumbPadding-v[d].height)}}catch(t){g.e(t)}finally{g.f()}this.br.refs.$brPageViewEl.height(f);var b=s((this.br.refs.$brContainer.prop("scrollWidth")-h)/2)-14;void 0!==i&&this.br.refs.$brContainer.scrollTop(i);for(var w=this.br.refs.$brContainer.prop("scrollTop"),x=w+this.br.refs.$brContainer.height(),_=0,k=0,S=[],P=[],E=u.getNumLeafs()-1,O=0,T=0;T<v.length;T++)v[T]&&(k+=this.br.thumbPadding+v[T].height,(_>=w&&_<=x||k>=w&&k<=x||_<=w&&k>=x)&&(S.push(T),v[T].leafs[0].num<E&&(E=v[T].leafs[0].num),v[T].leafs[v[T].leafs.length-1].num>O&&(O=v[T].leafs[v[T].leafs.length-1].num)),_>v[T].top&&(v[T].top=_),_=k);for(var C=S[0],j=S[S.length-1],M=1;M<this.br.thumbRowBuffer+1;M++)j+M<v.length&&S.push(j+M);for(var A=1;A<this.br.thumbRowBuffer;A++)C-A>=0&&S.push(C-A);S.sort((function(t,e){return t-e}));for(var R=0,I=S;R<I.length;R++){var L=I[R];if((0,t.notInArray)(L,this.br.displayedRows)){if(!v[L])continue;var D,N=Ve(v[L].leafs);try{var $=function(){var t=D.value,n=t.num,r=t.left,i=a.br.thumbWidth,o=s(u.getPageHeight(n)*a.br.thumbWidth/u.getPageWidth(n)),l=v[L].top,f=r+b;"rl"==a.br.pageProgression&&(f=c-i-f),f+=a.br.thumbPadding,P.push(n);var h=s(u.getPageWidth(n)/a.br.thumbWidth),d=2*Math.round(h/2),p=a.br._createPageContainer(n).update({dimensions:{width:i,height:o,top:l,left:f},reduce:d});p.$container.data("leaf",n).on("mouseup",(function(t){a.br.updateFirstIndex(n,{suppressFragmentChange:!0}),a.br.switchMode(a.br.constMode1up,{suppressFragmentChange:!0});var r=a.br.viewModeOrder.shift();a.br.viewModeOrder.push(r),a.br._components.navbar.updateViewModeButton(We(".viewmode"),"twopg","Two-page view"),a.br.trigger(e.fragmentChange),t.stopPropagation()})),a.br.refs.$brPageViewEl.append(p.$container)};for(N.s();!(D=N.n()).done;)$()}catch(t){N.e(t)}finally{N.f()}}}var F,B=Ve(this.br.displayedRows);try{for(B.s();!(F=B.n()).done;){var U=F.value;if((0,t.notInArray)(U,S)){var z,W,H=Ve(null===(z=v[U])||void 0===z?void 0:z.leafs);try{for(H.s();!(W=H.n()).done;){var V,G=W.value.num;null!=P&&P.includes(G)||null===(V=this.br.$(".pagediv".concat(G)))||void 0===V||V.remove()}}catch(t){H.e(t)}finally{H.f()}}}}catch(t){B.e(t)}finally{B.f()}var Y=this.br.currentIndex();Y<E?this.br.updateFirstIndex(E):Y>O&&this.br.updateFirstIndex(O),this.br.displayedRows=S.slice(),this.br.$(".BRpagedivthumb_highlight").removeClass("BRpagedivthumb_highlight"),this.br.$(".pagediv"+this.br.currentIndex()).addClass("BRpagedivthumb_highlight")}},{key:"lazyLoadImage",value:function(t){var e=We(t).data("leaf"),n=We(t).data("reduce"),r=this.br.imageCache.image(e,n),i=We(t).parent();We(i).append(r),We(t).remove()}},{key:"zoom",value:function(e){var n=this.br.thumbColumns;switch(e){case"in":this.br.thumbColumns-=1;break;case"out":this.br.thumbColumns+=1;break;default:console.error("Unsupported direction: ".concat(e))}this.br.thumbColumns=(0,t.clamp)(this.br.thumbColumns,this.br.options.thumbMinZoomColumns,this.br.options.thumbMaxZoomColumns),this.br.thumbColumns!=n&&(this.br.displayedRows=[],this.prepare())}},{key:"getThumbnailWidth",value:function(t){var e=(t+1)*this.br.thumbPadding,n=(this.br.refs.$brPageViewEl.width()-e)/(t+.5),r=Math.floor(n);return r>0?r:100}},{key:"prepare",value:function(){this.br.refs.$brContainer.empty(),this.br.refs.$brContainer.css({overflowY:"scroll",overflowX:"auto"}),this.br.refs.$brPageViewEl=We("<div class='BRpageview'></div>"),this.br.refs.$brContainer.append(this.br.refs.$brPageViewEl),this.dragScrollable=this.dragScrollable||new Ht(this.br.refs.$brContainer[0],{preventDefault:!0}),this.br.bindGestures(this.br.refs.$brContainer),this.br.thumbWidth=this.getThumbnailWidth(this.br.thumbColumns),this.br.reduce=this.book.getPageWidth(0)/this.br.thumbWidth,this.br.displayedRows=[],this.drawLeafs(this.br.currentIndex()),this.br.updateBrClasses()}},{key:"jumpToIndex",value:function(t){for(var e=this,n=Math.floor,r=this.book,i=this.br.refs.$brContainer.prop("scrollWidth")-20,o=this.br.thumbWidth,a=0,s=0,u=0,c=0,l=0,f=0;f<=t;f++){s+(o+this.br.thumbPadding)>i&&(s=0,c=0,l=0);var h=n(r.getPageHeight(l)*this.br.thumbWidth/r.getPageWidth(l));h>c&&(c=h),0==l&&(a=u,u+=this.br.thumbPadding+c),s+=o+this.br.thumbPadding,l++}this.br.updateFirstIndex(t),this.br.refs.$brContainer.prop("scrollTop")==a?this.br.drawLeafs():(this.br.animating=!0,this.br.refs.$brContainer.stop(!0).animate({scrollTop:a},"fast",(function(){e.br.animating=!1})))}}])}(),Ze=(r(1367),{floor:Math.floor,decr:function(t){return t-1}}),Ke={floor:function(t){return Math.pow(2,Math.floor(Math.log2(Math.max(1,t))))},decr:function(t){return Math.pow(2,Math.log2(t)-1)}},Je={pow2:Ke,integer:Ze},Qe=r(1669);function tn(t){return tn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},tn(t)}function en(t){return function(t){if(Array.isArray(t))return nn(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return nn(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?nn(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function nn(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function rn(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,on(r.key),r)}}function on(t){var e=function(t,e){if("object"!=tn(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!=tn(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==tn(e)?e:e+""}var an=function(){return function(t,e,n){return e&&rn(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}((function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.useSrcSet,i=void 0!==r&&r,o=n.reduceSet,a=void 0===o?Ke:o;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.book=e,this.useSrcSet=i,this.reduceSet=a,this.cache={},this.defaultScale=8}),[{key:"image",value:function(t,e){var n=(this.cache[t]||[]).filter((function(t){return t.loaded&&t.reduce<=e}));if(n.length){var r=Math.max.apply(Math,en(n.map((function(t){return t.reduce}))));return this._serveImageElement(t,r)}return this._serveImageElement(t,e)}},{key:"imageLoaded",value:function(t,e){var n,r,i=null===(n=this.cache[t])||void 0===n?void 0:n.find((function(t){return t.reduce<=e}));return null!==(r=null==i?void 0:i.loaded)&&void 0!==r&&r}},{key:"getBestLoadedReduce",value:function(t){var e,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1/0,r=(null===(e=this.cache[t])||void 0===e?void 0:e.filter((function(t){return t.loaded})))||[];if(!r.length)return null;var i=r.filter((function(t){return t.reduce>=n}));if(i.length)return Math.min.apply(Math,en(i.map((function(t){return t.reduce}))));var o=r.filter((function(t){return t.reduce<n}));return Math.max.apply(Math,en(o.map((function(t){return t.reduce}))))}},{key:"_serveImageElement",value:function(t,e){var n,r=this.reduceSet.floor(e),i=null===(n=this.cache[t])||void 0===n?void 0:n.find((function(t){return t.reduce==r}));i||(i={reduce:r,loaded:!1},(this.cache[t]||(this.cache[t]=[])).push(i));var o=this.book.getPage(t),a=Qe("<img />",{class:"BRpageimage",alt:"Book page image",src:o.getURI(r,0)}).data("reduce",r);return this.useSrcSet&&a.attr("srcset",o.getURISrcSet(r)),i.loaded||a.one("load",(function(){return i.loaded=!0})),a}}])}(),sn=r(1774),un=r(1669),cn=r(1669);function ln(t){return ln="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ln(t)}function fn(){fn=function(){return e};var t,e={},n=Object.prototype,r=n.hasOwnProperty,i=Object.defineProperty||function(t,e,n){t[e]=n.value},o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",s=o.asyncIterator||"@@asyncIterator",u=o.toStringTag||"@@toStringTag";function c(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(t){c=function(t,e,n){return t[e]=n}}function l(t,e,n,r){var o=e&&e.prototype instanceof m?e:m,a=Object.create(o.prototype),s=new j(r||[]);return i(a,"_invoke",{value:E(t,n,s)}),a}function f(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var h="suspendedStart",d="suspendedYield",p="executing",v="completed",g={};function m(){}function y(){}function b(){}var w={};c(w,a,(function(){return this}));var x=Object.getPrototypeOf,_=x&&x(x(M([])));_&&_!==n&&r.call(_,a)&&(w=_);var k=b.prototype=m.prototype=Object.create(w);function S(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function P(t,e){function n(i,o,a,s){var u=f(t[i],t,o);if("throw"!==u.type){var c=u.arg,l=c.value;return l&&"object"==ln(l)&&r.call(l,"__await")?e.resolve(l.__await).then((function(t){n("next",t,a,s)}),(function(t){n("throw",t,a,s)})):e.resolve(l).then((function(t){c.value=t,a(c)}),(function(t){return n("throw",t,a,s)}))}s(u.arg)}var o;i(this,"_invoke",{value:function(t,r){function i(){return new e((function(e,i){n(t,r,e,i)}))}return o=o?o.then(i,i):i()}})}function E(e,n,r){var i=h;return function(o,a){if(i===p)throw Error("Generator is already running");if(i===v){if("throw"===o)throw a;return{value:t,done:!0}}for(r.method=o,r.arg=a;;){var s=r.delegate;if(s){var u=O(s,r);if(u){if(u===g)continue;return u}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(i===h)throw i=v,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);i=p;var c=f(e,n,r);if("normal"===c.type){if(i=r.done?v:d,c.arg===g)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(i=v,r.method="throw",r.arg=c.arg)}}}function O(e,n){var r=n.method,i=e.iterator[r];if(i===t)return n.delegate=null,"throw"===r&&e.iterator.return&&(n.method="return",n.arg=t,O(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),g;var o=f(i,e.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,g;var a=o.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,g):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,g)}function T(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function C(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function j(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(T,this),this.reset(!0)}function M(e){if(e||""===e){var n=e[a];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var i=-1,o=function n(){for(;++i<e.length;)if(r.call(e,i))return n.value=e[i],n.done=!1,n;return n.value=t,n.done=!0,n};return o.next=o}}throw new TypeError(ln(e)+" is not iterable")}return y.prototype=b,i(k,"constructor",{value:b,configurable:!0}),i(b,"constructor",{value:y,configurable:!0}),y.displayName=c(b,u,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===y||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,c(t,u,"GeneratorFunction")),t.prototype=Object.create(k),t},e.awrap=function(t){return{__await:t}},S(P.prototype),c(P.prototype,s,(function(){return this})),e.AsyncIterator=P,e.async=function(t,n,r,i,o){void 0===o&&(o=Promise);var a=new P(l(t,n,r,i),o);return e.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},S(k),c(k,u,"Generator"),c(k,a,(function(){return this})),c(k,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},e.values=M,j.prototype={constructor:j,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(C),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function i(r,i){return s.type="throw",s.arg=e,n.next=r,i&&(n.method="next",n.arg=t),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],s=a.completion;if("root"===a.tryLoc)return i("end");if(a.tryLoc<=this.prev){var u=r.call(a,"catchLoc"),c=r.call(a,"finallyLoc");if(u&&c){if(this.prev<a.catchLoc)return i(a.catchLoc,!0);if(this.prev<a.finallyLoc)return i(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return i(a.catchLoc,!0)}else{if(!c)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return i(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,g):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),g},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),C(n),g}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var i=r.arg;C(n)}return i}}throw Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:M(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),g}},e}function hn(t,e,n,r,i,o,a){try{var s=t[o](a),u=s.value}catch(t){return void n(t)}s.done?e(u):Promise.resolve(u).then(r,i)}function dn(t){return function(){var e=this,n=arguments;return new Promise((function(r,i){var o=t.apply(e,n);function a(t){hn(o,r,i,a,s,"next",t)}function s(t){hn(o,r,i,a,s,"throw",t)}a(void 0)}))}}function pn(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function vn(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=un.extend(!0,{},vn.defaultOptions,t,vn.optionOverrides);this.setup(e)}function gn(t,e,n){var r,i,o,a,s,u,c,l;i=n,o=function(t){return t.br},a=vn,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:n,u=function(t){return t._overrideable[e]},c=(r=t).prototype[i],l=function(){return c.apply(u(this),arguments)},Object.defineProperty(a.prototype,s,{get:function(){return l},set:function(t){r.prototype[i]=function(){var e=this instanceof r?o(this):this;return t.apply(e,arguments)},l=t}})}vn.version="5.0.0-85",vn.constMode1up=1,vn.constMode2up=2,vn.constModeThumb=3,vn.imageCache=null,vn.constNavAnimationDuration=300,vn.constResizeAnimationDuration=100,vn.eventNames=e,vn.defaultOptions=d,vn.optionOverrides={},vn.prototype.setup=function(t){this.options=t,this.numLeafs=void 0,this.enableSearch=!1,this.viewModeOrder=[],this.suppressFragmentChange=!1,this.animationFinishedCallback=null,this.constMode1up=vn.constMode1up,this.constMode2up=vn.constMode2up,this.constModeThumb=vn.constModeThumb,this.reduce=8,this.defaults=t.defaults,this.padding=t.padding,this.reduceSet=Je[t.reduceSet],this.reduceSet||(console.warn("Invalid reduceSet ".concat(t.reduceSet,". Ignoring.")),this.reduceSet=Je[d.reduceSet]),this.mode=null,this.prevReadMode=null,this.ui=t.ui,this.uiAutoHide=t.uiAutoHide,this.thumbWidth=100,this.thumbRowBuffer=t.thumbRowBuffer,this.thumbColumns=t.thumbColumns,this.thumbMaxLoading=t.thumbMaxLoading,this.thumbPadding=t.thumbPadding,this.displayedRows=[],this.displayedIndices=[],this.animating=!1,this.flipSpeed="number"==typeof t.flipSpeed?t.flipSpeed:{fast:200,slow:600}[t.flipSpeed]||400,this.flipDelay=t.flipDelay,this.firstIndex=null,this.isFullscreenActive=t.startFullscreen||!1,this.lastScroll=null,this.showLogo=t.showLogo,this.logoURL=t.logoURL,this.imagesBaseURL=t.imagesBaseURL,this.reductionFactors=t.reductionFactors,this.onePage=t.onePage,this.twoPage=t.twoPage,this.onePageMinBreakpoint=t.onePageMinBreakpoint,this.bookTitle=t.bookTitle,this.bookUrl=t.bookUrl,this.bookUrlText=t.bookUrlText,this.bookUrlTitle=t.bookUrlTitle,this.titleLeaf=t.titleLeaf,this.metadata=t.metadata,this.thumbnail=t.thumbnail,this.bookUrlMoreInfo=t.bookUrlMoreInfo,this.enableExperimentalControls=t.enableExperimentalControls,this.el=t.el,this.pageProgression=t.pageProgression,this.protected=t.protected,this.getEmbedCode=t.getEmbedCode,this.popup=null,this.data=t.data,this.refs={},this.book=new j(this),t.getNumLeafs&&(this.book.getNumLeafs=t.getNumLeafs.bind(this)),t.getPageWidth&&(this.book.getPageWidth=t.getPageWidth.bind(this)),t.getPageHeight&&(this.book.getPageHeight=t.getPageHeight.bind(this)),t.getPageURI&&(this.book.getPageURI=t.getPageURI.bind(this)),t.getPageSide&&(this.book.getPageSide=t.getPageSide.bind(this)),t.getPageNum&&(this.book.getPageNum=t.getPageNum.bind(this)),t.getPageProp&&(this.book.getPageProp=t.getPageProp.bind(this)),t.getSpreadIndices&&(this.book.getSpreadIndices=t.getSpreadIndices.bind(this)),t.leafNumToIndex&&(this.book.leafNumToIndex=t.leafNumToIndex.bind(this)),this._components={navbar:new s(this),toolbar:new w(this)},this._modes={mode1Up:new ae(this,this.book),mode2Up:new ze(this,this.book),modeThumb:new qe(this,this.book)},this._overrideable={book:this.book,"_components.navbar":this._components.navbar,"_components.toolbar":this._components.toolbar,"_modes.mode1Up":this._modes.mode1Up,"_modes.mode2Up":this._modes.mode2Up,"_modes.modeThumb":this._modes.modeThumb},this.imageCache=new an(this.book,{useSrcSet:this.options.useSrcSet,reduceSet:this.reduceSet}),this.hasKeyFocus=!0},vn.prototype.getActivePageContainerElements=function(){var t=Object.values(this._modes.mode2Up.mode2UpLit.pageContainerCache).map((function(t){return t.$container[0]})).concat(Object.values(this._modes.mode1Up.mode1UpLit.pageContainerCache).map((function(t){return t.$container[0]})));return this.mode==this.constModeThumb&&(t=t.concat(this.$(".BRpagecontainer").toArray())),t},vn.prototype.getActivePageContainerElementsForIndex=function(t){var e,n,r;return[null===(e=this._modes.mode2Up.mode2UpLit.pageContainerCache[t])||void 0===e||null===(e=e.$container)||void 0===e?void 0:e[0],null===(n=this._modes.mode1Up.mode1UpLit.pageContainerCache[t])||void 0===n||null===(n=n.$container)||void 0===n?void 0:n[0]].concat((r=this.mode==this.constModeThumb?this.$(".pagediv".concat(t)).toArray():[],function(t){if(Array.isArray(t))return pn(t)}(r)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(r)||function(t,e){if(t){if("string"==typeof t)return pn(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?pn(t,e):void 0}}(r)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())).filter((function(t){return t}))},Object.defineProperty(vn.prototype,"activeMode",{get:function(){return{1:this._modes.mode1Up,2:this._modes.mode2Up,3:this._modes.modeThumb}[this.mode]}}),vn.util=t,vn.prototype.extendParams=function(t,e){var n=cn.extend({},e);if(void 0!==n.page){var r=this.book.parsePageString(n.page);isNaN(r)||(n.index=r),delete n.page}cn.extend(t,n)},vn.prototype.initParams=function(){var e={init:!0,pageFound:!1,fragmentChange:!1};if(void 0!==this.titleLeaf&&this.book.getNumLeafs()>2?e.index=this.book.leafNumToIndex(this.titleLeaf):e.index=0,this.defaults){var n=this.paramsFromFragment(this.defaults);void 0!==n.page&&(e.pageFound=!0),this.extendParams(e,n)}if(this.options.enablePageResume){var r=this.getResumeValue();null!==r&&(e.index!==r&&(e.fragmentChange=!0),e.index=r)}if(this.options.enableUrlPlugin){var i=this.paramsFromFragment(this.urlReadFragment());!Object.keys(i).length&&this.urlReadHashFragment()&&"history"===this.options.urlMode&&(i=this.paramsFromFragment(this.urlReadHashFragment())),Object.keys(i).length&&(void 0!==i.page&&(e.pageFound=!0),this.extendParams(e,i),e.fragmentChange=!0)}if(this.options.enableSearch&&(this.options.goToFirstResult=!e.pageFound,!this.options.initialSearchTerm))if(e.search)this.options.initialSearchTerm=e.search,this.searchTerm=e.search;else{var o=new URLSearchParams(this.readQueryString()).get("q");o&&(this.options.initialSearchTerm=t.decodeURIComponentPlus(o))}return this.suppressFragmentChange=!e.fragmentChange,e},vn.prototype.getLocationSearch=function(){return window.location.search},vn.prototype.getLocationHash=function(){return window.location.hash},vn.prototype.readQueryString=function(){var t=this.getLocationSearch();if(t)return t;var e=this.getLocationHash(),n=e.search(/\?\w+=/);return n>-1?e.slice(n):""},vn.prototype.getInitialMode=function(t){var e,n=cn(window).width(),r=n&&n<=this.onePageMinBreakpoint;if(e=t.mode?t.mode:r?this.constMode1up:this.constMode2up,this.canSwitchToMode(e)||(e=this.constMode1up),this.options.defaults)try{e=function(t){var e={"mode/1up":1,"mode/2up":2,"mode/thumb":3};if(!(t in e))throw new p("Invalid mode string: ".concat(t));return e[t]}(this.options.defaults)}catch(t){}return e},vn.prototype.init=function(){this.init.initComplete=!1,this.pageScale=this.reduce;var t=this.initParams();this.firstIndex=t.index?t.index:0,this.isTouchDevice=!!("ontouchstart"in window)||!!("msmaxtouchpoints"in window.navigator),this.refs.$br=cn(this.el).empty().removeClass().addClass("ui-"+this.ui).addClass("br-ui-"+this.ui).addClass("BookReader"),this.isTouchDevice?this.refs.$br.addClass("touch"):this.refs.$br.addClass("no-touch"),this.refs.$brContainer=cn("<div class='BRcontainer' dir='ltr'></div>"),this.refs.$br.append(this.refs.$brContainer),t.mode=this.getInitialMode(t),this.mode=t.mode,this.options.showToolbar&&this.initToolbar(this.mode,this.ui),this.options.showNavbar&&this.initNavbar(),this._components.navbar.switchNavbarControls(),this.resizeBRcontainer(),this.updateFromParams(t),this.initUIStrings(),this.bindNavigationHandlers(),this.setupKeyListeners(),this.lastScroll=(new Date).getTime(),this.refs.$brContainer.on("scroll",this,(function(t){t.data.lastScroll=(new Date).getTime(),t.data.constModeThumb==t.data.mode&&t.data.drawLeafsThrottled()})),this.options.autoResize&&(cn(window).on("resize",this,(function(t){t.data.resize()})),cn(window).on("orientationchange",this,function(t){t.data.resize()}.bind(this))),this.protected&&this.$(".BRicon.share").hide(),this.options.initialSearchTerm||(this.suppressFragmentChange=!1),this.options.startFullscreen&&this.enterFullscreen(!0),this.init.initComplete=!0,this.trigger(vn.eventNames.PostInit)},vn.prototype.trigger=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this,r="BookReader:"+e;t.polyfillCustomEvent(window),window.dispatchEvent(new CustomEvent(r,{bubbles:!0,composed:!0,detail:{props:n}})),cn(document).trigger(r,n)},vn.prototype.bind=function(t,e){cn(document).on("BookReader:"+t,e)},vn.prototype.unbind=function(t,e){cn(document).off("BookReader:"+t,e)},vn.prototype.resize=function(){this.init.initComplete&&(this.resizeBRcontainer(),this._components.navbar.switchNavbarControls(),this.constMode1up==this.mode?"none"!=this.onePage.autofit?(this._modes.mode1Up.resizePageView(),this.centerPageView()):(this.centerPageView(),this.displayedIndices=[],this.drawLeafsThrottled()):this.constModeThumb==this.mode?this._modes.modeThumb.prepare():this._modes.mode2Up.resizePageView(),this.trigger(vn.eventNames.resize))},vn.prototype.setupKeyListeners=function(){var e=this;window.IntersectionObserver&&new IntersectionObserver((function(t){t.forEach((function(t){0===t.intersectionRatio?e.hasKeyFocus=!1:e.hasKeyFocus=!0}))}),{root:null,rootMargin:"0px",threshold:[0,.05,1]}).observe(this.refs.$br[0]),document.addEventListener("keydown",(function(n){if(e.hasKeyFocus&&!(n.getModifierState("Control")||n.getModifierState("Alt")||n.getModifierState("Meta")||n.getModifierState("Win")||t.isInputActive()))switch(n.key){case"Home":n.preventDefault(),e.first();break;case"End":n.preventDefault(),e.last();break;case"ArrowDown":case"PageDown":case"Down":e.constMode2up===e.mode&&(n.preventDefault(),e.next());break;case"ArrowUp":case"PageUp":case"Up":e.constMode2up===e.mode&&(n.preventDefault(),e.prev());break;case"ArrowLeft":case"Left":e.constModeThumb!=e.mode&&(n.preventDefault(),e.left());break;case"ArrowRight":case"Right":e.constModeThumb!=e.mode&&(n.preventDefault(),e.right());break;case"-":case"Subtract":n.preventDefault(),e.zoom(-1);break;case"+":case"=":case"Add":n.preventDefault(),e.zoom(1);break;case"F":case"f":n.preventDefault(),e.toggleFullscreen()}}))},vn.prototype.drawLeafs=function(){this.constMode1up!=this.mode&&this.activeMode.drawLeafs()},vn.prototype._createPageContainer=function(t){return new sn.LN(this.book.getPage(t,!1),{isProtected:this.protected,imageCache:this.imageCache,loadingImage:this.imagesBaseURL+"loading.gif"})},vn.prototype.bindGestures=function(t){var e=this,n=1;t.unbind("touchmove").bind("touchmove",(function(t){t.originalEvent.cancelable&&(n=t.originalEvent.touches.length),t.stopPropagation()})),t.unbind("gesturechange").bind("gesturechange",(function(t){t.preventDefault(),2!==n||(new Date).getTime()-e.lastScroll<500||(t.originalEvent.scale>1.5?e.zoom(1):t.originalEvent.scale<.6&&e.zoom(-1))}))},vn.prototype.drawLeafsThrottled=t.throttle(vn.prototype.drawLeafs,250),vn.prototype.zoom=function(t){var e;1==t?this.activeMode.zoom("in"):this.activeMode.zoom("out"),null===(e=this.textSelectionPlugin)||void 0===e||e.stopPageFlip(this.refs.$brContainer)},vn.prototype.resizeBRcontainer=function(t){t?this.refs.$brContainer.animate({top:this.getToolBarHeight(),bottom:this.getFooterHeight()},this.constResizeAnimationDuration,"linear"):this.refs.$brContainer.css({top:this.getToolBarHeight(),bottom:this.getFooterHeight()})},vn.prototype.centerPageView=function(){var t=this.refs.$brContainer.prop("scrollWidth"),e=this.refs.$brContainer.prop("clientWidth");t>e&&this.refs.$brContainer.prop("scrollLeft",(t-e)/2)},vn.prototype.quantizeReduce=function(t,e){for(var n=e[0].reduce,r=Math.abs(t-n),i=1;i<e.length;i++){var o=Math.abs(t-e[i].reduce);o<r&&(r=o,n=e[i].reduce)}return n},vn.prototype.nextReduce=function(t,e,n){if("in"===e){for(var r=0,i=1;i<n.length;i++)n[i].reduce<t&&(r=i);return n[r]}if("out"===e){for(var o=n.length-1,a=o,s=o;s>=0;s--)n[s].reduce>t&&(a=s);return n[a]}if("auto"===e){var u=n.find((function(t){return"auto"==t.autofit}));if(u)return u;for(var c=n.filter((function(t){var e=t.autofit;return"height"==e||"width"==e})),l=null,f=0;f<c.length;f++)(null===l||l.reduce<c[f].reduce)&&(l=c[f]);if(l)return l}else if("height"===e||"width"===e){var h=n.find((function(t){return t.autofit==e}));if(h)return h}return n[0]},vn.prototype._reduceSort=function(t,e){return t.reduce-e.reduce},vn.prototype.jumpToPage=function(t){var e=this.book.parsePageString(t);return void 0!==e&&(this.jumpToIndex(e),!0)},vn.prototype._isIndexDisplayed=function(t){return this.displayedIndices?this.displayedIndices.includes(t):this.currentIndex()==t},vn.prototype.jumpToIndex=function(t,e,n,r){var i=this.book.getPage(t);if(!i.isViewable&&i.unviewablesStart!=i.index){var o=this._isIndexDisplayed(i.unviewablesStart)?i.findNext({combineConsecutiveUnviewables:!0}).index:i.unviewablesStart;return this.jumpToIndex(o,e,n,r)}this.trigger(vn.eventNames.stop),this.activeMode.jumpToIndex(t,e,n,r)},vn.prototype.getPrevReadMode=function(t){return t===vn.constMode1up||t===vn.constMode2up?t:null===this.prevReadMode?vn.constMode1up:void 0},vn.prototype.switchMode=function(t){var e,n,r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=i.suppressFragmentChange,a=void 0!==o&&o;if(i.init,i.pageFound,this.init.initComplete){if(t===this.mode)return;if(!this.canSwitchToMode(t))return}this.trigger(vn.eventNames.stop),this.prevReadMode=this.getPrevReadMode(this.mode),this.mode!=t&&(null===(n=(r=this.activeMode).unprepare)||void 0===n||n.call(r)),this.mode=t,this.pageScale!==this.reduce&&(this.reduce=this.pageScale),this.constMode1up==t?this._modes.mode1Up.prepare():this.constModeThumb==t?(this.reduce=this.quantizeReduce(this.reduce,this.reductionFactors),this._modes.modeThumb.prepare()):this._modes.mode2Up.prepare(),this.suppressFragmentChange||a||this.trigger(vn.eventNames.fragmentChange);var s=t+"PageViewSelected";this.trigger(vn.eventNames[s]),null===(e=this.textSelectionPlugin)||void 0===e||e.stopPageFlip(this.refs.$brContainer)},vn.prototype.updateBrClasses=function(){var t={};t[this.constMode1up]="BRmode1up",t[this.constMode2up]="BRmode2up",t[this.constModeThumb]="BRmodeThumb",this.refs.$br.removeClass("BRmode1up BRmode2up BRmodeThumb").addClass(t[this.mode]),this.isFullscreen()?(this.refs.$br.addClass("fullscreenActive"),cn(document.body).addClass("BRfullscreenActive")):(this.refs.$br.removeClass("fullscreenActive"),cn(document.body).removeClass("BRfullscreenActive"))},vn.prototype.isFullscreen=function(){return this.isFullscreenActive},vn.prototype.toggleFullscreen=dn(fn().mark((function t(){var e,n=arguments;return fn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e=!(n.length>0&&void 0!==n[0])||n[0],!this.isFullscreen()){t.next=6;break}return t.next=4,this.exitFullScreen();case 4:t.next=8;break;case 6:return t.next=8,this.enterFullscreen(e);case 8:case"end":return t.stop()}}),t,this)}))),vn.prototype.enterFullscreen=dn(fn().mark((function t(){var e,n,r,i=this,o=arguments;return fn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=!(o.length>0&&void 0!==o[0])||o[0],this.refs.$br.addClass("BRfullscreenAnimation"),r=this.currentIndex(),n&&(this._fullscreenCloseHandler=function(t){27===t.keyCode&&i.toggleFullscreen()},cn(document).on("keyup",this._fullscreenCloseHandler)),cn(window).width()<=this.onePageMinBreakpoint&&this.switchMode(this.constMode1up),this.isFullscreenActive=!0,this.updateBrClasses(),!(this.activeMode instanceof ae)){t.next=13;break}return this.activeMode.mode1UpLit.scale=this.activeMode.mode1UpLit.computeDefaultScale(this.book.getPage(r)),this.activeMode.mode1UpLit.requestUpdate(),t.next=13,this.activeMode.mode1UpLit.updateComplete;case 13:return this.jumpToIndex(r),null===(e=this.textSelectionPlugin)||void 0===e||e.stopPageFlip(this.refs.$brContainer),this.trigger(vn.eventNames.fragmentChange),this.trigger(vn.eventNames.fullscreenToggled),t.next=19,new Promise((function(t){return setTimeout(t,0)}));case 19:this.resize(),this.refs.$br.removeClass("BRfullscreenAnimation");case 21:case"end":return t.stop()}}),t,this)}))),vn.prototype.exitFullScreen=dn(fn().mark((function t(){var e,n;return fn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.refs.$br.addClass("BRfullscreenAnimation"),cn(document).off("keyup",this._fullscreenCloseHandler),n=cn(window).width(),this.options.controls.twoPage.visible&&n<=this.onePageMinBreakpoint&&this.switchMode(this.constMode2up),this.isFullscreenActive=!1,this.trigger(vn.eventNames.fullscreenToggled),this.updateBrClasses(),t.next=10,new Promise((function(t){return setTimeout(t,0)}));case 10:if(this.resize(),!(this.activeMode instanceof ae)){t.next=16;break}return this.activeMode.mode1UpLit.scale=this.activeMode.mode1UpLit.computeDefaultScale(this.book.getPage(this.currentIndex())),this.activeMode.mode1UpLit.requestUpdate(),t.next=16,this.activeMode.mode1UpLit.updateComplete;case 16:null===(e=this.textSelectionPlugin)||void 0===e||e.stopPageFlip(this.refs.$brContainer),this.trigger(vn.eventNames.fragmentChange),this.refs.$br.removeClass("BRfullscreenAnimation");case 19:case"end":return t.stop()}}),t,this)}))),vn.prototype.currentIndex=function(){if(this.mode==this.constMode1up||this.mode==this.constModeThumb)return this.firstIndex;if(this.mode==this.constMode2up)return t.clamp(this.firstIndex,0,this.book.getNumLeafs()-1);throw"currentIndex called for unimplemented mode "+this.mode},vn.prototype.updateFirstIndex=function(t){var e=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).suppressFragmentChange,n=void 0!==e&&e;this.firstIndex!==t&&(this.firstIndex=t,this.suppressFragmentChange||n||this.trigger(vn.eventNames.fragmentChange),this.options.initialSearchTerm&&!n&&(this.suppressFragmentChange=!1),this.trigger(vn.eventNames.pageChanged),this.trigger(vn.eventNames.userAction),this._components.navbar.updateNavIndexThrottled(t))},vn.prototype.right=function(){"rl"!=this.pageProgression?this.next():this.prev()},vn.prototype.rightmost=function(){"rl"!=this.pageProgression?this.last():this.first()},vn.prototype.left=function(){"rl"!=this.pageProgression?this.prev():this.next()},vn.prototype.leftmost=function(){"rl"!=this.pageProgression?this.first():this.last()},vn.prototype.next=function(){var t=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).triggerStop,e=void 0===t||t;this.constMode2up==this.mode?(e&&this.trigger(vn.eventNames.stop),this._modes.mode2Up.mode2UpLit.flipAnimation("next")):this.firstIndex<this.book.getNumLeafs()-1&&this.jumpToIndex(this.firstIndex+1)},vn.prototype.prev=function(){var t=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).triggerStop,e=void 0===t||t;this.firstIndex<1||(this.constMode2up==this.mode?(e&&this.trigger(vn.eventNames.stop),this._modes.mode2Up.mode2UpLit.flipAnimation("prev")):this.firstIndex>=1&&this.jumpToIndex(this.firstIndex-1))},vn.prototype.first=function(){this.jumpToIndex(0)},vn.prototype.last=function(){this.jumpToIndex(this.book.getNumLeafs()-1)},vn.prototype.initNavbar=s.prototype.init,gn(s,"_components.navbar","init","initNavbar"),vn.prototype.buildToolbarElement=w.prototype.buildToolbarElement,gn(w,"_components.toolbar","buildToolbarElement"),vn.prototype.initToolbar=w.prototype.initToolbar,gn(w,"_components.toolbar","initToolbar"),vn.prototype.buildShareDiv=w.prototype.buildShareDiv,gn(w,"_components.toolbar","buildShareDiv"),vn.prototype.buildInfoDiv=w.prototype.buildInfoDiv,gn(w,"_components.toolbar","buildInfoDiv"),vn.prototype.getToolBarHeight=w.prototype.getToolBarHeight,gn(w,"_components.toolbar","getToolBarHeight"),vn.prototype.bindNavigationHandlers=function(){var t=this,e=this,n=this.$(".BRicon"),r={book_left:function(){t.trigger(vn.eventNames.stop),t.left()},book_right:function(){t.trigger(vn.eventNames.stop),t.right()},book_top:this.first.bind(this),book_bottom:this.last.bind(this),book_leftmost:this.leftmost.bind(this),book_rightmost:this.rightmost.bind(this),onepg:function(){t.switchMode(e.constMode1up)},thumb:function(){t.switchMode(e.constModeThumb)},twopg:function(){t.switchMode(e.constMode2up)},zoom_in:function(){t.trigger(vn.eventNames.stop),t.zoom(1),t.trigger(vn.eventNames.zoomIn)},zoom_out:function(){t.trigger(vn.eventNames.stop),t.zoom(-1),t.trigger(vn.eventNames.zoomOut)},full:function(){if("embed"==t.ui){var e=t.$(".BRembedreturn a").attr("href");window.open(e)}else t.toggleFullscreen()}};this.$("nav.BRcontrols li button").on("click",(function(){t.trigger(vn.eventNames.userAction)}));var i=function(t){n.filter(".".concat(t)).on("click.bindNavigationHandlers",(function(){return r[t](),!1}))};for(var o in r)i(o);var a=this.$(".BRnavCntlBtm"),s=this.$(".BRnavCntlTop");this.$(".BRnavCntl").click((function(){var t=[];a.hasClass("BRdn")?(e.refs.$BRtoolbar&&t.push(e.refs.$BRtoolbar.animate({top:-1*e.getToolBarHeight()}).promise()),t.push(e.$(".BRfooter").animate({bottom:-1*e.getFooterHeight()}).promise()),a.addClass("BRup").removeClass("BRdn"),s.addClass("BRdn").removeClass("BRup"),e.$(".BRnavCntlBtm.BRnavCntl").animate({height:"45px"}),e.$(".BRnavCntl").delay(1e3).animate({opacity:.75},1e3)):(e.refs.$BRtoolbar&&t.push(e.refs.$BRtoolbar.animate({top:0}).promise()),t.push(e.$(".BRfooter").animate({bottom:0}).promise()),a.addClass("BRdn").removeClass("BRup"),s.addClass("BRup").removeClass("BRdn"),e.$(".BRnavCntlBtm.BRnavCntl").animate({height:"30px"}),e.$(".BRvavCntl").animate({opacity:1})),cn.when.apply(cn,t).done((function(){e.mode==e.constMode2up&&null!=e.twoPage.autofit&&"none"!=e.twoPage.autofit||e.mode==e.constMode1up&&null!=e.onePage.autofit&&"none"!=e.onePage.autofit?e.resize():e.resizeBRcontainer()}))})),a.on("mouseover",(function(){cn(this).hasClass("BRup")&&e.$(".BRnavCntl").animate({opacity:1},250)})).on("mouseleave",(function(){cn(this).hasClass("BRup")&&e.$(".BRnavCntl").animate({opacity:.75},250)})),s.on("mouseover",(function(){cn(this).hasClass("BRdn")&&e.$(".BRnavCntl").animate({opacity:1},250)})).on("mouseleave",(function(){cn(this).hasClass("BRdn")&&e.$(".BRnavCntl").animate({opacity:.75},250)}))},vn.prototype.getPageURI=j.prototype.getPageURI,gn(j,"book","getPageURI"),vn.prototype.updateFromParams=function(t){var e=t.mode,n=void 0===e?0:e,r=t.init,i=void 0!==r&&r,o=t.fragmentChange,a=void 0!==o&&o;n&&this.switchMode(n,{init:i,suppressFragmentChange:!a}),void 0!==t.index?t.index!=this.currentIndex()&&this.jumpToIndex(t.index):void 0!==t.page&&t.page!=this.book.getPageNum(this.currentIndex())&&this.jumpToPage(t.page),this.enableSearch&&void 0!==t.search&&this.searchTerm!==t.search&&this.$(".BRsearchInput").val(t.search),this.enableThemesPlugin&&void 0!==t.theme&&this.updateTheme(t.theme)},vn.prototype.canSwitchToMode=function(t){return t!=this.constMode2up&&t!=this.constModeThumb||!(this.book.getNumLeafs()<2)},vn.prototype._getPageURI=function(t,e,n){var r=this.book.getPage(t,!1);return r?(void 0===e&&(e=r.height/this.twoPage.height),r.getURI(e,n)):this.imagesBaseURL+"transparent.png"},vn.prototype.showProgressPopup=function(t,e){var n=this;if(!this.popup){if(this.popup=document.createElement("div"),cn(this.popup).prop("className","BRprogresspopup"),"function"==typeof e){var r=document.createElement("button");r.setAttribute("title","close"),r.setAttribute("class","close-popup");var i=document.createElement("span");i.setAttribute("class","icon icon-close-dark"),cn(r).append(i),r.addEventListener("click",(function(){e(),n.removeProgressPopup()})),cn(this.popup).append(r)}var o=document.createElement("div");if(cn(o).css({height:"20px"}).prop("className","BRprogressbar"),cn(this.popup).append(o),t){var a=document.createElement("div");a.innerHTML=t,cn(this.popup).append(a)}cn(this.popup).appendTo(this.refs.$br)}},vn.prototype.removeProgressPopup=function(){cn(this.popup).remove(),this.$(".BRprogresspopup").remove(),this.popup=null},vn.prototype.initUIStrings=function(){var t={".logo":"Go to Archive.org",".zoom_in":"Zoom in",".zoom_out":"Zoom out",".onepg":"One-page view",".twopg":"Two-page view",".thumb":"Thumbnail view",".print":"Print this page",".embed":"Embed BookReader",".link":"Link to this book (and page)",".bookmark":"Bookmark this page",".share":"Share this book",".info":"About this book",".full":"Toggle fullscreen",".book_left":"Flip left",".book_right":"Flip right",".play":"Play",".pause":"Pause",".BRdn":"Show/hide nav bar",".BRup":"Show/hide nav bar",".book_top":"First page",".book_bottom":"Last page",".book_leftmost":"First page",".book_rightmost":"Last page"};for(var e in"rl"==this.pageProgression&&(t[".book_leftmost"]="Last page",t[".book_rightmost"]="First page"),t)this.$(e).prop("title",t[e])},vn.prototype.reloadImages=function(){this.refs.$brContainer.find("img").each((function(t,e){if(!e.complete||0===e.naturalHeight){var n=e.src;e.src="",setTimeout((function(){e.src=n}),1e3)}}))},vn.prototype.getFooterHeight=function(){var t=this.mode==this.constMode2up?this.refs.$BRfooter:this.refs.$BRnav;if(t&&this.refs.$BRfooter){var e=t.outerHeight(),n=parseInt(this.refs.$BRfooter.css("bottom"));if(!isNaN(e)&&!isNaN(n))return e+n}return 0},vn.prototype.paramsFromCurrent=function(){var t={},e=this.currentIndex(),n=this.book.getPageNum(e);return(0===n||n)&&(t.page=n),t.index=e,t.mode=this.mode,this.isFullscreenActive&&(t.view="theater"),this.enableSearch&&(t.search=this.searchTerm),t},vn.prototype.paramsFromFragment=function(e){var n={};"#"==e.substr(0,1)&&(e=e.substr(1));var r=parseInt(/^\d+$/.exec(e));if(!isNaN(r))return n.index=r,n;for(var i=e.split("/"),o={},a=0;a<i.length;a+=2)o[i[a]]=i[a+1];return"1up"==o.mode?n.mode=this.constMode1up:"2up"==o.mode?n.mode=this.constMode2up:"thumb"==o.mode&&(n.mode=this.constModeThumb),void 0!==o.page&&(n.page=decodeURIComponent(o.page)),null!=o.search&&(n.search=t.decodeURIComponentPlus(o.search)),null!=o.theme&&(n.theme=o.theme),n},vn.prototype.fragmentFromParams=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"hash",r=[];if(void 0!==e.page?r.push("page",encodeURIComponent(e.page)):void 0!==e.index&&r.push("page","n"+e.index),void 0!==e.mode)if(e.mode==this.constMode1up)r.push("mode","1up");else if(e.mode==this.constMode2up)r.push("mode","2up");else{if(e.mode!=this.constModeThumb)throw"fragmentFromParams called with unknown mode "+e.mode;r.push("mode","thumb")}return e.search&&"hash"===n&&r.push("search",t.encodeURIComponentPlus(e.search)),r.join("/")},vn.prototype.queryStringFromParams=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"hash",r=new URLSearchParams(e);t.view?r.set("view",t.view):r.delete("view"),t.search&&"history"===n&&r.set("q",t.search);var i=r.toString();return i?"?"+i:""},vn.prototype.$=function(t){return this.refs.$br.find(t)},window.BookReader=vn}(),i=r.O(i)}();
//# sourceMappingURL=BookReader.js.map